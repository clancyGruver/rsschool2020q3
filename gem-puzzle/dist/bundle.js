(()=>{"use strict";(()=>{function t(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],o=!0,i=!1,n=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);o=!0);}catch(t){i=!0,n=t}finally{try{o||null==s.return||s.return()}finally{if(i)throw n}}return r}}(t,e)||o(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||o(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function n(o,i,n,a){var s,l,c=null,u=["draggable","value","id","placeholder","cols","rows","autocorrect","spellcheck","src"];try{c=document.createElement(o)}catch(t){throw new Error("Unable to create HTML element ".concat(o))}i&&(Array.isArray(i)?(s=c.classList).add.apply(s,r(i)):(l=c.classList).add.apply(l,r(i.split(" ")))),n&&Array.isArray(n)?n.forEach((function(t){return t&&c.append(t)})):n&&"object"===e(n)?c.append(n):n&&"string"==typeof n&&(c.innerHTML=n),a&&a.appendChild(c);for(var h=arguments.length,d=new Array(h>4?h-4:0),v=4;v<h;v++)d[v-4]=arguments[v];return d.length&&d.forEach((function(e){var r=t(e,2),o=r[0],i=r[1];""===i?c.setAttribute(o,""):u.includes(o)?c.setAttribute(o,i):c.dataset[o]=i})),c}function a(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.boardSize=e,this.fieldSizeButtons=[],this.optionButtons={},this.movesCount=0,this.sounds={}}var e,r,o;return e=t,o=[{key:"createIcon",value:function(t){return n("i","material-icons",t)}},{key:"createTimeFromSeconds",value:function(e){var r=parseInt(e,10),o=Math.floor(r/60);return r%=60,{minutes:t.addZero(o),seconds:t.addZero(r)}}},{key:"addZero",value:function(t){return parseInt(t,10)<10?"0".concat(t):t}}],(r=[{key:"init",value:function(){document.body.prepend(this.createHeader(),this.createMainContent(),this.createFooter(),this.createSound())}},{key:"setBoardSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&(this.boardSize=t),this.statisticsFieldSize.textContent="".concat(this.boardSize," X ").concat(this.boardSize)}},{key:"createHeader",value:function(){var t=this.createStatistics(),e=this.createOptions(),r=n("h1","header__caption");r.textContent="gem puzzle";var o=n("div","header__container",[r,e,t]);return n("header","header",o)}},{key:"createMainContent",value:function(){var t=n("div","container"),e=n("main","main",t);return this.mainContent=t,e}},{key:"createFooter",value:function(){for(var t=3;t<9;t+=1){var e=[["type","button"],["size",t]],r=n.apply(void 0,["button","field__list--btn",null,null].concat(e));r.textContent="".concat(t," X ").concat(t),this.fieldSizeButtons[t]=n("li","field__list--element",r)}var o=n("div","field__list",this.fieldSizeButtons),i=n("div","footer__container",o);return n("footer","footer",i)}},{key:"setScore",value:function(t){this.score.textContent=t}},{key:"createOptions",value:function(){var e=this,r={new:"replay",save:"save_alt",load:"publish",results:"receipt",sound:"music_note",solve:"done_outline"},o=Object.keys(r).map((function(o){var i=[["type","button"],["id",o]],a=n.apply(void 0,["button","field__list--btn",null,null].concat(i)),s=r[o];return a.appendChild(t.createIcon(s)),e.optionButtons[o]=a,n("li","field__list--element",a)})),i=n("ul","field__list",o);return n("div","options",i)}},{key:"createStatistics",value:function(){var t=n("div","statistics__right-side",[this.createMoves(),this.createTimer(),this.createScore()]);this.statisticsFieldSize=n("h2","field-size");var e=n("div","statistics__left-side",this.statisticsFieldSize);return this.setBoardSize(),n("div","statistics",[e,t])}},{key:"createScore",value:function(){var t=n("span","score__text");return t.textContent="score",this.score=n("span","score__value"),n("div","score",[t,this.score])}},{key:"createMoves",value:function(){var t=n("span","moves__text");t.textContent="moves";var e=n("span","moves__move-count");return e.textContent="00",this.movesElement=e,n("div","moves",[t,e])}},{key:"createTimer",value:function(){var t=n("span","time__text");t.textContent="time ";var e=n("span","time__timer--minutes");e.textContent="00",this.minutesContainer=e;var r=n("span","time__timer--seconds");r.textContent="00",this.secondsContainer=r;var o=n("span","time__timer--colon");o.textContent=":";var i=n("div","time__timer",[e,o,r]);return n("div","time",[t,i])}},{key:"getMoves",value:function(){return this.movesCount}},{key:"getTime",value:function(){return"".concat(this.minutesContainer.textContent,":").concat(this.secondsContainer.textContent)}},{key:"setTime",value:function(e){var r=t.createTimeFromSeconds(e),o=r.minutes,i=r.seconds;this.minutesContainer.textContent=o,this.secondsContainer.textContent=i}},{key:"setMoves",value:function(e){this.movesElement.textContent=t.addZero(e)}},{key:"getFieldSizeButtons",value:function(){return this.fieldSizeButtons}},{key:"createSound",value:function(){var t="./assets/sounds/",e=n("div","sound-container");return this.sounds.move=n("audio","",null,e,["src","".concat(t,"move.mp3")]),this.sounds.applause=n("audio","",null,e,["src","".concat(t,"applause.wav")]),e}}])&&a(e.prototype,r),o&&a(e,o),t}();const l=function(t,e){var r=parseInt(t,10),o=parseInt(e,10);if(!Number.isInteger(r)||!Number.isInteger(o))throw new Error("Irregular input");return Math.floor(Math.random()*(e-t+1))+t};function c(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var u=function(){function t(e,r,o,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value=e,this.state=r,this.emptyRow=o,this.emptyCol=i,this.moves=n,this.size=this.state.length,this.hash=this.toString(),this.path=""}var e,r;return e=t,(r=[{key:"toString",value:function(){var t="";return this.state.forEach((function(e){e.forEach((function(e){t="".concat(t,",").concat(e)}))})),t.slice(1)}},{key:"getClonedState",value:function(){return JSON.parse(JSON.stringify(this.state))}}])&&c(e.prototype,r),t}();function h(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function v(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var f=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,r=[{key:"getManhattanDistance",value:function(e,r){var o=0;return e.forEach((function(e,i){e.forEach((function(e,n){var a={x:i,y:n},s=t.getGoalPosition(e,r);o+=t.manhattan(a,s)}))})),o}},{key:"getGoalPosition",value:function(t,e){for(var r=e.length,o=0;o<r;o+=1)for(var i=0;i<r;i+=1)if(e[o][i]===t)return{x:o,y:i};return!1}},{key:"manhattan",value:function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}},{key:"linearConflict",value:function(e){for(var r=0,o=e.length,i=t.getSolvedArrays(o),n=0;n<o;n+=1){var a=h(e[n]),s=t.getColCandidate(e,n);r+=t.countConflicts(a,i.rows[n],o),r+=t.countConflicts(s,i.cols[n],o)}return r}},{key:"getSolvedArrays",value:function(t){for(var e={rows:[],cols:[]},r=function(r){e.rows[r]=h(Array(t).keys()).map((function(e){return r*t+e+1})),e.cols[r]=h(Array(t).keys()).map((function(e){return r+1+e*t})),r===t-1&&(e.rows[r][t-1]="icon",e.cols[r][t-1]="icon")},o=0;o<t;o+=1)r(o);return e}},{key:"getColCandidate",value:function(t,e){return h(Array(t.size).keys()).map((function(r){return t[r][e]}))}},{key:"countConflicts",value:function(t,e,r){for(var o=0,i=0;i<r;i+=1){var n=t[i];if(e.includes(n))for(var a=i+1;a<r;a+=1){var s=t[a];if(e.includes(s)){var l=e.indexOf(n),c=e.indexOf(s);n>s&&i<a&&l>c&&(o+=2)}}}return o}}],null&&v(e.prototype,null),r&&v(e,r),t}();function y(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var m=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.items=[]}var e,r;return e=t,(r=[{key:"swap",value:function(t,e){var r=[this.items[e],this.items[t]];this.items[t]=r[0],this.items[e]=r[1]}},{key:"bubbleUp",value:function(){for(var t=this.size()-1;t>0;){var e=Math.floor((t-1)/2);if(!(this.items[e].value>this.items[t].value))break;this.swap(e,t),t=e}}},{key:"bubbleDown",value:function(){for(var t=0,e=this.size(),r=this.items[0].value,o=!0;o;){var i=2*t+1,n=2*t+2,a=void 0,s=void 0,l=null;i<e&&(a=this.items[i].value)<r&&(l=i),n<e&&((s=this.items[n].value)<r&&null===l||s<a&&null!==l)&&(l=n),null===l?o=!1:(this.swap(t,l),t=l)}}},{key:"enqueue",value:function(t){this.items.push(t),this.bubbleUp()}},{key:"dequeue",value:function(){this.swap(0,this.size()-1);var t=this.items.pop();return this.items.length>1&&this.bubbleDown(),t}},{key:"isEmpty",value:function(){return 0===this.items.length}},{key:"size",value:function(){return this.items.length}},{key:"toString",value:function(){var t="";this.items.forEach((function(e){t="".concat(t,", ").concat(e)}))}}])&&y(e.prototype,r),t}();function p(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var b=function(){function t(e,r,o){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.state)this.initial=e;else{var i=t.findEmptyColRow(e,o);this.initial=new u(0,e,i.row,i.col,0)}if(r.state)this.goal=r;else{var n=t.findEmptyColRow(r,o);this.goal=new u(0,r,n.row,n.col,0)}this.empty=o,this.queue=new m,this.queue.enqueue(this.initial),this.visited=new Set}var e,r,o;return e=t,o=[{key:"findEmptyColRow",value:function(t,e){var r={col:-1,row:-1};return t.forEach((function(t,o){t.forEach((function(t,i){t===e&&(r.col=i,r.row=o)}))})),r}},{key:"validMoves",value:function(t,e,r){var o=[];return 0!==t&&o.push("L"),t<r-1&&o.push("R"),0!==e&&o.push("T"),e<r-1&&o.push("B"),o}},{key:"oppositeMoves",value:function(t,e){var r=!1;return"L"===t&&"R"===e&&(r=!0),"R"===t&&"L"===e&&(r=!0),"T"===t&&"B"===e&&(r=!0),"B"===t&&"T"===e&&(r=!0),r}}],(r=[{key:"execute",value:function(){for(this.visited.add(this.initial.hash);this.queue.size()>0;){var t=this.queue.dequeue();if(t.hash===this.goal.hash)return t;this.expand(t)}return!1}},{key:"expand",value:function(e){var r=this,o=e.emptyCol,i=e.emptyRow,n=e.size,a=t.validMoves(o,i,n),s=e.path.split(""),l=s[s.length-1];l&&a.filter((function(e){return!t.oppositeMoves(e,l)})),a.forEach((function(t){var n=e.getClonedState(),a=i;"T"!==t&&"B"!==t||(a="T"===t?i-1:i+1);var s=o;"L"!==t&&"R"!==t||(s="L"===t?o-1:o+1);var l=n[a][s];n[a][s]=r.empty,n[i][o]=l;var c=new u(0,n,a,s,e.moves+1);return r.visited.has(c.hash)||(c.value=c.moves+r.heuristic(c),c.path="".concat(e.path).concat(t),r.queue.enqueue(c),r.visited.add(c.hash)),!0}))}},{key:"heuristic",value:function(t){return f.getManhattanDistance(t.state,this.goal.state)+f.linearConflict(t.state)}}])&&p(e.prototype,r),o&&p(e,o),t}();function g(t){return function(t){if(Array.isArray(t))return S(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return S(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function k(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var w=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.boardSize=e,this.board=n("div","board animate"),this.movable={},this.movableElements={},this.cells={},this.boardHTML=[],this.boardArray=[],this.empty={row:-1,cell:-1,val:"icon"},this.makeDraggable(r)}var e,r,o;return e=t,o=[{key:"isIcon",value:function(t){return"icon"===t}}],(r=[{key:"init",value:function(t){this.setImage(t),this.newGame()}},{key:"createSolver",value:function(){this.solver=new b(this.boardArray,this.get2dVictoryArray(),"icon")}},{key:"emptyBoard",value:function(){this.board.innerHTML=""}},{key:"newGame",value:function(){this.createBoard(),this.boardRender(),this.updateCellBackground()}},{key:"updateBoardHTML",value:function(){for(var t=0;t<this.boardSize;t+=1)this.board.append(this.boardHTML[t])}},{key:"initBoardArray",value:function(){this.boardArray=[];for(var t=1,e=0;e<this.boardSize;e+=1){for(var r=[],o=0;o<this.boardSize;o+=1)e===this.boardSize-1&&o===this.boardSize-1?r.push("icon"):(r.push(t),t+=1);this.boardArray.push(r)}this.victoryArray=[].concat([])}},{key:"boardRender",value:function(){var t=this;this.emptyBoard(),this.boardArray.forEach((function(e,r){t.boardHTML[r]=n("div","board__row"),e.forEach((function(e,o){var i=[["row","".concat(r)],["cell","".concat(o)]],a=n.apply(void 0,["div","board__cell",null,t.boardHTML[r]].concat(i));if("icon"===e)a.classList.add("board__cell--disabled"),t.emptyCell=a;else{var s="".concat(r,"_").concat(o);if(Object.keys(t.movable).includes(s)){var l=t.movable[s];a.classList.add("board__cell--active"),a.dataset.position=t.movable[s],a.dataset.value=e,a.draggable=!0,t.movableElements[l]=a}a.textContent=e}t.cells[e]=a}))})),this.updateBoardHTML()}},{key:"updateBoard",value:function(){var t=this;this.movableElements={},this.boardArray.forEach((function(e,r){e.forEach((function(e,o){var i=t.cells[e];if(i.style.top=0,i.style.left=0,"icon"===e)t.emptyCell=i;else{var n="".concat(r,"_").concat(o);if(Object.keys(t.movable).includes(n)){var a=t.movable[n];i.classList.add("board__cell--active"),i.dataset.position=a,i.draggable=!0,t.movableElements[a]=i}else i.classList.remove("board__cell--active"),i.draggable=!1;i.dataset.row=r,i.dataset.cell=o}t.boardHTML[r].appendChild(i)}))})),this.updateBoardHTML()}},{key:"setImage",value:function(t){this.image={src:t,img:n("img","actualImage",null,null,["src",t]),percent:100/this.boardSize}}},{key:"updateCellBackground",value:function(){for(var t=this.boardSize*this.boardSize,e=0;e<t-1;e+=1){var r="".concat(this.image.percent*(e%this.boardSize),"%"),o="".concat(this.image.percent*Math.floor(e/this.boardSize),"%");this.cells[e+1].style.backgroundImage="url(".concat(this.image.src,")"),this.cells[e+1].style.backgroundSize="".concat(5*(+this.boardSize+1),"rem"),this.cells[e+1].style.backgroundPositionX=r,this.cells[e+1].style.backgroundPositionY=o}}},{key:"createBoard",value:function(){this.initBoardArray(),this.randomize(),this.setEmptyCell()}},{key:"setEmptyCell",value:function(){for(var t=0;t<this.boardSize;t+=1)for(var e=0;e<this.boardSize;e+=1)this.boardArray[t][e]===this.empty.val&&(this.empty.row=t,this.empty.cell=e,this.updateMovableElements())}},{key:"disableMove",value:function(){this.movable={},this.movableElements={}}},{key:"updateMovableElements",value:function(){var t=parseInt(this.empty.row,10),e=parseInt(this.empty.cell,10);this.movable={},this.movable["".concat(t-1,"_").concat(e)]="top",this.movable["".concat(t+1,"_").concat(e)]="bottom",this.movable["".concat(t,"_").concat(e-1)]="left",this.movable["".concat(t,"_").concat(e+1)]="right"}},{key:"createShuffledArray",value:function(){for(var t=[],e=1,r=0;r<this.boardSize;r+=1)for(var o=0;o<this.boardSize;o+=1)r===this.boardSize-1&&o===this.boardSize-1?t.push("icon"):(t.push(e),e+=1);this.victoryArray=[].concat(t),this.boardArray=t;do{this.shuffle()}while(!this.isSolvable());var i=g(this.boardArray);this.boardArray=[];for(var n=0;n<this.boardSize;n+=1){for(var a=[],s=0;s<this.boardSize;s+=1)a.push(i[n*this.boardSize+s]);this.boardArray.push(a)}}},{key:"shuffle",value:function(){for(var t=[],e=g(this.boardArray);e.length>0;){var r=l(0,e.length-1),o=e.splice(r,1)[0];t.push(o)}this.boardArray=t}},{key:"move",value:function(t){var e=t,r=e.dataset,o=r.row,i=r.cell,n=r.position,a=this.boardArray[o][i];switch(n){case"left":this.emptyCell.style.left="-56px",e.style.left="56px";break;case"right":this.emptyCell.style.left="56px",e.style.left="-56px";break;case"top":this.emptyCell.style.top="-56px",e.style.top="56px";break;case"bottom":this.emptyCell.style.top="56px",e.style.top="-56px"}this.boardArray[o][i]="icon",this.boardArray[this.empty.row][this.empty.cell]=a,this.empty.row=o,this.empty.cell=i}},{key:"setSize",value:function(t){this.boardSize=t}},{key:"setBoardArray",value:function(t){this.boardArray=t,this.setEmptyCell(),this.boardRender()}},{key:"isSolvable",value:function(){for(var t,e=0,r=this.boardSize*this.boardSize,o=(t=[]).concat.apply(t,g(this.boardArray)),i=0;i<r;i+=1)if("icon"===o[i])e+=Math.floor(i/this.boardSize)+1;else for(var n=0;n<i;n+=1)e+=o[n]>o[i]?1:0;return e%2==0}},{key:"get2dVictoryArray",value:function(){this.victoryArray=[];for(var t=0;t<this.boardSize;t+=1){for(var e=[],r=0;r<this.boardSize;r+=1)e.push(t*this.boardSize+r+1);this.victoryArray.push(e)}return this.victoryArray[this.boardSize-1][this.boardSize-1]="icon",this.victoryArray}},{key:"createVictoryArray",value:function(){this.victoryArray=[];for(var t=0;t<this.boardSize;t+=1){for(var e=[],r=0;r<this.boardSize;r+=1)e.push(t*this.boardSize+r+1);this.victoryArray.push(e)}this.victoryArray[this.boardSize-1][this.boardSize-1]="icon"}},{key:"isSolved",value:function(){var t,e;this.victoryArray&&0!==this.victoryArray.length||this.createVictoryArray();for(var r=(t=[]).concat.apply(t,g(this.victoryArray)),o=(e=[]).concat.apply(e,g(this.boardArray)),i=this.boardSize*this.boardSize,n=0;n<i;n+=1)if(r[n]!==o[n])return!1;return!0}},{key:"makeDraggable",value:function(t){var e=this;this.board.addEventListener("dragstart",(function(t){e.draggedCell=t.target,setTimeout((function(){t.target.style.fontSize=0}),0)})),this.board.addEventListener("dragend",(function(){e.emptyCell===e.dragOverElement&&t({target:e.draggedCell}),e.draggedCell=null})),this.board.addEventListener("dragover",(function(t){t.preventDefault();var r=t.target;e.dragOverElement=r}))}},{key:"setBoardSize",value:function(t){this.boardSize=t}},{key:"randomize",value:function(){var t=Math.pow(this.boardSize,3);this.empty.row=this.boardSize-1,this.empty.col=this.boardSize-1;for(var e=null,r=0;r<t;r+=1){var o=this.validMoves();null!==e&&o.includes(e)&&o.splice(o.indexOf(e),1);var i=l(0,o.length-1),n=void 0,a=void 0;switch(o[i]){case"Up":n=this.empty.row-1,this.boardArray[this.empty.row][this.empty.col]=this.boardArray[n][this.empty.col],this.boardArray[n][this.empty.col]=this.empty.val,this.empty.row=n;break;case"Down":n=this.empty.row+1,this.boardArray[this.empty.row][this.empty.col]=this.boardArray[n][this.empty.col],this.boardArray[n][this.empty.col]=this.empty.val,this.empty.row=n;break;case"Left":a=this.empty.col-1,this.boardArray[this.empty.row][this.empty.col]=this.boardArray[this.empty.row][a],this.boardArray[this.empty.row][a]=this.empty.val,this.empty.col=a;break;case"Right":a=this.empty.col+1,this.boardArray[this.empty.row][this.empty.col]=this.boardArray[this.empty.row][a],this.boardArray[this.empty.row][a]=this.empty.val,this.empty.col=a}e=o[i]}}},{key:"validMoves",value:function(){var t=this.empty,e=t.row,r=t.col,o=[];return 0!==r&&o.push("Left"),r<this.boardSize-1&&o.push("Right"),0!==e&&o.push("Up"),e<this.boardSize-1&&o.push("Down"),o}}])&&k(e.prototype,r),o&&k(e,o),t}();function _(t,e){window.localStorage.setItem(t,JSON.stringify(e))}function C(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return JSON.parse(window.localStorage.getItem(t)||e)}function A(t){return Boolean(window.localStorage.getItem(t))}function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var L=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.header=null,this.modalText=null,this.modal=null}var e,r;return e=t,(r=[{key:"init",value:function(){var t=this;this.modal=n("div","modal"),this.modal.addEventListener("click",(function(e){e.target.closest(".modal__window")||t.close()}));var e=n("div","modal__window",null,this.modal);this.modalContainer=n("div","modal__window--container",null,e),this.createHeader(),this.createBody(),this.createFooter()}},{key:"confirm",value:function(t,e){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.header.textContent=t,this.body.textContent=e,this.modalContainer.appendChild(this.footer),document.body.appendChild(this.modal),this.confirmBtn.addEventListener("click",(function(){r.close(),"function"==typeof o&&o()})),this.dismissBtn.addEventListener("click",(function(){r.close(),"function"==typeof i&&i()}))}},{key:"show",value:function(t,e){this.header.textContent=t,z(e)===z("")?this.body.textContent=e:(this.body.textContent="",this.body.appendChild(e)),this.modalContainer.querySelector(".modal__window__footer")&&this.modalContainer.removeChild(this.footer),document.body.appendChild(this.modal)}},{key:"createHeader",value:function(){var t=this,e=n("div","modal__window__header",null,this.modalContainer);this.header=n("h3","modal__window__header--caption",null,e);var r=n("span","modal__window__header--close",null,e);r.innerHTML="&times",r.addEventListener("click",(function(){return t.close()}))}},{key:"createBody",value:function(){var t=n("div","modal__window__body",null,this.modalContainer);this.body=n("p","modal__window__body--content",null,t)}},{key:"createFooter",value:function(){this.footer=n("div","modal__window__footer"),this.confirmBtn=n("button","modal__window__footer__btn confirm",null,this.footer,["type","button"]),this.confirmBtn.textContent="V",this.dismissBtn=n("button","modal__window__footer__btn dismiss",null,this.footer,["type","button"]),this.dismissBtn.textContent="X"}},{key:"close",value:function(){document.body.removeChild(this.modal)}}])&&E(e.prototype,r),t}();function B(t,e){return e[t%100>4&&t%100<20?2:[2,0,1,1,1,2][t%10<5?t%10:5]]}function x(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var T=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,(r=[{key:"init",value:function(){this.main=n("div","record"),this.tableContainer=n("div","record__table",null,this.main),this.createHeader(),this.createBody()}},{key:"createHeader",value:function(){var t=n("div","record__table--header",null,this.tableContainer),e=n("div","record__table--cell",null,t),r=n("div","record__table--cell",null,t),o=n("div","record__table--cell",null,t);e.textContent="очки",r.textContent="время",o.textContent="ходов"}},{key:"createBody",value:function(){this.body=n("div","record__table--list",null,this.tableContainer)}},{key:"createRow",value:function(t){var e=n("div","record__table--cell");e.textContent=t.score;var r=n("div","record__table--cell");r.textContent=t.time;var o=n("div","record__table--cell");o.textContent=t.movesCount,n("div","record__table--row",[e,r,o],this.body)}},{key:"setResults",value:function(t){var e=this;return!!Array.isArray(t)&&(t.forEach((function(t){null!==t&&e.createRow(t)})),!0)}},{key:"getTable",value:function(){return this.main}},{key:"clearBoard",value:function(){this.body.innerHTML=""}}])&&x(e.prototype,r),t}();function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function M(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var O=new(function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=parseInt(e,10)||4;o<3&&(o=3),o>8&&(o=8),this.boardSize=o,this.movesCount=0,this.isVictory=!1,this.isAutoSolved=!1,this.moveHandler=function(t){return r.move(t)}}var e,r;return e=t,(r=[{key:"init",value:function(){var t=this;this.setRandomImage(),this.pageLayout=new s(this.boardSize),this.pageLayout.init(),this.board=new w(this.boardSize,(function(e){return t.move(e)})),this.board.init(this.image),this.pageLayout.mainContent.appendChild(this.board.board),this.modal=new L,this.modal.init(),this.setScore(),this.isSoundOn=!0,A("previousGame")&&this.modal.confirm("Found saved game","Do you want to load previous game?",(function(){return t.loadGame()})),this.results=new T,this.results.init(),this.pageLayout.optionButtons.new.addEventListener("click",(function(){return t.newGame()})),this.pageLayout.optionButtons.save.addEventListener("click",(function(){return t.saveGame()})),this.pageLayout.optionButtons.load.addEventListener("click",(function(){return t.loadGame()})),this.pageLayout.optionButtons.results.addEventListener("click",(function(){return t.showResults()})),this.pageLayout.optionButtons.sound.addEventListener("click",(function(){return t.toggleSound()})),this.pageLayout.optionButtons.solve.addEventListener("click",(function(){return t.solve()}));var e=this.pageLayout.getFieldSizeButtons();Object.keys(e).forEach((function(r){e[r].addEventListener("click",(function(e){t.changeBoardSize(e)}))})),this.movableElements(),this.startTimer()}},{key:"setRandomImage",value:function(){this.image="./assets/images/box/".concat(l(1,150),".jpg")}},{key:"solve",value:function(){var t=this,e=new Date,r={T:"top",B:"bottom",L:"left",R:"right"};this.isAutoSolved=!0,this.board.createSolver();var o=this.board.solver.execute(),i=(new Date-e)/1e3,n=o.moves,a=B(n,["ход","хода","ходов"]),s=o.path.split("");this.solverIntervalId=setInterval((function(){var e=s.shift(),o=r[e];if(t.board.movableElements[o].click(),0===s.length){clearInterval(t.solverIntervalId);var l="Поиск решения занял ".concat(i," секунд и составил ").concat(n," ").concat(a,".");t.modal.show("SOLVED!",l)}}),280)}},{key:"newGame",value:function(){this.isVictory=!1,this.setRandomImage(),this.board.setImage(this.image),this.board.newGame(),this.startTimer(),this.setMoves(0),this.setScore(),this.pageLayout.setMoves(this.movesCount),this.board.updateBoard(),this.movableElements()}},{key:"saveGame",value:function(){_("previousGame",{board:this.board.boardArray,boardSize:this.boardSize,time:this.timer,moves:this.movesCount,image:this.image,score:this.score})}},{key:"loadGame",value:function(){this.isVictory=!1;var t=C("previousGame");this.boardSize=t.boardSize,this.board.setSize(this.boardSize),this.board.setImage(t.image),this.pageLayout.setBoardSize(this.boardSize),this.startTimer(t.time),this.setMoves(t.moves),this.pageLayout.setMoves(this.movesCount),this.score=t.score,this.pageLayout.setScore(t.score),this.board.setBoardArray(t.board),this.movableElements(),this.board.updateCellBackground(),this.board.createVictoryArray()}},{key:"toggleSound",value:function(){this.isSoundOn=!this.isSoundOn;var t=this.isSoundOn?"music_note":"music_off";this.pageLayout.optionButtons.sound.innerHTML="",this.pageLayout.optionButtons.sound.append(s.createIcon(t))}},{key:"move",value:function(t){var e=this;return!t.target.closest("board__cell--disabled")&&"img"!==t.target.tagName&&(this.board.move(t.target),this.isSoundOn&&(this.pageLayout.sounds.move.currentTime=0,this.pageLayout.sounds.move.play()),this.increaseMoves(),this.pageLayout.setMoves(this.movesCount),this.decreaseScore(),this.pageLayout.setScore(this.score),this.board.isSolved()?(this.victory(),this.board.disableMove()):this.board.updateMovableElements(),setTimeout((function(){e.board.updateBoard(),e.movableElements()}),250),!0)}},{key:"movableElements",value:function(){var t=this;this.movable=document.querySelectorAll(".board__cell--active"),Array.from(document.querySelectorAll(".board__cell")).forEach((function(e){return e.removeEventListener("click",t.moveHandler)})),Array.from(this.movable).forEach((function(e){return e.addEventListener("click",t.moveHandler)}))}},{key:"stopTimer",value:function(){clearInterval(this.timerID)}},{key:"startTimer",value:function(t){var e=this;this.timer=t||0,this.timerClick(0),this.timerID&&clearInterval(this.timerID),this.timerID=setInterval((function(){return e.timerClick()}),1e3)}},{key:"timerClick",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.pageLayout.setTime(t||this.timer),this.decreaseScore(),this.pageLayout.setScore(this.score),this.timer+=1}},{key:"decreaseScore",value:function(){this.score<=0?this.score=0:this.score-=1}},{key:"victory",value:function(){if(this.isVictory=!0,this.stopTimer(),!this.isAutoSolved){var t=this.pageLayout.getTime(),e=this.movesCount,r=B(e,["ход","хода","ходов"]),o=B(this.score,["очко","очка","очков"]);this.isSoundOn&&(this.pageLayout.sounds.applause.currentTime=0,this.pageLayout.sounds.applause.play()),this.modal.show("VICTORY!","Ура! Вы решили головоломку за ".concat(t," и ").concat(e," ").concat(r,". Ваш счет ").concat(this.score," ").concat(o)),this.saveResults(t)}}},{key:"saveResults",value:function(t){var e,r=this,o={time:t,movesCount:this.movesCount,score:this.score},i=[];A("gemPuzzleResults")&&(i=C("gemPuzzleResults"));for(var n=i.sort((function(t,e){var r=0;return t.score>e.score&&(r=-1),t.score===e.score&&(r=0),t.score<e.score&&(r=1),r})),a=n.findIndex((function(t){return null===t||t.score<r.score})),s=function(t){if(Array.isArray(t))return I(t)}(e=n)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return I(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=a;l<=10;l+=1)n[l+1]=s[l];a>=0?n[a]=o:i.unshift(o),n.length=10,_("gemPuzzleResults",i)}},{key:"showResults",value:function(){var t=[];A("gemPuzzleResults")&&(t=C("gemPuzzleResults")),this.results.clearBoard(),this.results.setResults(t.sort((function(t,e){var r=0;return t.score>e.score&&(r=-1),t.score===e.score&&(r=0),t.score<e.score&&(r=1),r}))),this.modal.show("board of leaders",this.results.getTable())}},{key:"changeBoardSize",value:function(t){var e=t.target.dataset.size;this.boardSize=e,this.pageLayout.setBoardSize(e),this.board.setBoardSize(e),this.newGame()}},{key:"setScore",value:function(){var t=0;switch(+this.boardSize){case 3:t=200;break;case 4:t=400;break;case 5:t=800;break;case 6:t=1600;break;case 7:t=3200;break;case 8:t=6400}this.score=t,this.pageLayout.setScore(this.score)}},{key:"setMoves",value:function(t){this.movesCount=t}},{key:"increaseMoves",value:function(){this.movesCount+=1}}])&&M(e.prototype,r),t}());document.addEventListener("DOMContentLoaded",(function(){return O.init()}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW0tcHV6emxlLy4vc3JjL2pzL3V0aWxzL2NyZWF0ZS5qcyIsIndlYnBhY2s6Ly9nZW0tcHV6emxlLy4vc3JjL2pzL1BhZ2VMYXlvdXQuanMiLCJ3ZWJwYWNrOi8vZ2VtLXB1enpsZS8uL3NyYy9qcy91dGlscy9yYW5kb20uanMiLCJ3ZWJwYWNrOi8vZ2VtLXB1enpsZS8uL3NyYy9qcy9zb2x2ZXIvTm9kZS5qcyIsIndlYnBhY2s6Ly9nZW0tcHV6emxlLy4vc3JjL2pzL3NvbHZlci9IZXVyaXN0aWNzLmpzIiwid2VicGFjazovL2dlbS1wdXp6bGUvLi9zcmMvanMvc29sdmVyL1ByaW9yaXR5UXVldWUuanMiLCJ3ZWJwYWNrOi8vZ2VtLXB1enpsZS8uL3NyYy9qcy9zb2x2ZXIvQVN0YXIuanMiLCJ3ZWJwYWNrOi8vZ2VtLXB1enpsZS8uL3NyYy9qcy9Cb2FyZC5qcyIsIndlYnBhY2s6Ly9nZW0tcHV6emxlLy4vc3JjL2pzL3V0aWxzL3N0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vZ2VtLXB1enpsZS8uL3NyYy9qcy9Nb2RhbC5qcyIsIndlYnBhY2s6Ly9nZW0tcHV6emxlLy4vc3JjL2pzL3V0aWxzL2h1bWFuTnVtcy5qcyIsIndlYnBhY2s6Ly9nZW0tcHV6emxlLy4vc3JjL2pzL0xlYWRlckJvYXJkLmpzIiwid2VicGFjazovL2dlbS1wdXp6bGUvLi9zcmMvanMvbWFpbi5qcyIsIndlYnBhY2s6Ly9nZW0tcHV6emxlLy4vc3JjL2pzL0dlbUdhbWUuanMiXSwibmFtZXMiOlsiY3JlYXRlIiwiZWwiLCJjbGFzc05hbWVzIiwiY2hpbGRyZW4iLCJwYXJlbnQiLCJlbGVtZW50Iiwibm90RGF0YUF0dHJpYnV0ZXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJlcnJvciIsIkVycm9yIiwiQXJyYXkiLCJpc0FycmF5IiwiY2xhc3NMaXN0IiwiYWRkIiwic3BsaXQiLCJmb3JFYWNoIiwiY2hpbGRFbGVtZW50IiwiYXBwZW5kIiwiaW5uZXJIVE1MIiwiYXBwZW5kQ2hpbGQiLCJkYXRhQXR0cmlidXRlcyIsImxlbmd0aCIsImF0dHJpYnV0ZU5hbWUiLCJhdHRyaWJ1dGVWYWx1ZSIsInNldEF0dHJpYnV0ZSIsImluY2x1ZGVzIiwiZGF0YXNldCIsIlBhZ2VMYXlvdXQiLCJib2FyZFNpemUiLCJ0aGlzIiwiZmllbGRTaXplQnV0dG9ucyIsIm9wdGlvbkJ1dHRvbnMiLCJtb3Zlc0NvdW50Iiwic291bmRzIiwiaWNvbk5hbWUiLCJzZWNvbmRzSW4iLCJzZWNvbmRzIiwicGFyc2VJbnQiLCJtaW51dGVzIiwiTWF0aCIsImZsb29yIiwiYWRkWmVybyIsInZhbCIsImJvZHkiLCJwcmVwZW5kIiwiY3JlYXRlSGVhZGVyIiwiY3JlYXRlTWFpbkNvbnRlbnQiLCJjcmVhdGVGb290ZXIiLCJjcmVhdGVTb3VuZCIsInN0YXRpc3RpY3NGaWVsZFNpemUiLCJ0ZXh0Q29udGVudCIsInN0YXRpc3RpY3MiLCJjcmVhdGVTdGF0aXN0aWNzIiwib3B0aW9ucyIsImNyZWF0ZU9wdGlvbnMiLCJoZWFkZXJDYXB0aW9uIiwiaGVhZGVyQ29udGFpbmVyIiwiY29udGFpbmVyIiwibWFpbiIsIm1haW5Db250ZW50IiwiaSIsImJ0bk9wdGlvbnMiLCJidG4iLCJmaWVsZExpc3QiLCJmb290ZXJDb250YWluZXIiLCJzY29yZSIsIm9wdGlvblBvc2l0aW9ucyIsIm5ldyIsInNhdmUiLCJsb2FkIiwicmVzdWx0cyIsInNvdW5kIiwic29sdmUiLCJvcHRpb25MaXN0RWxlbWVudHMiLCJPYmplY3QiLCJrZXlzIiwibWFwIiwibmFtZSIsImJ0blBhcmFtcyIsImNyZWF0ZUljb24iLCJvcHRpb25zTGlzdCIsInJpZ2h0U2lkZSIsImNyZWF0ZU1vdmVzIiwiY3JlYXRlVGltZXIiLCJjcmVhdGVTY29yZSIsImxlZnRTaWRlIiwic2V0Qm9hcmRTaXplIiwidGV4dCIsIm1vdmVzVGV4dCIsIm1vdmVzRWxlbWVudCIsInRpbWVUZXh0IiwibWludXRlc0NvbnRhaW5lciIsInNlY29uZHNDb250YWluZXIiLCJjb2xvbiIsInRpbWVUaW1lciIsInRpbWUiLCJjcmVhdGVUaW1lRnJvbVNlY29uZHMiLCJwYXRoIiwic291bmRDb250YWluZXIiLCJtb3ZlIiwiYXBwbGF1c2UiLCJmcm9tIiwidG8iLCJmaXJzdCIsInNlY29uZCIsIk51bWJlciIsImlzSW50ZWdlciIsInJhbmRvbSIsIk5vZGUiLCJzdGF0ZSIsImVtcHR5Um93IiwiZW1wdHlDb2wiLCJtb3ZlcyIsInZhbHVlIiwic2l6ZSIsImhhc2giLCJ0b1N0cmluZyIsInN0ciIsImlubmVyQXJyIiwic2xpY2UiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJIZXVyaXN0aWNzIiwiY3VycmVudFN0YXRlIiwiZGlzdGluY3RTdGF0ZSIsInJlc3VsdCIsInJvdyIsInJvd0luZGV4IiwiY29sSW5kZXgiLCJlbGVtZW50UG9zaXRpb24iLCJ4IiwieSIsImRpc3RQb3NpdGlvbiIsImdldEdvYWxQb3NpdGlvbiIsIm1hbmhhdHRhbiIsInBvczAiLCJwb3MxIiwiYWJzIiwic29sdmVkIiwiZ2V0U29sdmVkQXJyYXlzIiwiQ29sUm93SXRlcmF0b3IiLCJyb3dTdGF0ZSIsImNvbFN0YXRlIiwiZ2V0Q29sQ2FuZGlkYXRlIiwiY291bnRDb25mbGljdHMiLCJyb3dzIiwiY29scyIsIm1haW5JZHgiLCJudW0iLCJpZHgiLCJyb3dJdGVyYXRvciIsImNhbmRpZGF0ZVJvdyIsInNvbHZlZFJvdyIsIm91dGVyUG9zIiwib3V0ZXJWYWwiLCJpbm5lclBvcyIsImlubmVyVmFsIiwib3V0ZXJGaW5hbFBvcyIsImluZGV4T2YiLCJpbm5lckZpbmFsUG9zIiwiUHJpb3JpdHlRdWV1ZSIsIml0ZW1zIiwiaWR4MSIsImlkeDIiLCJwYXJlbnRJZHgiLCJzd2FwIiwiZWxlbWVudFByaW9yaXR5IiwiaXNTd2FwIiwibGVmdENoaWxkSWR4IiwicmlnaHRDaGlsZElkeCIsIkxDUCIsIlJDUCIsImluZGV4VG9Td2FwIiwicHVzaCIsImJ1YmJsZVVwIiwicG9wcGVkTm9kZSIsInBvcCIsImJ1YmJsZURvd24iLCJyZXMiLCJBU3RhciIsImluaXRpYWxTdGF0ZSIsImdvYWxTdGF0ZSIsImVtcHR5IiwiaW5pdGlhbCIsIkluaXRpYWxJZHhzIiwiZmluZEVtcHR5Q29sUm93IiwiY29sIiwiZ29hbCIsImdvYWxJZHhzIiwicXVldWUiLCJlbnF1ZXVlIiwidmlzaXRlZCIsIlNldCIsImVtcHR5U2lnbiIsImlkeHMiLCJyb3dJZHgiLCJjb2xJZHgiLCJ2YWxpZE1vdmVzIiwiY3VyIiwibGFzdCIsImN1cnJlbnQiLCJkZXF1ZXVlIiwiZXhwYW5kIiwibm9kZSIsImFsbG93ZWRNb3ZlcyIsImxhc3RNb3ZlcyIsImxhc3RNb3ZlIiwiZmlsdGVyIiwib3Bwb3NpdGVNb3ZlcyIsImRpcmVjdGlvblNpZ24iLCJuZXdTdGF0ZSIsImdldENsb25lZFN0YXRlIiwibmV3U3RhdGVSb3ciLCJuZXdTdGF0ZUNvbCIsInRlbXAiLCJuZXdOb2RlIiwiaGFzIiwiaGV1cmlzdGljIiwiZ2V0TWFuaGF0dGFuRGlzdGFuY2UiLCJsaW5lYXJDb25mbGljdCIsIkJvYXJkIiwiZHJhZ092ZXJIYW5kbGVyIiwiYm9hcmQiLCJtb3ZhYmxlIiwibW92YWJsZUVsZW1lbnRzIiwiY2VsbHMiLCJib2FyZEhUTUwiLCJib2FyZEFycmF5IiwiY2VsbCIsIm1ha2VEcmFnZ2FibGUiLCJpbWciLCJzZXRJbWFnZSIsIm5ld0dhbWUiLCJzb2x2ZXIiLCJnZXQyZFZpY3RvcnlBcnJheSIsImNyZWF0ZUJvYXJkIiwiYm9hcmRSZW5kZXIiLCJ1cGRhdGVDZWxsQmFja2dyb3VuZCIsImN1cnJlbnROdW1iZXIiLCJqIiwidmljdG9yeUFycmF5IiwiZW1wdHlCb2FyZCIsImNlbGxJbmRleCIsImNlbGxPcHRpb25zIiwiY2VsbEVsZW1lbnQiLCJlbXB0eUNlbGwiLCJwb3MiLCJtb3ZlRGlyZWN0aW9uIiwicG9zaXRpb24iLCJkcmFnZ2FibGUiLCJ1cGRhdGVCb2FyZEhUTUwiLCJzdHlsZSIsInRvcCIsImxlZnQiLCJyZW1vdmUiLCJpbWFnZVNyYyIsImltYWdlIiwic3JjIiwicGVyY2VudCIsIm1heFZhbCIsInhQb3MiLCJ5UG9zIiwiYmFja2dyb3VuZEltYWdlIiwiYmFja2dyb3VuZFNpemUiLCJiYWNrZ3JvdW5kUG9zaXRpb25YIiwiYmFja2dyb3VuZFBvc2l0aW9uWSIsImluaXRCb2FyZEFycmF5IiwicmFuZG9taXplIiwic2V0RW1wdHlDZWxsIiwidXBkYXRlTW92YWJsZUVsZW1lbnRzIiwibnVtYmVyQXJyYXkiLCJzaHVmZmxlIiwiaXNTb2x2YWJsZSIsImFyciIsInRlbXBBcnIiLCJyYW5kb21JbnRGcm9tVG8iLCJlbGVtIiwic3BsaWNlIiwiSFRNTEVsZW0iLCJjb3VudEludmVyc2lvbnMiLCJvbmVEaW1lbnNpb25hbEFycmF5IiwiY29uY2F0IiwiY3JlYXRlVmljdG9yeUFycmF5IiwidmEiLCJiYSIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwiZHJhZ2dlZENlbGwiLCJ0YXJnZXQiLCJzZXRUaW1lb3V0IiwiZm9udFNpemUiLCJkcmFnT3ZlckVsZW1lbnQiLCJwcmV2ZW50RGVmYXVsdCIsImN1cnJlbnRFbGVtZW50IiwibmV3Qm9hcmRTaXplIiwicHJldk1vdmUiLCJkaXJlY3Rpb25zIiwiZGlyTnVtIiwibmV3Um93IiwibmV3Q29sIiwic2V0Iiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImdldCIsInN1YnN0IiwiZ2V0SXRlbSIsImNoZWNrIiwiQm9vbGVhbiIsIk1vZGFsIiwiaGVhZGVyIiwibW9kYWxUZXh0IiwibW9kYWwiLCJjbG9zZXN0IiwiY2xvc2UiLCJtb2RhbFdpbmRvd3MiLCJtb2RhbENvbnRhaW5lciIsImNyZWF0ZUJvZHkiLCJva0hhbmRsZXIiLCJhYm9ydEhhbmRsZXIiLCJmb290ZXIiLCJjb25maXJtQnRuIiwiZGlzbWlzc0J0biIsInF1ZXJ5U2VsZWN0b3IiLCJyZW1vdmVDaGlsZCIsImJvZHlDb250YWluZXIiLCJkZWNsT2ZOdW0iLCJudW1iZXIiLCJ0aXRsZXMiLCJMZWFkZXJCb2FyZCIsInRhYmxlQ29udGFpbmVyIiwicmVzdWx0Um93IiwicmVzdWx0c0FycmF5IiwicmVzdWx0c1JvdyIsImNyZWF0ZVJvdyIsImdhbWUiLCJpc1ZpY3RvcnkiLCJpc0F1dG9Tb2x2ZWQiLCJtb3ZlSGFuZGxlciIsInNldFJhbmRvbUltYWdlIiwicGFnZUxheW91dCIsImluaXQiLCJzZXRTY29yZSIsImlzU291bmRPbiIsImNvbmZpcm0iLCJsb2FkR2FtZSIsInNhdmVHYW1lIiwic2hvd1Jlc3VsdHMiLCJ0b2dnbGVTb3VuZCIsImdldEZpZWxkU2l6ZUJ1dHRvbnMiLCJzaXplQnRuSWR4IiwiY2hhbmdlQm9hcmRTaXplIiwic3RhcnRUaW1lciIsInN0YXJ0IiwiRGF0ZSIsIm1vdmVQb3NpdGlvbnMiLCJUIiwiQiIsIkwiLCJSIiwiY3JlYXRlU29sdmVyIiwiZXhlY3V0ZSIsIm1vdmVzTmFtZSIsInNvbHZlckludGVydmFsSWQiLCJzZXRJbnRlcnZhbCIsIm1vdmVQb3MiLCJzaGlmdCIsInBvc2l0aW9uRGlyZWN0aW9uIiwiY2xpY2siLCJjbGVhckludGVydmFsIiwic2hvdyIsInNldE1vdmVzIiwidXBkYXRlQm9hcmQiLCJ0aW1lciIsImxvYWREYXRhIiwic2V0U2l6ZSIsInNldEJvYXJkQXJyYXkiLCJ0YWdOYW1lIiwiY3VycmVudFRpbWUiLCJwbGF5IiwiaW5jcmVhc2VNb3ZlcyIsImRlY3JlYXNlU2NvcmUiLCJpc1NvbHZlZCIsInZpY3RvcnkiLCJkaXNhYmxlTW92ZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidGltZXJJRCIsInRpbWVyQ2xpY2siLCJzZXRUaW1lIiwic3RvcFRpbWVyIiwiZ2V0VGltZSIsInNjb3JlTmFtZSIsInNhdmVSZXN1bHRzIiwiY3VycmVudFJlc3VsdCIsImxlYWRlckJvYXJkIiwic29ydCIsImEiLCJiIiwiZmluZEluZGV4IiwibGVhZGVyIiwibGVhZGVyQm9hcmRUbXAiLCJ1bnNoaWZ0IiwiY2xlYXJCb2FyZCIsInNldFJlc3VsdHMiLCJnZXRUYWJs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LFVBQVkyUSxFQUNqQjFRLEtBQUt3VCxXQUFXL1AsYUFBYWlOLEdBQzdCMVEsS0FBS2tNLE1BQU16SSxhQUFhaU4sR0FDeEIxUSxLQUFLNE0sWSxpQ0FJTCxJQUFJeEssRUFBUSxFQUNaLFFBQVNwQyxLQUFLRCxXQUNaLEtBQUssRUFBR3FDLEVBQVEsSUFBSyxNQUNyQixLQUFLLEVBQUdBLEVBQVEsSUFBSyxNQUNyQixLQUFLLEVBQUdBLEVBQVEsSUFBSyxNQUNyQixLQUFLLEVBQUdBLEVBQVEsS0FBTSxNQUN0QixLQUFLLEVBQUdBLEVBQVEsS0FBTSxNQUN0QixLQUFLLEVBQUdBLEVBQVEsS0FHbEJwQyxLQUFLb0MsTUFBUUEsRUFDYnBDLEtBQUt3VCxXQUFXRSxTQUFTMVQsS0FBS29DLFMsK0JBR3ZCakMsR0FDUEgsS0FBS0csV0FBYUEsSSxzQ0FJbEJILEtBQUtHLFlBQWMsTyx1QkRoVHZCMUIsU0FBU3dSLGlCQUFpQixvQkFBb0Isa0JBQU1rRCxFQUFLTSxXIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGVsXG4gKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lc1xuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY2hpbGRyZW5cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudFxuICogQHBhcmFtIHsuLi5hcnJheX0gZGF0YUF0dHJpYnV0ZXNcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGUoZWwsIGNsYXNzTmFtZXMsIGNoaWxkcmVuLCBwYXJlbnQsIC4uLmRhdGFBdHRyaWJ1dGVzKSB7XG4gIGxldCBlbGVtZW50ID0gbnVsbDtcbiAgY29uc3Qgbm90RGF0YUF0dHJpYnV0ZXMgPSBbXG4gICAgJ2RyYWdnYWJsZScsXG4gICAgJ3ZhbHVlJyxcbiAgICAnaWQnLFxuICAgICdwbGFjZWhvbGRlcicsXG4gICAgJ2NvbHMnLFxuICAgICdyb3dzJyxcbiAgICAnYXV0b2NvcnJlY3QnLFxuICAgICdzcGVsbGNoZWNrJyxcbiAgICAnc3JjJyxcbiAgXTtcbiAgdHJ5IHtcbiAgICBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlbCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gY3JlYXRlIEhUTUwgZWxlbWVudCAke2VsfWApO1xuICB9XG5cbiAgaWYgKGNsYXNzTmFtZXMpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjbGFzc05hbWVzKSkgZWxlbWVudC5jbGFzc0xpc3QuYWRkKC4uLmNsYXNzTmFtZXMpO1xuICAgIGVsc2UgZWxlbWVudC5jbGFzc0xpc3QuYWRkKC4uLmNsYXNzTmFtZXMuc3BsaXQoJyAnKSk7XG4gIH1cblxuICBpZiAoY2hpbGRyZW4gJiYgQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZEVsZW1lbnQpID0+IGNoaWxkRWxlbWVudCAmJiBlbGVtZW50LmFwcGVuZChjaGlsZEVsZW1lbnQpKTtcbiAgfSBlbHNlIGlmIChjaGlsZHJlbiAmJiB0eXBlb2YgY2hpbGRyZW4gPT09ICdvYmplY3QnKSB7XG4gICAgZWxlbWVudC5hcHBlbmQoY2hpbGRyZW4pO1xuICB9IGVsc2UgaWYgKGNoaWxkcmVuICYmIHR5cGVvZiBjaGlsZHJlbiA9PT0gJ3N0cmluZycpIHtcbiAgICBlbGVtZW50LmlubmVySFRNTCA9IGNoaWxkcmVuO1xuICB9XG5cbiAgaWYgKHBhcmVudCkge1xuICAgIHBhcmVudC5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgfVxuXG4gIGlmIChkYXRhQXR0cmlidXRlcy5sZW5ndGgpIHtcbiAgICBkYXRhQXR0cmlidXRlcy5mb3JFYWNoKChbYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVmFsdWVdKSA9PiB7XG4gICAgICBpZiAoYXR0cmlidXRlVmFsdWUgPT09ICcnKSB7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsICcnKTtcbiAgICAgIH0gZWxzZSBpZiAobm90RGF0YUF0dHJpYnV0ZXMuaW5jbHVkZXMoYXR0cmlidXRlTmFtZSkpIHtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5kYXRhc2V0W2F0dHJpYnV0ZU5hbWVdID0gYXR0cmlidXRlVmFsdWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn1cbiIsImltcG9ydCBjcmVhdGUgZnJvbSAnLi91dGlscy9jcmVhdGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYWdlTGF5b3V0IHtcbiAgY29uc3RydWN0b3IoYm9hcmRTaXplKSB7XG4gICAgdGhpcy5ib2FyZFNpemUgPSBib2FyZFNpemU7XG4gICAgdGhpcy5maWVsZFNpemVCdXR0b25zID0gW107XG4gICAgdGhpcy5vcHRpb25CdXR0b25zID0ge307XG4gICAgdGhpcy5tb3Zlc0NvdW50ID0gMDtcbiAgICB0aGlzLnNvdW5kcyA9IHt9O1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICBkb2N1bWVudC5ib2R5LnByZXBlbmQoXG4gICAgICB0aGlzLmNyZWF0ZUhlYWRlcigpLFxuICAgICAgdGhpcy5jcmVhdGVNYWluQ29udGVudCgpLFxuICAgICAgdGhpcy5jcmVhdGVGb290ZXIoKSxcbiAgICAgIHRoaXMuY3JlYXRlU291bmQoKSxcbiAgICApO1xuICB9XG5cbiAgc2V0Qm9hcmRTaXplKGJvYXJkU2l6ZSA9IG51bGwpIHtcbiAgICBpZiAoYm9hcmRTaXplKSB0aGlzLmJvYXJkU2l6ZSA9IGJvYXJkU2l6ZTtcbiAgICB0aGlzLnN0YXRpc3RpY3NGaWVsZFNpemUudGV4dENvbnRlbnQgPSBgJHt0aGlzLmJvYXJkU2l6ZX0gWCAke3RoaXMuYm9hcmRTaXplfWA7XG4gIH1cblxuICBjcmVhdGVIZWFkZXIoKSB7XG4gICAgY29uc3Qgc3RhdGlzdGljcyA9IHRoaXMuY3JlYXRlU3RhdGlzdGljcygpO1xuXG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuY3JlYXRlT3B0aW9ucygpO1xuXG4gICAgY29uc3QgaGVhZGVyQ2FwdGlvbiA9IGNyZWF0ZSgnaDEnLCAnaGVhZGVyX19jYXB0aW9uJyk7XG4gICAgaGVhZGVyQ2FwdGlvbi50ZXh0Q29udGVudCA9ICdnZW0gcHV6emxlJztcblxuICAgIGNvbnN0IGhlYWRlckNvbnRhaW5lciA9IGNyZWF0ZSgnZGl2JywgJ2hlYWRlcl9fY29udGFpbmVyJywgW2hlYWRlckNhcHRpb24sIG9wdGlvbnMsIHN0YXRpc3RpY3NdKTtcbiAgICBjb25zdCBoZWFkZXIgPSBjcmVhdGUoJ2hlYWRlcicsICdoZWFkZXInLCBoZWFkZXJDb250YWluZXIpO1xuXG4gICAgcmV0dXJuIGhlYWRlcjtcbiAgfVxuXG4gIGNyZWF0ZU1haW5Db250ZW50KCkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGNyZWF0ZSgnZGl2JywgJ2NvbnRhaW5lcicpO1xuICAgIGNvbnN0IG1haW4gPSBjcmVhdGUoJ21haW4nLCAnbWFpbicsIGNvbnRhaW5lcik7XG4gICAgdGhpcy5tYWluQ29udGVudCA9IGNvbnRhaW5lcjtcblxuICAgIHJldHVybiBtYWluO1xuICB9XG5cbiAgY3JlYXRlRm9vdGVyKCkge1xuICAgIGZvciAobGV0IGkgPSAzOyBpIDwgOTsgaSArPSAxKSB7XG4gICAgICBjb25zdCBidG5PcHRpb25zID0gW1xuICAgICAgICBbJ3R5cGUnLCAnYnV0dG9uJ10sXG4gICAgICAgIFsnc2l6ZScsIGldLFxuICAgICAgXTtcbiAgICAgIGNvbnN0IGJ0biA9IGNyZWF0ZSgnYnV0dG9uJywgJ2ZpZWxkX19saXN0LS1idG4nLCBudWxsLCBudWxsLCAuLi5idG5PcHRpb25zKTtcbiAgICAgIGJ0bi50ZXh0Q29udGVudCA9IGAke2l9IFggJHtpfWA7XG4gICAgICB0aGlzLmZpZWxkU2l6ZUJ1dHRvbnNbaV0gPSBjcmVhdGUoJ2xpJywgJ2ZpZWxkX19saXN0LS1lbGVtZW50JywgYnRuKTtcbiAgICB9XG4gICAgY29uc3QgZmllbGRMaXN0ID0gY3JlYXRlKCdkaXYnLCAnZmllbGRfX2xpc3QnLCB0aGlzLmZpZWxkU2l6ZUJ1dHRvbnMpO1xuICAgIGNvbnN0IGZvb3RlckNvbnRhaW5lciA9IGNyZWF0ZSgnZGl2JywgJ2Zvb3Rlcl9fY29udGFpbmVyJywgZmllbGRMaXN0KTtcbiAgICBjb25zdCBmb290ZXIgPSBjcmVhdGUoJ2Zvb3RlcicsICdmb290ZXInLCBmb290ZXJDb250YWluZXIpO1xuXG4gICAgcmV0dXJuIGZvb3RlcjtcbiAgfVxuXG4gIHNldFNjb3JlKHNjb3JlKSB7XG4gICAgdGhpcy5zY29yZS50ZXh0Q29udGVudCA9IHNjb3JlO1xuICB9XG5cbiAgY3JlYXRlT3B0aW9ucygpIHtcbiAgICBjb25zdCBvcHRpb25Qb3NpdGlvbnMgPSB7XG4gICAgICBuZXc6ICdyZXBsYXknLFxuICAgICAgc2F2ZTogJ3NhdmVfYWx0JyxcbiAgICAgIGxvYWQ6ICdwdWJsaXNoJyxcbiAgICAgIHJlc3VsdHM6ICdyZWNlaXB0JyxcbiAgICAgIHNvdW5kOiAnbXVzaWNfbm90ZScsXG4gICAgICBzb2x2ZTogJ2RvbmVfb3V0bGluZScsXG4gICAgfTtcbiAgICBjb25zdCBvcHRpb25MaXN0RWxlbWVudHMgPSBPYmplY3Qua2V5cyhvcHRpb25Qb3NpdGlvbnMpLm1hcCgobmFtZSkgPT4ge1xuICAgICAgY29uc3QgYnRuUGFyYW1zID0gW1sndHlwZScsICdidXR0b24nXSwgWydpZCcsIG5hbWVdXTtcbiAgICAgIGNvbnN0IGJ0biA9IGNyZWF0ZSgnYnV0dG9uJywgJ2ZpZWxkX19saXN0LS1idG4nLCBudWxsLCBudWxsLCAuLi5idG5QYXJhbXMpO1xuICAgICAgY29uc3QgaWNvbk5hbWUgPSBvcHRpb25Qb3NpdGlvbnNbbmFtZV07XG4gICAgICBidG4uYXBwZW5kQ2hpbGQoUGFnZUxheW91dC5jcmVhdGVJY29uKGljb25OYW1lKSk7XG4gICAgICB0aGlzLm9wdGlvbkJ1dHRvbnNbbmFtZV0gPSBidG47XG4gICAgICBjb25zdCBsaSA9IGNyZWF0ZSgnbGknLCAnZmllbGRfX2xpc3QtLWVsZW1lbnQnLCBidG4pO1xuICAgICAgcmV0dXJuIGxpO1xuICAgIH0pO1xuICAgIGNvbnN0IG9wdGlvbnNMaXN0ID0gY3JlYXRlKCd1bCcsICdmaWVsZF9fbGlzdCcsIG9wdGlvbkxpc3RFbGVtZW50cyk7XG4gICAgY29uc3Qgb3B0aW9ucyA9IGNyZWF0ZSgnZGl2JywgJ29wdGlvbnMnLCBvcHRpb25zTGlzdCk7XG4gICAgcmV0dXJuIG9wdGlvbnM7XG4gIH1cblxuICBzdGF0aWMgY3JlYXRlSWNvbihpY29uTmFtZSkge1xuICAgIHJldHVybiBjcmVhdGUoJ2knLCAnbWF0ZXJpYWwtaWNvbnMnLCBpY29uTmFtZSk7XG4gIH1cblxuICBjcmVhdGVTdGF0aXN0aWNzKCkge1xuICAgIGNvbnN0IG1vdmVzID0gdGhpcy5jcmVhdGVNb3ZlcygpO1xuICAgIGNvbnN0IHRpbWVyID0gdGhpcy5jcmVhdGVUaW1lcigpO1xuICAgIGNvbnN0IHNjb3JlID0gdGhpcy5jcmVhdGVTY29yZSgpO1xuXG4gICAgY29uc3QgcmlnaHRTaWRlID0gY3JlYXRlKCdkaXYnLCAnc3RhdGlzdGljc19fcmlnaHQtc2lkZScsIFttb3ZlcywgdGltZXIsIHNjb3JlXSk7XG5cbiAgICB0aGlzLnN0YXRpc3RpY3NGaWVsZFNpemUgPSBjcmVhdGUoJ2gyJywgJ2ZpZWxkLXNpemUnKTtcbiAgICBjb25zdCBsZWZ0U2lkZSA9IGNyZWF0ZSgnZGl2JywgJ3N0YXRpc3RpY3NfX2xlZnQtc2lkZScsIHRoaXMuc3RhdGlzdGljc0ZpZWxkU2l6ZSk7XG4gICAgdGhpcy5zZXRCb2FyZFNpemUoKTtcblxuICAgIGNvbnN0IHN0YXRpc3RpY3MgPSBjcmVhdGUoJ2RpdicsICdzdGF0aXN0aWNzJywgW2xlZnRTaWRlLCByaWdodFNpZGVdKTtcblxuICAgIHJldHVybiBzdGF0aXN0aWNzO1xuICB9XG5cbiAgY3JlYXRlU2NvcmUoKSB7XG4gICAgY29uc3QgdGV4dCA9IGNyZWF0ZSgnc3BhbicsICdzY29yZV9fdGV4dCcpO1xuICAgIHRleHQudGV4dENvbnRlbnQgPSAnc2NvcmUnO1xuICAgIHRoaXMuc2NvcmUgPSBjcmVhdGUoJ3NwYW4nLCAnc2NvcmVfX3ZhbHVlJyk7XG4gICAgY29uc3QgY29udGFpbmVyID0gY3JlYXRlKCdkaXYnLCAnc2NvcmUnLCBbdGV4dCwgdGhpcy5zY29yZV0pO1xuICAgIHJldHVybiBjb250YWluZXI7XG4gIH1cblxuICBjcmVhdGVNb3ZlcygpIHtcbiAgICBjb25zdCBtb3Zlc1RleHQgPSBjcmVhdGUoJ3NwYW4nLCAnbW92ZXNfX3RleHQnKTtcbiAgICBtb3Zlc1RleHQudGV4dENvbnRlbnQgPSAnbW92ZXMnO1xuICAgIGNvbnN0IG1vdmVzQ291bnQgPSBjcmVhdGUoJ3NwYW4nLCAnbW92ZXNfX21vdmUtY291bnQnKTtcbiAgICBtb3Zlc0NvdW50LnRleHRDb250ZW50ID0gJzAwJztcbiAgICB0aGlzLm1vdmVzRWxlbWVudCA9IG1vdmVzQ291bnQ7XG4gICAgY29uc3QgbW92ZXMgPSBjcmVhdGUoJ2RpdicsICdtb3ZlcycsIFttb3Zlc1RleHQsIG1vdmVzQ291bnRdKTtcblxuICAgIHJldHVybiBtb3ZlcztcbiAgfVxuXG4gIGNyZWF0ZVRpbWVyKCkge1xuICAgIGNvbnN0IHRpbWVUZXh0ID0gY3JlYXRlKCdzcGFuJywgJ3RpbWVfX3RleHQnKTtcbiAgICB0aW1lVGV4dC50ZXh0Q29udGVudCA9ICd0aW1lICc7XG5cbiAgICBjb25zdCBtaW51dGVzID0gY3JlYXRlKCdzcGFuJywgJ3RpbWVfX3RpbWVyLS1taW51dGVzJyk7XG4gICAgbWludXRlcy50ZXh0Q29udGVudCA9ICcwMCc7XG4gICAgdGhpcy5taW51dGVzQ29udGFpbmVyID0gbWludXRlcztcbiAgICBjb25zdCBzZWNvbmRzID0gY3JlYXRlKCdzcGFuJywgJ3RpbWVfX3RpbWVyLS1zZWNvbmRzJyk7XG4gICAgc2Vjb25kcy50ZXh0Q29udGVudCA9ICcwMCc7XG4gICAgdGhpcy5zZWNvbmRzQ29udGFpbmVyID0gc2Vjb25kcztcbiAgICBjb25zdCBjb2xvbiA9IGNyZWF0ZSgnc3BhbicsICd0aW1lX190aW1lci0tY29sb24nKTtcbiAgICBjb2xvbi50ZXh0Q29udGVudCA9ICc6JztcbiAgICBjb25zdCB0aW1lVGltZXIgPSBjcmVhdGUoJ2RpdicsICd0aW1lX190aW1lcicsIFttaW51dGVzLCBjb2xvbiwgc2Vjb25kc10pO1xuXG4gICAgY29uc3QgdGltZXIgPSBjcmVhdGUoJ2RpdicsICd0aW1lJywgW3RpbWVUZXh0LCB0aW1lVGltZXJdKTtcblxuICAgIHJldHVybiB0aW1lcjtcbiAgfVxuXG4gIGdldE1vdmVzKCkge1xuICAgIHJldHVybiB0aGlzLm1vdmVzQ291bnQ7XG4gIH1cblxuICBnZXRUaW1lKCkge1xuICAgIHJldHVybiBgJHt0aGlzLm1pbnV0ZXNDb250YWluZXIudGV4dENvbnRlbnR9OiR7dGhpcy5zZWNvbmRzQ29udGFpbmVyLnRleHRDb250ZW50fWA7XG4gIH1cblxuICBzZXRUaW1lKHRpbWUpIHtcbiAgICBjb25zdCB7IG1pbnV0ZXMsIHNlY29uZHMgfSA9IFBhZ2VMYXlvdXQuY3JlYXRlVGltZUZyb21TZWNvbmRzKHRpbWUpO1xuICAgIHRoaXMubWludXRlc0NvbnRhaW5lci50ZXh0Q29udGVudCA9IG1pbnV0ZXM7XG4gICAgdGhpcy5zZWNvbmRzQ29udGFpbmVyLnRleHRDb250ZW50ID0gc2Vjb25kcztcbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGVUaW1lRnJvbVNlY29uZHMoc2Vjb25kc0luKSB7XG4gICAgbGV0IHNlY29uZHMgPSBwYXJzZUludChzZWNvbmRzSW4sIDEwKTtcbiAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gNjApO1xuICAgIHNlY29uZHMgJT0gNjA7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1pbnV0ZXM6IFBhZ2VMYXlvdXQuYWRkWmVybyhtaW51dGVzKSxcbiAgICAgIHNlY29uZHM6IFBhZ2VMYXlvdXQuYWRkWmVybyhzZWNvbmRzKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGFkZFplcm8odmFsKSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KHZhbCwgMTApIDwgMTAgPyBgMCR7dmFsfWAgOiB2YWw7XG4gIH1cblxuICBzZXRNb3Zlcyhtb3Zlc0NvdW50KSB7XG4gICAgdGhpcy5tb3Zlc0VsZW1lbnQudGV4dENvbnRlbnQgPSBQYWdlTGF5b3V0LmFkZFplcm8obW92ZXNDb3VudCk7XG4gIH1cblxuICBnZXRGaWVsZFNpemVCdXR0b25zKCkge1xuICAgIHJldHVybiB0aGlzLmZpZWxkU2l6ZUJ1dHRvbnM7XG4gIH1cblxuICBjcmVhdGVTb3VuZCgpIHtcbiAgICBjb25zdCBwYXRoID0gJy4vYXNzZXRzL3NvdW5kcy8nO1xuICAgIGNvbnN0IHNvdW5kQ29udGFpbmVyID0gY3JlYXRlKCdkaXYnLCAnc291bmQtY29udGFpbmVyJyk7XG4gICAgdGhpcy5zb3VuZHMubW92ZSA9IGNyZWF0ZSgnYXVkaW8nLCAnJywgbnVsbCwgc291bmRDb250YWluZXIsIFsnc3JjJywgYCR7cGF0aH1tb3ZlLm1wM2BdKTtcbiAgICB0aGlzLnNvdW5kcy5hcHBsYXVzZSA9IGNyZWF0ZSgnYXVkaW8nLCAnJywgbnVsbCwgc291bmRDb250YWluZXIsIFsnc3JjJywgYCR7cGF0aH1hcHBsYXVzZS53YXZgXSk7XG4gICAgcmV0dXJuIHNvdW5kQ29udGFpbmVyO1xuICB9XG59XG4iLCIvKipcbiAqIEBwYXJhbSB7Kn0gZnJvbVxuICogQHBhcmFtIHsqfSB0b1xuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5mdW5jdGlvbiByYW5kb21JbnRGcm9tVG8oZnJvbSwgdG8pIHtcbiAgY29uc3QgZmlyc3QgPSBwYXJzZUludChmcm9tLCAxMCk7XG4gIGNvbnN0IHNlY29uZCA9IHBhcnNlSW50KHRvLCAxMCk7XG4gIGlmICghTnVtYmVyLmlzSW50ZWdlcihmaXJzdCkgfHwgIU51bWJlci5pc0ludGVnZXIoc2Vjb25kKSkgdGhyb3cgbmV3IEVycm9yKCdJcnJlZ3VsYXIgaW5wdXQnKTtcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh0byAtIGZyb20gKyAxKSkgKyBmcm9tO1xufVxuXG5leHBvcnQgZGVmYXVsdCByYW5kb21JbnRGcm9tVG87XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBOb2RlIHtcbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzY29yZTogcmVwcmVzZW50cyBmKHMpXG4gICAqIEBwYXJhbSB7MmRpbWVuc2lvbkFycmF5fSBzdGF0ZTogcmVwcmVzZW50cyBib2FyZCBzdGF0ZVxuICAgKiBAcGFyYW0ge051bWJlcn0gZW1wdHlSb3c6IHJlcHJlc2VudHMgcm93IG51bWJlciB3aXRoIGVtcHR5IGNlbGxcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGVtcHR5Q29sOiByZXByZXNlbnRzIGNvbHVtbiBudW1iZXIgd2l0aCBlbXB0eSBjZWxsXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBtb3ZlczogY291bnQgb2YgbW92ZXMgZnJvbSBzdGFydCBvZiBkZWNpc2lvblxuICAgKi9cbiAgY29uc3RydWN0b3Ioc2NvcmUsIHN0YXRlLCBlbXB0eVJvdywgZW1wdHlDb2wsIG1vdmVzKSB7XG4gICAgdGhpcy52YWx1ZSA9IHNjb3JlO1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB0aGlzLmVtcHR5Um93ID0gZW1wdHlSb3c7XG4gICAgdGhpcy5lbXB0eUNvbCA9IGVtcHR5Q29sO1xuICAgIHRoaXMubW92ZXMgPSBtb3ZlcztcbiAgICB0aGlzLnNpemUgPSB0aGlzLnN0YXRlLmxlbmd0aDtcbiAgICB0aGlzLmhhc2ggPSB0aGlzLnRvU3RyaW5nKCk7XG4gICAgdGhpcy5wYXRoID0gJyc7IC8vIHJlcHJlc2VudHMgYSBtb3ZlcyBzdHJpbmdbRCxMLFIsVV1cbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIGxldCBzdHIgPSAnJztcbiAgICB0aGlzLnN0YXRlLmZvckVhY2goKGlubmVyQXJyKSA9PiB7IGlubmVyQXJyLmZvckVhY2goKGVsKSA9PiB7IHN0ciA9IGAke3N0cn0sJHtlbH1gOyB9KTsgfSk7XG4gICAgcmV0dXJuIHN0ci5zbGljZSgxKTtcbiAgfVxuXG4gIGdldENsb25lZFN0YXRlKCkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhdGUpKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGV1cmlzdGljcyB7XG4gIHN0YXRpYyBnZXRNYW5oYXR0YW5EaXN0YW5jZShjdXJyZW50U3RhdGUsIGRpc3RpbmN0U3RhdGUpIHtcbiAgICBsZXQgcmVzdWx0ID0gMDtcbiAgICBjdXJyZW50U3RhdGUuZm9yRWFjaCgocm93LCByb3dJbmRleCkgPT4ge1xuICAgICAgcm93LmZvckVhY2goKGVsZW1lbnQsIGNvbEluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRQb3NpdGlvbiA9IHsgeDogcm93SW5kZXgsIHk6IGNvbEluZGV4IH07XG4gICAgICAgIGNvbnN0IGRpc3RQb3NpdGlvbiA9IEhldXJpc3RpY3MuZ2V0R29hbFBvc2l0aW9uKGVsZW1lbnQsIGRpc3RpbmN0U3RhdGUpO1xuICAgICAgICByZXN1bHQgKz0gSGV1cmlzdGljcy5tYW5oYXR0YW4oZWxlbWVudFBvc2l0aW9uLCBkaXN0UG9zaXRpb24pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHN0YXRpYyBnZXRHb2FsUG9zaXRpb24odmFsLCBzdGF0ZSkge1xuICAgIGxldCBnb2FsUG9zaXRpb247XG4gICAgY29uc3Qgc2l6ZSA9IHN0YXRlLmxlbmd0aDtcbiAgICBmb3IgKGxldCByb3dJbmRleCA9IDA7IHJvd0luZGV4IDwgc2l6ZTsgcm93SW5kZXggKz0gMSkge1xuICAgICAgZm9yIChsZXQgY29sSW5kZXggPSAwOyBjb2xJbmRleCA8IHNpemU7IGNvbEluZGV4ICs9IDEpIHtcbiAgICAgICAgaWYgKHN0YXRlW3Jvd0luZGV4XVtjb2xJbmRleF0gPT09IHZhbCkge1xuICAgICAgICAgIGdvYWxQb3NpdGlvbiA9IHsgeDogcm93SW5kZXgsIHk6IGNvbEluZGV4IH07XG4gICAgICAgICAgcmV0dXJuIGdvYWxQb3NpdGlvbjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdGF0aWMgbWFuaGF0dGFuKHBvczAsIHBvczEpIHtcbiAgICBjb25zdCBkMSA9IE1hdGguYWJzKHBvczAueCAtIHBvczEueCk7XG4gICAgY29uc3QgZDIgPSBNYXRoLmFicyhwb3MwLnkgLSBwb3MxLnkpO1xuICAgIHJldHVybiBkMSArIGQyO1xuICB9XG5cbiAgc3RhdGljIGxpbmVhckNvbmZsaWN0KHN0YXRlKSB7XG4gICAgbGV0IHJlc3VsdCA9IDA7XG4gICAgY29uc3Qgc2l6ZSA9IHN0YXRlLmxlbmd0aDtcbiAgICBjb25zdCBzb2x2ZWQgPSBIZXVyaXN0aWNzLmdldFNvbHZlZEFycmF5cyhzaXplKTtcbiAgICBmb3IgKGxldCBDb2xSb3dJdGVyYXRvciA9IDA7IENvbFJvd0l0ZXJhdG9yIDwgc2l6ZTsgQ29sUm93SXRlcmF0b3IgKz0gMSkge1xuICAgICAgY29uc3Qgcm93U3RhdGUgPSBbLi4uc3RhdGVbQ29sUm93SXRlcmF0b3JdXTtcbiAgICAgIGNvbnN0IGNvbFN0YXRlID0gSGV1cmlzdGljcy5nZXRDb2xDYW5kaWRhdGUoc3RhdGUsIENvbFJvd0l0ZXJhdG9yKTtcbiAgICAgIHJlc3VsdCArPSBIZXVyaXN0aWNzLmNvdW50Q29uZmxpY3RzKHJvd1N0YXRlLCBzb2x2ZWQucm93c1tDb2xSb3dJdGVyYXRvcl0sIHNpemUpO1xuICAgICAgcmVzdWx0ICs9IEhldXJpc3RpY3MuY291bnRDb25mbGljdHMoY29sU3RhdGUsIHNvbHZlZC5jb2xzW0NvbFJvd0l0ZXJhdG9yXSwgc2l6ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBzdGF0aWMgZ2V0U29sdmVkQXJyYXlzKHNpemUpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICByb3dzOiBbXSxcbiAgICAgIGNvbHM6IFtdLFxuICAgIH07XG4gICAgZm9yIChsZXQgbWFpbklkeCA9IDA7IG1haW5JZHggPCBzaXplOyBtYWluSWR4ICs9IDEpIHtcbiAgICAgIHJlc3VsdC5yb3dzW21haW5JZHhdID0gWy4uLkFycmF5KHNpemUpLmtleXMoKV0ubWFwKChudW0pID0+IG1haW5JZHggKiBzaXplICsgbnVtICsgMSk7XG4gICAgICByZXN1bHQuY29sc1ttYWluSWR4XSA9IFsuLi5BcnJheShzaXplKS5rZXlzKCldLm1hcCgobnVtKSA9PiBtYWluSWR4ICsgMSArIG51bSAqIHNpemUpO1xuICAgICAgaWYgKG1haW5JZHggPT09IHNpemUgLSAxKSB7XG4gICAgICAgIHJlc3VsdC5yb3dzW21haW5JZHhdW3NpemUgLSAxXSA9ICdpY29uJztcbiAgICAgICAgcmVzdWx0LmNvbHNbbWFpbklkeF1bc2l6ZSAtIDFdID0gJ2ljb24nO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc3RhdGljIGdldENvbENhbmRpZGF0ZShzdGF0ZSwgaWR4KSB7XG4gICAgcmV0dXJuIFsuLi5BcnJheShzdGF0ZS5zaXplKS5rZXlzKCldLm1hcCgocm93SXRlcmF0b3IpID0+IHN0YXRlW3Jvd0l0ZXJhdG9yXVtpZHhdKTtcbiAgfVxuXG4gIHN0YXRpYyBjb3VudENvbmZsaWN0cyhjYW5kaWRhdGVSb3csIHNvbHZlZFJvdywgc2l6ZSkge1xuICAgIGxldCByZXN1bHQgPSAwO1xuICAgIGZvciAobGV0IG91dGVyUG9zID0gMDsgb3V0ZXJQb3MgPCBzaXplOyBvdXRlclBvcyArPSAxKSB7XG4gICAgICBjb25zdCBvdXRlclZhbCA9IGNhbmRpZGF0ZVJvd1tvdXRlclBvc107XG4gICAgICBpZiAoc29sdmVkUm93LmluY2x1ZGVzKG91dGVyVmFsKSkge1xuICAgICAgICBmb3IgKGxldCBpbm5lclBvcyA9IG91dGVyUG9zICsgMTsgaW5uZXJQb3MgPCBzaXplOyBpbm5lclBvcyArPSAxKSB7XG4gICAgICAgICAgY29uc3QgaW5uZXJWYWwgPSBjYW5kaWRhdGVSb3dbaW5uZXJQb3NdO1xuICAgICAgICAgIGlmIChzb2x2ZWRSb3cuaW5jbHVkZXMoaW5uZXJWYWwpKSB7XG4gICAgICAgICAgICBjb25zdCBvdXRlckZpbmFsUG9zID0gc29sdmVkUm93LmluZGV4T2Yob3V0ZXJWYWwpO1xuICAgICAgICAgICAgY29uc3QgaW5uZXJGaW5hbFBvcyA9IHNvbHZlZFJvdy5pbmRleE9mKGlubmVyVmFsKTtcbiAgICAgICAgICAgIGNvbnN0IGlzT3V0ZXJWYWxHcmVhdGVyID0gb3V0ZXJWYWwgPiBpbm5lclZhbDtcbiAgICAgICAgICAgIGNvbnN0IGlzT3V0ZXJDYW5kaWRhdGVQb3NMZXNzZXIgPSBvdXRlclBvcyA8IGlubmVyUG9zO1xuICAgICAgICAgICAgY29uc3QgaXNPdXRlckZpbmFsUG9zR3JlYXRlciA9IG91dGVyRmluYWxQb3MgPiBpbm5lckZpbmFsUG9zO1xuICAgICAgICAgICAgaWYgKGlzT3V0ZXJWYWxHcmVhdGVyICYmIGlzT3V0ZXJDYW5kaWRhdGVQb3NMZXNzZXIgJiYgaXNPdXRlckZpbmFsUG9zR3JlYXRlcikge1xuICAgICAgICAgICAgICByZXN1bHQgKz0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJpb3JpdHlRdWV1ZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaXRlbXMgPSBbXTtcbiAgfVxuXG4gIHN3YXAoaWR4MSwgaWR4Mikge1xuICAgIFt0aGlzLml0ZW1zW2lkeDFdLCB0aGlzLml0ZW1zW2lkeDJdXSA9IFt0aGlzLml0ZW1zW2lkeDJdLCB0aGlzLml0ZW1zW2lkeDFdXTtcbiAgfVxuXG4gIGJ1YmJsZVVwKCkge1xuICAgIGxldCBpZHggPSB0aGlzLnNpemUoKSAtIDE7XG4gICAgd2hpbGUgKGlkeCA+IDApIHtcbiAgICAgIGNvbnN0IHBhcmVudElkeCA9IE1hdGguZmxvb3IoKGlkeCAtIDEpIC8gMik7XG4gICAgICBpZiAodGhpcy5pdGVtc1twYXJlbnRJZHhdLnZhbHVlID4gdGhpcy5pdGVtc1tpZHhdLnZhbHVlKSB7XG4gICAgICAgIHRoaXMuc3dhcChwYXJlbnRJZHgsIGlkeCk7XG4gICAgICAgIGlkeCA9IHBhcmVudElkeDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGJ1YmJsZURvd24oKSB7XG4gICAgbGV0IHBhcmVudElkeCA9IDA7XG4gICAgY29uc3Qgc2l6ZSA9IHRoaXMuc2l6ZSgpO1xuICAgIGNvbnN0IGVsZW1lbnRQcmlvcml0eSA9IHRoaXMuaXRlbXNbMF0udmFsdWU7XG4gICAgbGV0IGlzU3dhcCA9IHRydWU7XG5cbiAgICB3aGlsZSAoaXNTd2FwKSB7XG4gICAgICBjb25zdCBsZWZ0Q2hpbGRJZHggPSAoMiAqIHBhcmVudElkeCkgKyAxO1xuICAgICAgY29uc3QgcmlnaHRDaGlsZElkeCA9ICgyICogcGFyZW50SWR4KSArIDI7XG4gICAgICBsZXQgTENQOyAvLyBsZWZ0IGNoaWxkIHByaW9yaXR5XG4gICAgICBsZXQgUkNQOyAvLyByaWdodCBjaGlsZCBwcmlvcml0eVxuICAgICAgbGV0IGluZGV4VG9Td2FwID0gbnVsbDtcblxuICAgICAgaWYgKGxlZnRDaGlsZElkeCA8IHNpemUpIHtcbiAgICAgICAgTENQID0gdGhpcy5pdGVtc1tsZWZ0Q2hpbGRJZHhdLnZhbHVlO1xuICAgICAgICBpZiAoTENQIDwgZWxlbWVudFByaW9yaXR5KSB7XG4gICAgICAgICAgaW5kZXhUb1N3YXAgPSBsZWZ0Q2hpbGRJZHg7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHJpZ2h0Q2hpbGRJZHggPCBzaXplKSB7XG4gICAgICAgIFJDUCA9IHRoaXMuaXRlbXNbcmlnaHRDaGlsZElkeF0udmFsdWU7XG5cbiAgICAgICAgY29uc3QgcmlnaHRDaGlsZEdyZWF0ZXJXaXRoU3dhcCA9IFJDUCA8IGVsZW1lbnRQcmlvcml0eSAmJiBpbmRleFRvU3dhcCA9PT0gbnVsbDtcbiAgICAgICAgY29uc3QgcmlnaHRDaGlsZEdyZWF0ZXJXaXRoTm9Td2FwID0gUkNQIDwgTENQICYmIGluZGV4VG9Td2FwICE9PSBudWxsO1xuICAgICAgICBpZiAocmlnaHRDaGlsZEdyZWF0ZXJXaXRoU3dhcCB8fCByaWdodENoaWxkR3JlYXRlcldpdGhOb1N3YXApIHtcbiAgICAgICAgICBpbmRleFRvU3dhcCA9IHJpZ2h0Q2hpbGRJZHg7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGluZGV4VG9Td2FwID09PSBudWxsKSB7XG4gICAgICAgIGlzU3dhcCA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zd2FwKHBhcmVudElkeCwgaW5kZXhUb1N3YXApO1xuICAgICAgICBwYXJlbnRJZHggPSBpbmRleFRvU3dhcDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBlbnF1ZXVlKGVsZW1lbnQpIHtcbiAgICB0aGlzLml0ZW1zLnB1c2goZWxlbWVudCk7XG4gICAgdGhpcy5idWJibGVVcCgpO1xuICB9XG5cbiAgZGVxdWV1ZSgpIHtcbiAgICB0aGlzLnN3YXAoMCwgdGhpcy5zaXplKCkgLSAxKTtcbiAgICBjb25zdCBwb3BwZWROb2RlID0gdGhpcy5pdGVtcy5wb3AoKTtcbiAgICBpZiAodGhpcy5pdGVtcy5sZW5ndGggPiAxKSB7XG4gICAgICB0aGlzLmJ1YmJsZURvd24oKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9wcGVkTm9kZTtcbiAgfVxuXG4gIGlzRW1wdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbXMubGVuZ3RoID09PSAwO1xuICB9XG5cbiAgc2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtcy5sZW5ndGg7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICBsZXQgcmVzID0gJyc7XG4gICAgdGhpcy5pdGVtcy5mb3JFYWNoKChlbCkgPT4geyByZXMgPSBgJHtyZXN9LCAke2VsfWA7IH0pO1xuICB9XG59XG4iLCJpbXBvcnQgTm9kZSBmcm9tICcuL05vZGUnO1xuaW1wb3J0IEhldXJpc3RpY3MgZnJvbSAnLi9IZXVyaXN0aWNzJztcbmltcG9ydCBQcmlvcml0eVF1ZXVlIGZyb20gJy4vUHJpb3JpdHlRdWV1ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFTdGFyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7Kn0gaW5pdGlhbFxuICAgKiBAcGFyYW0geyp9IGdvYWxcbiAgICogQHBhcmFtIHsqfSBlbXB0eVxuICAgKi9cbiAgY29uc3RydWN0b3IoaW5pdGlhbFN0YXRlLCBnb2FsU3RhdGUsIGVtcHR5KSB7XG4gICAgaWYgKGluaXRpYWxTdGF0ZS5zdGF0ZSkge1xuICAgICAgdGhpcy5pbml0aWFsID0gaW5pdGlhbFN0YXRlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBJbml0aWFsSWR4cyA9IEFTdGFyLmZpbmRFbXB0eUNvbFJvdyhpbml0aWFsU3RhdGUsIGVtcHR5KTtcbiAgICAgIHRoaXMuaW5pdGlhbCA9IG5ldyBOb2RlKDAsIGluaXRpYWxTdGF0ZSwgSW5pdGlhbElkeHMucm93LCBJbml0aWFsSWR4cy5jb2wsIDApO1xuICAgIH1cbiAgICBpZiAoZ29hbFN0YXRlLnN0YXRlKSB7XG4gICAgICB0aGlzLmdvYWwgPSBnb2FsU3RhdGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGdvYWxJZHhzID0gQVN0YXIuZmluZEVtcHR5Q29sUm93KGdvYWxTdGF0ZSwgZW1wdHkpO1xuICAgICAgdGhpcy5nb2FsID0gbmV3IE5vZGUoMCwgZ29hbFN0YXRlLCBnb2FsSWR4cy5yb3csIGdvYWxJZHhzLmNvbCwgMCk7XG4gICAgfVxuICAgIHRoaXMuZW1wdHkgPSBlbXB0eTtcbiAgICB0aGlzLnF1ZXVlID0gbmV3IFByaW9yaXR5UXVldWUoKTtcbiAgICB0aGlzLnF1ZXVlLmVucXVldWUodGhpcy5pbml0aWFsKTtcbiAgICB0aGlzLnZpc2l0ZWQgPSBuZXcgU2V0KCk7IC8vIGNsb3NlZCBsaXN0XG4gIH1cblxuICBzdGF0aWMgZmluZEVtcHR5Q29sUm93KHN0YXRlLCBlbXB0eVNpZ24pIHtcbiAgICBjb25zdCBpZHhzID0ge1xuICAgICAgY29sOiAtMSxcbiAgICAgIHJvdzogLTEsXG4gICAgfTtcbiAgICBzdGF0ZS5mb3JFYWNoKChyb3csIHJvd0lkeCkgPT4ge1xuICAgICAgcm93LmZvckVhY2goKGVsZW1lbnQsIGNvbElkeCkgPT4ge1xuICAgICAgICBpZiAoZWxlbWVudCA9PT0gZW1wdHlTaWduKSB7XG4gICAgICAgICAgaWR4cy5jb2wgPSBjb2xJZHg7XG4gICAgICAgICAgaWR4cy5yb3cgPSByb3dJZHg7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBpZHhzO1xuICB9XG5cbiAgZXhlY3V0ZSgpIHtcbiAgICB0aGlzLnZpc2l0ZWQuYWRkKHRoaXMuaW5pdGlhbC5oYXNoKTtcbiAgICB3aGlsZSAodGhpcy5xdWV1ZS5zaXplKCkgPiAwKSB7XG4gICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5xdWV1ZS5kZXF1ZXVlKCk7XG5cbiAgICAgIGlmIChjdXJyZW50Lmhhc2ggPT09IHRoaXMuZ29hbC5oYXNoKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgICAgfVxuICAgICAgdGhpcy5leHBhbmQoY3VycmVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZXhwYW5kKG5vZGUpIHtcbiAgICBjb25zdCB7IGVtcHR5Q29sLCBlbXB0eVJvdywgc2l6ZSB9ID0gbm9kZTtcblxuICAgIGNvbnN0IGFsbG93ZWRNb3ZlcyA9IEFTdGFyLnZhbGlkTW92ZXMoZW1wdHlDb2wsIGVtcHR5Um93LCBzaXplKTtcbiAgICBjb25zdCBsYXN0TW92ZXMgPSBub2RlLnBhdGguc3BsaXQoJycpO1xuICAgIGNvbnN0IGxhc3RNb3ZlID0gbGFzdE1vdmVzW2xhc3RNb3Zlcy5sZW5ndGggLSAxXTtcbiAgICBpZiAobGFzdE1vdmUpIHtcbiAgICAgIGFsbG93ZWRNb3Zlcy5maWx0ZXIoKGVsKSA9PiAhQVN0YXIub3Bwb3NpdGVNb3ZlcyhlbCwgbGFzdE1vdmUpKTtcbiAgICB9XG5cbiAgICBhbGxvd2VkTW92ZXMuZm9yRWFjaCgoZGlyZWN0aW9uU2lnbikgPT4ge1xuICAgICAgY29uc3QgbmV3U3RhdGUgPSBub2RlLmdldENsb25lZFN0YXRlKCk7XG4gICAgICBsZXQgbmV3U3RhdGVSb3cgPSBlbXB0eVJvdztcbiAgICAgIGlmIChkaXJlY3Rpb25TaWduID09PSAnVCcgfHwgZGlyZWN0aW9uU2lnbiA9PT0gJ0InKSB7XG4gICAgICAgIG5ld1N0YXRlUm93ID0gZGlyZWN0aW9uU2lnbiA9PT0gJ1QnID8gZW1wdHlSb3cgLSAxIDogZW1wdHlSb3cgKyAxO1xuICAgICAgfVxuICAgICAgbGV0IG5ld1N0YXRlQ29sID0gZW1wdHlDb2w7XG4gICAgICBpZiAoZGlyZWN0aW9uU2lnbiA9PT0gJ0wnIHx8IGRpcmVjdGlvblNpZ24gPT09ICdSJykge1xuICAgICAgICBuZXdTdGF0ZUNvbCA9IGRpcmVjdGlvblNpZ24gPT09ICdMJyA/IGVtcHR5Q29sIC0gMSA6IGVtcHR5Q29sICsgMTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdGVtcCA9IG5ld1N0YXRlW25ld1N0YXRlUm93XVtuZXdTdGF0ZUNvbF07XG4gICAgICBuZXdTdGF0ZVtuZXdTdGF0ZVJvd11bbmV3U3RhdGVDb2xdID0gdGhpcy5lbXB0eTtcbiAgICAgIG5ld1N0YXRlW2VtcHR5Um93XVtlbXB0eUNvbF0gPSB0ZW1wO1xuICAgICAgY29uc3QgbmV3Tm9kZSA9IG5ldyBOb2RlKDAsIG5ld1N0YXRlLCBuZXdTdGF0ZVJvdywgbmV3U3RhdGVDb2wsIG5vZGUubW92ZXMgKyAxKTtcblxuICAgICAgaWYgKCF0aGlzLnZpc2l0ZWQuaGFzKG5ld05vZGUuaGFzaCkpIHtcbiAgICAgICAgbmV3Tm9kZS52YWx1ZSA9IG5ld05vZGUubW92ZXMgKyB0aGlzLmhldXJpc3RpYyhuZXdOb2RlKTtcbiAgICAgICAgbmV3Tm9kZS5wYXRoID0gYCR7bm9kZS5wYXRofSR7ZGlyZWN0aW9uU2lnbn1gO1xuICAgICAgICB0aGlzLnF1ZXVlLmVucXVldWUobmV3Tm9kZSk7XG4gICAgICAgIHRoaXMudmlzaXRlZC5hZGQobmV3Tm9kZS5oYXNoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gIH1cblxuICBoZXVyaXN0aWMobm9kZSkge1xuICAgIGNvbnN0IG1hbmhhdHRhbiA9IEhldXJpc3RpY3MuZ2V0TWFuaGF0dGFuRGlzdGFuY2Uobm9kZS5zdGF0ZSwgdGhpcy5nb2FsLnN0YXRlKTtcbiAgICBjb25zdCBsaW5lYXJDb25mbGljdCA9IEhldXJpc3RpY3MubGluZWFyQ29uZmxpY3Qobm9kZS5zdGF0ZSk7XG4gICAgcmV0dXJuIG1hbmhhdHRhbiArIGxpbmVhckNvbmZsaWN0O1xuICB9XG5cbiAgc3RhdGljIHZhbGlkTW92ZXMoY29sLCByb3csIHNpemUpIHtcbiAgICBjb25zdCB2YWxpZE1vdmVzID0gW107XG4gICAgaWYgKGNvbCAhPT0gMCkge1xuICAgICAgdmFsaWRNb3Zlcy5wdXNoKCdMJyk7XG4gICAgfVxuICAgIGlmIChjb2wgPCBzaXplIC0gMSkge1xuICAgICAgdmFsaWRNb3Zlcy5wdXNoKCdSJyk7XG4gICAgfVxuICAgIGlmIChyb3cgIT09IDApIHtcbiAgICAgIHZhbGlkTW92ZXMucHVzaCgnVCcpO1xuICAgIH1cbiAgICBpZiAocm93IDwgc2l6ZSAtIDEpIHtcbiAgICAgIHZhbGlkTW92ZXMucHVzaCgnQicpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsaWRNb3ZlcztcbiAgfVxuXG4gIHN0YXRpYyBvcHBvc2l0ZU1vdmVzKGN1ciwgbGFzdCkge1xuICAgIGxldCByZXMgPSBmYWxzZTtcblxuICAgIGlmIChjdXIgPT09ICdMJyAmJiBsYXN0ID09PSAnUicpIHJlcyA9IHRydWU7XG4gICAgaWYgKGN1ciA9PT0gJ1InICYmIGxhc3QgPT09ICdMJykgcmVzID0gdHJ1ZTtcbiAgICBpZiAoY3VyID09PSAnVCcgJiYgbGFzdCA9PT0gJ0InKSByZXMgPSB0cnVlO1xuICAgIGlmIChjdXIgPT09ICdCJyAmJiBsYXN0ID09PSAnVCcpIHJlcyA9IHRydWU7XG5cbiAgICByZXR1cm4gcmVzO1xuICB9XG59XG4iLCJpbXBvcnQgY3JlYXRlIGZyb20gJy4vdXRpbHMvY3JlYXRlJztcbmltcG9ydCByYW5kb21JbnRGcm9tVG8gZnJvbSAnLi91dGlscy9yYW5kb20nO1xuaW1wb3J0IEFTdGFyIGZyb20gJy4vc29sdmVyL0FTdGFyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQm9hcmQge1xuICBjb25zdHJ1Y3Rvcihib2FyZFNpemUsIGRyYWdPdmVySGFuZGxlcikge1xuICAgIHRoaXMuYm9hcmRTaXplID0gYm9hcmRTaXplO1xuICAgIHRoaXMuYm9hcmQgPSBjcmVhdGUoJ2RpdicsICdib2FyZCBhbmltYXRlJyk7XG4gICAgdGhpcy5tb3ZhYmxlID0ge307XG4gICAgdGhpcy5tb3ZhYmxlRWxlbWVudHMgPSB7fTtcbiAgICB0aGlzLmNlbGxzID0ge307XG4gICAgdGhpcy5ib2FyZEhUTUwgPSBbXTtcbiAgICB0aGlzLmJvYXJkQXJyYXkgPSBbXTtcbiAgICB0aGlzLmVtcHR5ID0ge1xuICAgICAgcm93OiAtMSxcbiAgICAgIGNlbGw6IC0xLFxuICAgICAgdmFsOiAnaWNvbicsXG4gICAgfTtcblxuICAgIHRoaXMubWFrZURyYWdnYWJsZShkcmFnT3ZlckhhbmRsZXIpO1xuICB9XG5cbiAgaW5pdChpbWcpIHtcbiAgICB0aGlzLnNldEltYWdlKGltZyk7XG4gICAgdGhpcy5uZXdHYW1lKCk7XG4gIH1cblxuICBjcmVhdGVTb2x2ZXIoKSB7XG4gICAgdGhpcy5zb2x2ZXIgPSBuZXcgQVN0YXIodGhpcy5ib2FyZEFycmF5LCB0aGlzLmdldDJkVmljdG9yeUFycmF5KCksICdpY29uJyk7XG4gIH1cblxuICBlbXB0eUJvYXJkKCkge1xuICAgIHRoaXMuYm9hcmQuaW5uZXJIVE1MID0gJyc7XG4gIH1cblxuICBuZXdHYW1lKCkge1xuICAgIHRoaXMuY3JlYXRlQm9hcmQoKTtcbiAgICB0aGlzLmJvYXJkUmVuZGVyKCk7XG4gICAgdGhpcy51cGRhdGVDZWxsQmFja2dyb3VuZCgpO1xuICB9XG5cbiAgdXBkYXRlQm9hcmRIVE1MKCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ib2FyZFNpemU7IGkgKz0gMSkge1xuICAgICAgdGhpcy5ib2FyZC5hcHBlbmQodGhpcy5ib2FyZEhUTUxbaV0pO1xuICAgIH1cbiAgfVxuXG4gIGluaXRCb2FyZEFycmF5KCkge1xuICAgIHRoaXMuYm9hcmRBcnJheSA9IFtdO1xuICAgIGNvbnN0IG51bWJlckFycmF5ID0gW107XG4gICAgbGV0IGN1cnJlbnROdW1iZXIgPSAxO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ib2FyZFNpemU7IGkgKz0gMSkge1xuICAgICAgY29uc3Qgcm93ID0gW107XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuYm9hcmRTaXplOyBqICs9IDEpIHtcbiAgICAgICAgaWYgKGkgPT09IHRoaXMuYm9hcmRTaXplIC0gMSAmJiBqID09PSB0aGlzLmJvYXJkU2l6ZSAtIDEpIHtcbiAgICAgICAgICByb3cucHVzaCgnaWNvbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJvdy5wdXNoKGN1cnJlbnROdW1iZXIpO1xuICAgICAgICAgIGN1cnJlbnROdW1iZXIgKz0gMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5ib2FyZEFycmF5LnB1c2gocm93KTtcbiAgICB9XG4gICAgdGhpcy52aWN0b3J5QXJyYXkgPSBbLi4ubnVtYmVyQXJyYXldO1xuICB9XG5cbiAgYm9hcmRSZW5kZXIoKSB7XG4gICAgdGhpcy5lbXB0eUJvYXJkKCk7XG4gICAgdGhpcy5ib2FyZEFycmF5LmZvckVhY2goKHJvdywgcm93SW5kZXgpID0+IHtcbiAgICAgIHRoaXMuYm9hcmRIVE1MW3Jvd0luZGV4XSA9IGNyZWF0ZSgnZGl2JywgJ2JvYXJkX19yb3cnKTtcbiAgICAgIHJvdy5mb3JFYWNoKChjZWxsLCBjZWxsSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgY2VsbE9wdGlvbnMgPSBbXG4gICAgICAgICAgWydyb3cnLCBgJHtyb3dJbmRleH1gXSxcbiAgICAgICAgICBbJ2NlbGwnLCBgJHtjZWxsSW5kZXh9YF0sXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IGNlbGxFbGVtZW50ID0gY3JlYXRlKCdkaXYnLCAnYm9hcmRfX2NlbGwnLCBudWxsLCB0aGlzLmJvYXJkSFRNTFtyb3dJbmRleF0sIC4uLmNlbGxPcHRpb25zKTtcbiAgICAgICAgaWYgKGNlbGwgPT09ICdpY29uJykge1xuICAgICAgICAgIGNlbGxFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2JvYXJkX19jZWxsLS1kaXNhYmxlZCcpO1xuICAgICAgICAgIHRoaXMuZW1wdHlDZWxsID0gY2VsbEVsZW1lbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgcG9zID0gYCR7cm93SW5kZXh9XyR7Y2VsbEluZGV4fWA7XG4gICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMubW92YWJsZSkuaW5jbHVkZXMocG9zKSkge1xuICAgICAgICAgICAgY29uc3QgbW92ZURpcmVjdGlvbiA9IHRoaXMubW92YWJsZVtwb3NdO1xuICAgICAgICAgICAgY2VsbEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYm9hcmRfX2NlbGwtLWFjdGl2ZScpO1xuICAgICAgICAgICAgY2VsbEVsZW1lbnQuZGF0YXNldC5wb3NpdGlvbiA9IHRoaXMubW92YWJsZVtwb3NdO1xuICAgICAgICAgICAgY2VsbEVsZW1lbnQuZGF0YXNldC52YWx1ZSA9IGNlbGw7XG4gICAgICAgICAgICBjZWxsRWxlbWVudC5kcmFnZ2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5tb3ZhYmxlRWxlbWVudHNbbW92ZURpcmVjdGlvbl0gPSBjZWxsRWxlbWVudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2VsbEVsZW1lbnQudGV4dENvbnRlbnQgPSBjZWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2VsbHNbY2VsbF0gPSBjZWxsRWxlbWVudDtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHRoaXMudXBkYXRlQm9hcmRIVE1MKCk7XG4gIH1cblxuICB1cGRhdGVCb2FyZCgpIHtcbiAgICB0aGlzLm1vdmFibGVFbGVtZW50cyA9IHt9O1xuICAgIHRoaXMuYm9hcmRBcnJheS5mb3JFYWNoKChyb3csIHJvd0luZGV4KSA9PiB7XG4gICAgICByb3cuZm9yRWFjaCgoY2VsbCwgY2VsbEluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGNlbGxFbGVtZW50ID0gdGhpcy5jZWxsc1tjZWxsXTtcbiAgICAgICAgY2VsbEVsZW1lbnQuc3R5bGUudG9wID0gMDtcbiAgICAgICAgY2VsbEVsZW1lbnQuc3R5bGUubGVmdCA9IDA7XG4gICAgICAgIGlmIChjZWxsID09PSAnaWNvbicpIHtcbiAgICAgICAgICB0aGlzLmVtcHR5Q2VsbCA9IGNlbGxFbGVtZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHBvcyA9IGAke3Jvd0luZGV4fV8ke2NlbGxJbmRleH1gO1xuICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLm1vdmFibGUpLmluY2x1ZGVzKHBvcykpIHtcbiAgICAgICAgICAgIGNvbnN0IG1vdmVEaXJlY3Rpb24gPSB0aGlzLm1vdmFibGVbcG9zXTtcbiAgICAgICAgICAgIGNlbGxFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2JvYXJkX19jZWxsLS1hY3RpdmUnKTtcbiAgICAgICAgICAgIGNlbGxFbGVtZW50LmRhdGFzZXQucG9zaXRpb24gPSBtb3ZlRGlyZWN0aW9uO1xuICAgICAgICAgICAgY2VsbEVsZW1lbnQuZHJhZ2dhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubW92YWJsZUVsZW1lbnRzW21vdmVEaXJlY3Rpb25dID0gY2VsbEVsZW1lbnQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNlbGxFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2JvYXJkX19jZWxsLS1hY3RpdmUnKTtcbiAgICAgICAgICAgIGNlbGxFbGVtZW50LmRyYWdnYWJsZSA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjZWxsRWxlbWVudC5kYXRhc2V0LnJvdyA9IHJvd0luZGV4O1xuICAgICAgICAgIGNlbGxFbGVtZW50LmRhdGFzZXQuY2VsbCA9IGNlbGxJbmRleDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJvYXJkSFRNTFtyb3dJbmRleF0uYXBwZW5kQ2hpbGQoY2VsbEVsZW1lbnQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy51cGRhdGVCb2FyZEhUTUwoKTtcbiAgfVxuXG4gIHNldEltYWdlKGltYWdlU3JjKSB7XG4gICAgdGhpcy5pbWFnZSA9IHtcbiAgICAgIHNyYzogaW1hZ2VTcmMsXG4gICAgICBpbWc6IGNyZWF0ZSgnaW1nJywgJ2FjdHVhbEltYWdlJywgbnVsbCwgbnVsbCwgWydzcmMnLCBpbWFnZVNyY10pLFxuICAgICAgcGVyY2VudDogMTAwIC8gdGhpcy5ib2FyZFNpemUsXG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZUNlbGxCYWNrZ3JvdW5kKCkge1xuICAgIGNvbnN0IG1heFZhbCA9IHRoaXMuYm9hcmRTaXplICogdGhpcy5ib2FyZFNpemU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhWYWwgLSAxOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IHhQb3MgPSBgJHsodGhpcy5pbWFnZS5wZXJjZW50ICogKGkgJSB0aGlzLmJvYXJkU2l6ZSkpfSVgO1xuICAgICAgY29uc3QgeVBvcyA9IGAkeyh0aGlzLmltYWdlLnBlcmNlbnQgKiBNYXRoLmZsb29yKGkgLyB0aGlzLmJvYXJkU2l6ZSkpfSVgO1xuICAgICAgdGhpcy5jZWxsc1tpICsgMV0uc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke3RoaXMuaW1hZ2Uuc3JjfSlgO1xuICAgICAgdGhpcy5jZWxsc1tpICsgMV0uc3R5bGUuYmFja2dyb3VuZFNpemUgPSBgJHsoK3RoaXMuYm9hcmRTaXplICsgMSkgKiA1fXJlbWA7XG4gICAgICB0aGlzLmNlbGxzW2kgKyAxXS5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb25YID0geFBvcztcbiAgICAgIHRoaXMuY2VsbHNbaSArIDFdLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvblkgPSB5UG9zO1xuICAgIH1cbiAgfVxuXG4gIGNyZWF0ZUJvYXJkKCkge1xuICAgIHRoaXMuaW5pdEJvYXJkQXJyYXkoKTtcbiAgICB0aGlzLnJhbmRvbWl6ZSgpO1xuICAgIHRoaXMuc2V0RW1wdHlDZWxsKCk7XG4gIH1cblxuICBzZXRFbXB0eUNlbGwoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJvYXJkU2l6ZTsgaSArPSAxKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuYm9hcmRTaXplOyBqICs9IDEpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmJvYXJkQXJyYXlbaV1bal07XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5lbXB0eS52YWwpIHtcbiAgICAgICAgICB0aGlzLmVtcHR5LnJvdyA9IGk7XG4gICAgICAgICAgdGhpcy5lbXB0eS5jZWxsID0gajtcbiAgICAgICAgICB0aGlzLnVwZGF0ZU1vdmFibGVFbGVtZW50cygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZGlzYWJsZU1vdmUoKSB7XG4gICAgdGhpcy5tb3ZhYmxlID0ge307XG4gICAgdGhpcy5tb3ZhYmxlRWxlbWVudHMgPSB7fTtcbiAgfVxuXG4gIHVwZGF0ZU1vdmFibGVFbGVtZW50cygpIHtcbiAgICBjb25zdCByb3cgPSBwYXJzZUludCh0aGlzLmVtcHR5LnJvdywgMTApO1xuICAgIGNvbnN0IGNlbGwgPSBwYXJzZUludCh0aGlzLmVtcHR5LmNlbGwsIDEwKTtcbiAgICB0aGlzLm1vdmFibGUgPSB7fTtcbiAgICB0aGlzLm1vdmFibGVbYCR7cm93IC0gMX1fJHtjZWxsfWBdID0gJ3RvcCc7XG4gICAgdGhpcy5tb3ZhYmxlW2Ake3JvdyArIDF9XyR7Y2VsbH1gXSA9ICdib3R0b20nO1xuICAgIHRoaXMubW92YWJsZVtgJHtyb3d9XyR7Y2VsbCAtIDF9YF0gPSAnbGVmdCc7XG4gICAgdGhpcy5tb3ZhYmxlW2Ake3Jvd31fJHtjZWxsICsgMX1gXSA9ICdyaWdodCc7XG4gIH1cblxuICBjcmVhdGVTaHVmZmxlZEFycmF5KCkge1xuICAgIGNvbnN0IG51bWJlckFycmF5ID0gW107XG4gICAgbGV0IGN1cnJlbnROdW1iZXIgPSAxO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ib2FyZFNpemU7IGkgKz0gMSkge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmJvYXJkU2l6ZTsgaiArPSAxKSB7XG4gICAgICAgIGlmIChpID09PSB0aGlzLmJvYXJkU2l6ZSAtIDEgJiYgaiA9PT0gdGhpcy5ib2FyZFNpemUgLSAxKSB7XG4gICAgICAgICAgbnVtYmVyQXJyYXkucHVzaCgnaWNvbicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG51bWJlckFycmF5LnB1c2goY3VycmVudE51bWJlcik7XG4gICAgICAgICAgY3VycmVudE51bWJlciArPSAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMudmljdG9yeUFycmF5ID0gWy4uLm51bWJlckFycmF5XTtcbiAgICB0aGlzLmJvYXJkQXJyYXkgPSBudW1iZXJBcnJheTtcbiAgICBkbyB7XG4gICAgICB0aGlzLnNodWZmbGUoKTtcbiAgICB9IHdoaWxlICghdGhpcy5pc1NvbHZhYmxlKCkpO1xuXG4gICAgY29uc3QgYXJyID0gWy4uLnRoaXMuYm9hcmRBcnJheV07XG4gICAgdGhpcy5ib2FyZEFycmF5ID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJvYXJkU2l6ZTsgaSArPSAxKSB7XG4gICAgICBjb25zdCBpbm5lckFyciA9IFtdO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmJvYXJkU2l6ZTsgaiArPSAxKSB7XG4gICAgICAgIGlubmVyQXJyLnB1c2goYXJyW2kgKiB0aGlzLmJvYXJkU2l6ZSArIGpdKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuYm9hcmRBcnJheS5wdXNoKGlubmVyQXJyKTtcbiAgICB9XG4gIH1cblxuICBzaHVmZmxlKCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGNvbnN0IHRlbXBBcnIgPSBbLi4udGhpcy5ib2FyZEFycmF5XTtcblxuICAgIHdoaWxlICh0ZW1wQXJyLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHJhbmRvbSA9IHJhbmRvbUludEZyb21UbygwLCB0ZW1wQXJyLmxlbmd0aCAtIDEpO1xuICAgICAgY29uc3QgZWxlbSA9IHRlbXBBcnIuc3BsaWNlKHJhbmRvbSwgMSlbMF07XG4gICAgICByZXN1bHQucHVzaChlbGVtKTtcbiAgICB9XG5cbiAgICB0aGlzLmJvYXJkQXJyYXkgPSByZXN1bHQ7XG4gIH1cblxuICBzdGF0aWMgaXNJY29uKHZhbCkge1xuICAgIHJldHVybiB2YWwgPT09ICdpY29uJztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBIVE1MRWxlbVxuICAgKi9cbiAgbW92ZShIVE1MRWxlbSkge1xuICAgIGNvbnN0IGVsZW0gPSBIVE1MRWxlbTtcbiAgICBjb25zdCB7IHJvdywgY2VsbCwgcG9zaXRpb24gfSA9IGVsZW0uZGF0YXNldDtcbiAgICBjb25zdCB2YWwgPSB0aGlzLmJvYXJkQXJyYXlbcm93XVtjZWxsXTtcblxuICAgIHN3aXRjaCAocG9zaXRpb24pIHtcbiAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICB0aGlzLmVtcHR5Q2VsbC5zdHlsZS5sZWZ0ID0gJy01NnB4JztcbiAgICAgICAgZWxlbS5zdHlsZS5sZWZ0ID0gJzU2cHgnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgdGhpcy5lbXB0eUNlbGwuc3R5bGUubGVmdCA9ICc1NnB4JztcbiAgICAgICAgZWxlbS5zdHlsZS5sZWZ0ID0gJy01NnB4JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0b3AnOlxuICAgICAgICB0aGlzLmVtcHR5Q2VsbC5zdHlsZS50b3AgPSAnLTU2cHgnO1xuICAgICAgICBlbGVtLnN0eWxlLnRvcCA9ICc1NnB4JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICB0aGlzLmVtcHR5Q2VsbC5zdHlsZS50b3AgPSAnNTZweCc7XG4gICAgICAgIGVsZW0uc3R5bGUudG9wID0gJy01NnB4JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OiBicmVhaztcbiAgICB9XG5cbiAgICB0aGlzLmJvYXJkQXJyYXlbcm93XVtjZWxsXSA9ICdpY29uJztcbiAgICB0aGlzLmJvYXJkQXJyYXlbdGhpcy5lbXB0eS5yb3ddW3RoaXMuZW1wdHkuY2VsbF0gPSB2YWw7XG5cbiAgICB0aGlzLmVtcHR5LnJvdyA9IHJvdztcbiAgICB0aGlzLmVtcHR5LmNlbGwgPSBjZWxsO1xuICB9XG5cbiAgc2V0U2l6ZShib2FyZFNpemUpIHtcbiAgICB0aGlzLmJvYXJkU2l6ZSA9IGJvYXJkU2l6ZTtcbiAgfVxuXG4gIHNldEJvYXJkQXJyYXkoYm9hcmRBcnJheSkge1xuICAgIHRoaXMuYm9hcmRBcnJheSA9IGJvYXJkQXJyYXk7XG4gICAgdGhpcy5zZXRFbXB0eUNlbGwoKTtcbiAgICB0aGlzLmJvYXJkUmVuZGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogcmV0dXJuIGJvb2xlYW5cbiAgICovXG4gIGlzU29sdmFibGUoKSB7XG4gICAgbGV0IGNvdW50SW52ZXJzaW9ucyA9IDA7XG4gICAgY29uc3Qgc2l6ZSA9IHRoaXMuYm9hcmRTaXplICogdGhpcy5ib2FyZFNpemU7XG4gICAgY29uc3Qgb25lRGltZW5zaW9uYWxBcnJheSA9IFtdLmNvbmNhdCguLi50aGlzLmJvYXJkQXJyYXkpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSArPSAxKSB7XG4gICAgICBpZiAob25lRGltZW5zaW9uYWxBcnJheVtpXSA9PT0gJ2ljb24nKSB7XG4gICAgICAgIGNvdW50SW52ZXJzaW9ucyArPSBNYXRoLmZsb29yKGkgLyB0aGlzLmJvYXJkU2l6ZSkgKyAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBpOyBqICs9IDEpIHtcbiAgICAgICAgICBjb3VudEludmVyc2lvbnMgKz0gb25lRGltZW5zaW9uYWxBcnJheVtqXSA+IG9uZURpbWVuc2lvbmFsQXJyYXlbaV0gPyAxIDogMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY291bnRJbnZlcnNpb25zICUgMiA9PT0gMDtcbiAgfVxuXG4gIGdldDJkVmljdG9yeUFycmF5KCkge1xuICAgIHRoaXMudmljdG9yeUFycmF5ID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJvYXJkU2l6ZTsgaSArPSAxKSB7XG4gICAgICBjb25zdCBpbm5lckFyciA9IFtdO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmJvYXJkU2l6ZTsgaiArPSAxKSB7XG4gICAgICAgIGlubmVyQXJyLnB1c2goaSAqIHRoaXMuYm9hcmRTaXplICsgaiArIDEpO1xuICAgICAgfVxuICAgICAgdGhpcy52aWN0b3J5QXJyYXkucHVzaChpbm5lckFycik7XG4gICAgfVxuICAgIHRoaXMudmljdG9yeUFycmF5W3RoaXMuYm9hcmRTaXplIC0gMV1bdGhpcy5ib2FyZFNpemUgLSAxXSA9ICdpY29uJztcbiAgICByZXR1cm4gdGhpcy52aWN0b3J5QXJyYXk7XG4gIH1cblxuICBjcmVhdGVWaWN0b3J5QXJyYXkoKSB7XG4gICAgdGhpcy52aWN0b3J5QXJyYXkgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYm9hcmRTaXplOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IGlubmVyQXJyID0gW107XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuYm9hcmRTaXplOyBqICs9IDEpIHtcbiAgICAgICAgaW5uZXJBcnIucHVzaChpICogdGhpcy5ib2FyZFNpemUgKyBqICsgMSk7XG4gICAgICB9XG4gICAgICB0aGlzLnZpY3RvcnlBcnJheS5wdXNoKGlubmVyQXJyKTtcbiAgICB9XG4gICAgdGhpcy52aWN0b3J5QXJyYXlbdGhpcy5ib2FyZFNpemUgLSAxXVt0aGlzLmJvYXJkU2l6ZSAtIDFdID0gJ2ljb24nO1xuICB9XG5cbiAgLyoqXG4gICAgICogcmV0dXJuIGJvb2xlYW5cbiAgICAgKi9cbiAgaXNTb2x2ZWQoKSB7XG4gICAgaWYgKCF0aGlzLnZpY3RvcnlBcnJheSB8fCB0aGlzLnZpY3RvcnlBcnJheS5sZW5ndGggPT09IDApIHRoaXMuY3JlYXRlVmljdG9yeUFycmF5KCk7XG4gICAgY29uc3QgdmljdG9yeSA9IHRydWU7XG4gICAgY29uc3QgdmEgPSBbXS5jb25jYXQoLi4udGhpcy52aWN0b3J5QXJyYXkpO1xuICAgIGNvbnN0IGJhID0gW10uY29uY2F0KC4uLnRoaXMuYm9hcmRBcnJheSk7XG4gICAgY29uc3Qgc2l6ZSA9IHRoaXMuYm9hcmRTaXplICogdGhpcy5ib2FyZFNpemU7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkgKz0gMSkge1xuICAgICAgaWYgKHZhW2ldICE9PSBiYVtpXSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB2aWN0b3J5O1xuICB9XG5cbiAgbWFrZURyYWdnYWJsZShkcmFnT3ZlckhhbmRsZXIpIHtcbiAgICB0aGlzLmJvYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIChlKSA9PiB7XG4gICAgICB0aGlzLmRyYWdnZWRDZWxsID0gZS50YXJnZXQ7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHsgZS50YXJnZXQuc3R5bGUuZm9udFNpemUgPSAwOyB9LCAwKTtcbiAgICB9KTtcblxuICAgIHRoaXMuYm9hcmQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsICgpID0+IHtcbiAgICAgIGlmICh0aGlzLmVtcHR5Q2VsbCA9PT0gdGhpcy5kcmFnT3ZlckVsZW1lbnQpIHtcbiAgICAgICAgZHJhZ092ZXJIYW5kbGVyKHsgdGFyZ2V0OiB0aGlzLmRyYWdnZWRDZWxsIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5kcmFnZ2VkQ2VsbCA9IG51bGw7XG4gICAgfSk7XG5cbiAgICB0aGlzLmJvYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRFbGVtZW50ID0gZS50YXJnZXQ7XG4gICAgICB0aGlzLmRyYWdPdmVyRWxlbWVudCA9IGN1cnJlbnRFbGVtZW50O1xuICAgIH0pO1xuICB9XG5cbiAgc2V0Qm9hcmRTaXplKG5ld0JvYXJkU2l6ZSkge1xuICAgIHRoaXMuYm9hcmRTaXplID0gbmV3Qm9hcmRTaXplO1xuICB9XG5cbiAgcmFuZG9taXplKCkge1xuICAgIGNvbnN0IGNoYW9zT3JkZXIgPSAzOyAvL1xuICAgIGNvbnN0IG1vdmVzQ291bnQgPSB0aGlzLmJvYXJkU2l6ZSAqKiBjaGFvc09yZGVyO1xuICAgIHRoaXMuZW1wdHkucm93ID0gdGhpcy5ib2FyZFNpemUgLSAxO1xuICAgIHRoaXMuZW1wdHkuY29sID0gdGhpcy5ib2FyZFNpemUgLSAxO1xuICAgIGxldCBwcmV2TW92ZSA9IG51bGw7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vdmVzQ291bnQ7IGkgKz0gMSkge1xuICAgICAgY29uc3QgZGlyZWN0aW9ucyA9IHRoaXMudmFsaWRNb3ZlcygpO1xuICAgICAgaWYgKHByZXZNb3ZlICE9PSBudWxsICYmIGRpcmVjdGlvbnMuaW5jbHVkZXMocHJldk1vdmUpKSB7XG4gICAgICAgIGRpcmVjdGlvbnMuc3BsaWNlKGRpcmVjdGlvbnMuaW5kZXhPZihwcmV2TW92ZSksIDEpO1xuICAgICAgfVxuICAgICAgY29uc3QgZGlyTnVtID0gcmFuZG9tSW50RnJvbVRvKDAsIGRpcmVjdGlvbnMubGVuZ3RoIC0gMSk7XG4gICAgICBsZXQgbmV3Um93O1xuICAgICAgbGV0IG5ld0NvbDtcbiAgICAgIHN3aXRjaCAoZGlyZWN0aW9uc1tkaXJOdW1dKSB7XG4gICAgICAgIGNhc2UgJ1VwJzpcbiAgICAgICAgICBuZXdSb3cgPSB0aGlzLmVtcHR5LnJvdyAtIDE7XG4gICAgICAgICAgdGhpcy5ib2FyZEFycmF5W3RoaXMuZW1wdHkucm93XVt0aGlzLmVtcHR5LmNvbF0gPSB0aGlzLmJvYXJkQXJyYXlbbmV3Um93XVt0aGlzLmVtcHR5LmNvbF07XG4gICAgICAgICAgdGhpcy5ib2FyZEFycmF5W25ld1Jvd11bdGhpcy5lbXB0eS5jb2xdID0gdGhpcy5lbXB0eS52YWw7XG4gICAgICAgICAgdGhpcy5lbXB0eS5yb3cgPSBuZXdSb3c7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0Rvd24nOlxuICAgICAgICAgIG5ld1JvdyA9IHRoaXMuZW1wdHkucm93ICsgMTtcbiAgICAgICAgICB0aGlzLmJvYXJkQXJyYXlbdGhpcy5lbXB0eS5yb3ddW3RoaXMuZW1wdHkuY29sXSA9IHRoaXMuYm9hcmRBcnJheVtuZXdSb3ddW3RoaXMuZW1wdHkuY29sXTtcbiAgICAgICAgICB0aGlzLmJvYXJkQXJyYXlbbmV3Um93XVt0aGlzLmVtcHR5LmNvbF0gPSB0aGlzLmVtcHR5LnZhbDtcbiAgICAgICAgICB0aGlzLmVtcHR5LnJvdyA9IG5ld1JvdztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTGVmdCc6XG4gICAgICAgICAgbmV3Q29sID0gdGhpcy5lbXB0eS5jb2wgLSAxO1xuICAgICAgICAgIHRoaXMuYm9hcmRBcnJheVt0aGlzLmVtcHR5LnJvd11bdGhpcy5lbXB0eS5jb2xdID0gdGhpcy5ib2FyZEFycmF5W3RoaXMuZW1wdHkucm93XVtuZXdDb2xdO1xuICAgICAgICAgIHRoaXMuYm9hcmRBcnJheVt0aGlzLmVtcHR5LnJvd11bbmV3Q29sXSA9IHRoaXMuZW1wdHkudmFsO1xuICAgICAgICAgIHRoaXMuZW1wdHkuY29sID0gbmV3Q29sO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdSaWdodCc6XG4gICAgICAgICAgbmV3Q29sID0gdGhpcy5lbXB0eS5jb2wgKyAxO1xuICAgICAgICAgIHRoaXMuYm9hcmRBcnJheVt0aGlzLmVtcHR5LnJvd11bdGhpcy5lbXB0eS5jb2xdID0gdGhpcy5ib2FyZEFycmF5W3RoaXMuZW1wdHkucm93XVtuZXdDb2xdO1xuICAgICAgICAgIHRoaXMuYm9hcmRBcnJheVt0aGlzLmVtcHR5LnJvd11bbmV3Q29sXSA9IHRoaXMuZW1wdHkudmFsO1xuICAgICAgICAgIHRoaXMuZW1wdHkuY29sID0gbmV3Q29sO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OiBicmVhaztcbiAgICAgIH1cbiAgICAgIHByZXZNb3ZlID0gZGlyZWN0aW9uc1tkaXJOdW1dO1xuICAgIH1cbiAgfVxuXG4gIHZhbGlkTW92ZXMoKSB7XG4gICAgY29uc3QgeyByb3csIGNvbCB9ID0gdGhpcy5lbXB0eTtcbiAgICBjb25zdCB2YWxpZE1vdmVzID0gW107XG4gICAgaWYgKGNvbCAhPT0gMCkge1xuICAgICAgdmFsaWRNb3Zlcy5wdXNoKCdMZWZ0Jyk7XG4gICAgfVxuICAgIGlmIChjb2wgPCB0aGlzLmJvYXJkU2l6ZSAtIDEpIHtcbiAgICAgIHZhbGlkTW92ZXMucHVzaCgnUmlnaHQnKTtcbiAgICB9XG4gICAgaWYgKHJvdyAhPT0gMCkge1xuICAgICAgdmFsaWRNb3Zlcy5wdXNoKCdVcCcpO1xuICAgIH1cbiAgICBpZiAocm93IDwgdGhpcy5ib2FyZFNpemUgLSAxKSB7XG4gICAgICB2YWxpZE1vdmVzLnB1c2goJ0Rvd24nKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbGlkTW92ZXM7XG4gIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBzZXQobmFtZSwgdmFsKSB7XG4gIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShuYW1lLCBKU09OLnN0cmluZ2lmeSh2YWwpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldChuYW1lLCBzdWJzdCA9IG51bGwpIHtcbiAgcmV0dXJuIEpTT04ucGFyc2Uod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKG5hbWUpIHx8IHN1YnN0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShuYW1lKSB7XG4gIEpTT04ucGFyc2Uod2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKG5hbWUpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrKG5hbWUpIHtcbiAgcmV0dXJuIEJvb2xlYW4od2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKG5hbWUpKTtcbn1cbiIsImltcG9ydCBjcmVhdGUgZnJvbSAnLi91dGlscy9jcmVhdGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RhbCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaGVhZGVyID0gbnVsbDtcbiAgICB0aGlzLm1vZGFsVGV4dCA9IG51bGw7XG4gICAgdGhpcy5tb2RhbCA9IG51bGw7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMubW9kYWwgPSBjcmVhdGUoJ2RpdicsICdtb2RhbCcpO1xuICAgIHRoaXMubW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgaWYgKCFlLnRhcmdldC5jbG9zZXN0KCcubW9kYWxfX3dpbmRvdycpKSB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG4gICAgY29uc3QgbW9kYWxXaW5kb3dzID0gY3JlYXRlKCdkaXYnLCAnbW9kYWxfX3dpbmRvdycsIG51bGwsIHRoaXMubW9kYWwpO1xuICAgIHRoaXMubW9kYWxDb250YWluZXIgPSBjcmVhdGUoJ2RpdicsICdtb2RhbF9fd2luZG93LS1jb250YWluZXInLCBudWxsLCBtb2RhbFdpbmRvd3MpO1xuXG4gICAgdGhpcy5jcmVhdGVIZWFkZXIoKTtcbiAgICB0aGlzLmNyZWF0ZUJvZHkoKTtcbiAgICB0aGlzLmNyZWF0ZUZvb3RlcigpO1xuICB9XG5cbiAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGhlYWRlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RhbFRleHRcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBva0hhbmRsZXJcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBhYm9ydEhhbmRsZXJcbiAgICAgKi9cbiAgY29uZmlybShoZWFkZXIsIG1vZGFsVGV4dCwgb2tIYW5kbGVyID0gbnVsbCwgYWJvcnRIYW5kbGVyID0gbnVsbCkge1xuICAgIHRoaXMuaGVhZGVyLnRleHRDb250ZW50ID0gaGVhZGVyO1xuICAgIHRoaXMuYm9keS50ZXh0Q29udGVudCA9IG1vZGFsVGV4dDtcbiAgICB0aGlzLm1vZGFsQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZm9vdGVyKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMubW9kYWwpO1xuICAgIHRoaXMuY29uZmlybUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIGlmICh0eXBlb2Ygb2tIYW5kbGVyID09PSAnZnVuY3Rpb24nKSBva0hhbmRsZXIoKTtcbiAgICB9KTtcbiAgICB0aGlzLmRpc21pc3NCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICBpZiAodHlwZW9mIGFib3J0SGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykgYWJvcnRIYW5kbGVyKCk7XG4gICAgfSk7XG4gIH1cblxuICBzaG93KGhlYWRlciwgbW9kYWxUZXh0KSB7XG4gICAgdGhpcy5oZWFkZXIudGV4dENvbnRlbnQgPSBoZWFkZXI7XG4gICAgaWYgKHR5cGVvZiBtb2RhbFRleHQgPT09IHR5cGVvZiAnJykge1xuICAgICAgdGhpcy5ib2R5LnRleHRDb250ZW50ID0gbW9kYWxUZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmJvZHkudGV4dENvbnRlbnQgPSAnJztcbiAgICAgIHRoaXMuYm9keS5hcHBlbmRDaGlsZChtb2RhbFRleHQpO1xuICAgIH1cbiAgICBpZiAodGhpcy5tb2RhbENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX3dpbmRvd19fZm9vdGVyJykpIHtcbiAgICAgIHRoaXMubW9kYWxDb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5mb290ZXIpO1xuICAgIH1cbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMubW9kYWwpO1xuICB9XG5cbiAgY3JlYXRlSGVhZGVyKCkge1xuICAgIGNvbnN0IGhlYWRlckNvbnRhaW5lciA9IGNyZWF0ZSgnZGl2JywgJ21vZGFsX193aW5kb3dfX2hlYWRlcicsIG51bGwsIHRoaXMubW9kYWxDb250YWluZXIpO1xuICAgIHRoaXMuaGVhZGVyID0gY3JlYXRlKCdoMycsICdtb2RhbF9fd2luZG93X19oZWFkZXItLWNhcHRpb24nLCBudWxsLCBoZWFkZXJDb250YWluZXIpO1xuICAgIGNvbnN0IGNsb3NlID0gY3JlYXRlKCdzcGFuJywgJ21vZGFsX193aW5kb3dfX2hlYWRlci0tY2xvc2UnLCBudWxsLCBoZWFkZXJDb250YWluZXIpO1xuICAgIGNsb3NlLmlubmVySFRNTCA9ICcmdGltZXMnO1xuICAgIGNsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5jbG9zZSgpKTtcbiAgfVxuXG4gIGNyZWF0ZUJvZHkoKSB7XG4gICAgY29uc3QgYm9keUNvbnRhaW5lciA9IGNyZWF0ZSgnZGl2JywgJ21vZGFsX193aW5kb3dfX2JvZHknLCBudWxsLCB0aGlzLm1vZGFsQ29udGFpbmVyKTtcbiAgICB0aGlzLmJvZHkgPSBjcmVhdGUoJ3AnLCAnbW9kYWxfX3dpbmRvd19fYm9keS0tY29udGVudCcsIG51bGwsIGJvZHlDb250YWluZXIpO1xuICB9XG5cbiAgY3JlYXRlRm9vdGVyKCkge1xuICAgIHRoaXMuZm9vdGVyID0gY3JlYXRlKCdkaXYnLCAnbW9kYWxfX3dpbmRvd19fZm9vdGVyJyk7XG4gICAgdGhpcy5jb25maXJtQnRuID0gY3JlYXRlKCdidXR0b24nLCAnbW9kYWxfX3dpbmRvd19fZm9vdGVyX19idG4gY29uZmlybScsIG51bGwsIHRoaXMuZm9vdGVyLCBbJ3R5cGUnLCAnYnV0dG9uJ10pO1xuICAgIHRoaXMuY29uZmlybUJ0bi50ZXh0Q29udGVudCA9ICdWJztcbiAgICB0aGlzLmRpc21pc3NCdG4gPSBjcmVhdGUoJ2J1dHRvbicsICdtb2RhbF9fd2luZG93X19mb290ZXJfX2J0biBkaXNtaXNzJywgbnVsbCwgdGhpcy5mb290ZXIsIFsndHlwZScsICdidXR0b24nXSk7XG4gICAgdGhpcy5kaXNtaXNzQnRuLnRleHRDb250ZW50ID0gJ1gnO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLm1vZGFsKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVjbE9mTnVtKG51bWJlciwgdGl0bGVzKSB7XG4gIGNvbnN0IGNhc2VzID0gWzIsIDAsIDEsIDEsIDEsIDJdO1xuICByZXR1cm4gdGl0bGVzW1xuICAgIChudW1iZXIgJSAxMDAgPiA0ICYmIG51bWJlciAlIDEwMCA8IDIwKVxuICAgICAgPyAyXG4gICAgICA6IGNhc2VzWyhudW1iZXIgJSAxMCA8IDUpXG4gICAgICAgID8gbnVtYmVyICUgMTBcbiAgICAgICAgOiA1XVxuICBdO1xufVxuIiwiaW1wb3J0IGNyZWF0ZSBmcm9tICcuL3V0aWxzL2NyZWF0ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExlYWRlckJvYXJkIHtcbiAgaW5pdCgpIHtcbiAgICB0aGlzLm1haW4gPSBjcmVhdGUoJ2RpdicsICdyZWNvcmQnKTtcbiAgICB0aGlzLnRhYmxlQ29udGFpbmVyID0gY3JlYXRlKCdkaXYnLCAncmVjb3JkX190YWJsZScsIG51bGwsIHRoaXMubWFpbik7XG4gICAgdGhpcy5jcmVhdGVIZWFkZXIoKTtcbiAgICB0aGlzLmNyZWF0ZUJvZHkoKTtcbiAgfVxuXG4gIGNyZWF0ZUhlYWRlcigpIHtcbiAgICBjb25zdCBoZWFkZXJDb250YWluZXIgPSBjcmVhdGUoJ2RpdicsICdyZWNvcmRfX3RhYmxlLS1oZWFkZXInLCBudWxsLCB0aGlzLnRhYmxlQ29udGFpbmVyKTtcbiAgICBjb25zdCBzY29yZSA9IGNyZWF0ZSgnZGl2JywgJ3JlY29yZF9fdGFibGUtLWNlbGwnLCBudWxsLCBoZWFkZXJDb250YWluZXIpO1xuICAgIGNvbnN0IHRpbWUgPSBjcmVhdGUoJ2RpdicsICdyZWNvcmRfX3RhYmxlLS1jZWxsJywgbnVsbCwgaGVhZGVyQ29udGFpbmVyKTtcbiAgICBjb25zdCBtb3ZlcyA9IGNyZWF0ZSgnZGl2JywgJ3JlY29yZF9fdGFibGUtLWNlbGwnLCBudWxsLCBoZWFkZXJDb250YWluZXIpO1xuICAgIHNjb3JlLnRleHRDb250ZW50ID0gJ9C+0YfQutC4JztcbiAgICB0aW1lLnRleHRDb250ZW50ID0gJ9Cy0YDQtdC80Y8nO1xuICAgIG1vdmVzLnRleHRDb250ZW50ID0gJ9GF0L7QtNC+0LInO1xuICB9XG5cbiAgY3JlYXRlQm9keSgpIHtcbiAgICB0aGlzLmJvZHkgPSBjcmVhdGUoJ2RpdicsICdyZWNvcmRfX3RhYmxlLS1saXN0JywgbnVsbCwgdGhpcy50YWJsZUNvbnRhaW5lcik7XG4gIH1cblxuICBjcmVhdGVSb3cocmVzdWx0Um93KSB7XG4gICAgY29uc3Qgc2NvcmUgPSBjcmVhdGUoJ2RpdicsICdyZWNvcmRfX3RhYmxlLS1jZWxsJyk7XG4gICAgc2NvcmUudGV4dENvbnRlbnQgPSByZXN1bHRSb3cuc2NvcmU7XG5cbiAgICBjb25zdCB0aW1lID0gY3JlYXRlKCdkaXYnLCAncmVjb3JkX190YWJsZS0tY2VsbCcpO1xuICAgIHRpbWUudGV4dENvbnRlbnQgPSByZXN1bHRSb3cudGltZTtcblxuICAgIGNvbnN0IG1vdmVzID0gY3JlYXRlKCdkaXYnLCAncmVjb3JkX190YWJsZS0tY2VsbCcpO1xuICAgIG1vdmVzLnRleHRDb250ZW50ID0gcmVzdWx0Um93Lm1vdmVzQ291bnQ7XG5cbiAgICBjcmVhdGUoJ2RpdicsICdyZWNvcmRfX3RhYmxlLS1yb3cnLCBbc2NvcmUsIHRpbWUsIG1vdmVzXSwgdGhpcy5ib2R5KTtcbiAgfVxuXG4gIC8qKlxuICAgICAqIEBwYXJhbSB7YXJyYXl9IHJlc3VsdHNBcnJheVxuICAgICAqL1xuICBzZXRSZXN1bHRzKHJlc3VsdHNBcnJheSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShyZXN1bHRzQXJyYXkpKSByZXR1cm4gZmFsc2U7XG4gICAgcmVzdWx0c0FycmF5LmZvckVhY2goKHJlc3VsdHNSb3cpID0+IHtcbiAgICAgIGlmIChyZXN1bHRzUm93ICE9PSBudWxsKSB0aGlzLmNyZWF0ZVJvdyhyZXN1bHRzUm93KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGdldFRhYmxlKCkge1xuICAgIHJldHVybiB0aGlzLm1haW47XG4gIH1cblxuICBjbGVhckJvYXJkKCkge1xuICAgIHRoaXMuYm9keS5pbm5lckhUTUwgPSAnJztcbiAgfVxufVxuIiwiaW1wb3J0IEdhbWUgZnJvbSAnLi9HZW1HYW1lJztcblxuY29uc3QgZ2FtZSA9IG5ldyBHYW1lKCk7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiBnYW1lLmluaXQoKSk7XG4iLCJpbXBvcnQgUGFnZUxheW91dCBmcm9tICcuL1BhZ2VMYXlvdXQnO1xuaW1wb3J0IEJvYXJkIGZyb20gJy4vQm9hcmQnO1xuaW1wb3J0IHsgZ2V0LCBzZXQsIGNoZWNrIH0gZnJvbSAnLi91dGlscy9zdG9yYWdlJztcbmltcG9ydCBNb2RhbCBmcm9tICcuL01vZGFsJztcbmltcG9ydCBkZWNsT2ZOdW0gZnJvbSAnLi91dGlscy9odW1hbk51bXMnO1xuaW1wb3J0IExlYWRlckJvYXJkIGZyb20gJy4vTGVhZGVyQm9hcmQnO1xuaW1wb3J0IHJhbmRvbUludEZyb21UbyBmcm9tICcuL3V0aWxzL3JhbmRvbSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdlbUdhbWUge1xuICAvKipcbiAgICAgKiBAcGFyYW0ge2ludH0gYm9hcmRTaXplc1xuICAgICAqL1xuICBjb25zdHJ1Y3Rvcihib2FyZFNpemUpIHtcbiAgICBjb25zdCBkZWZhdWx0Qm9hcmRTaXplID0gNDtcbiAgICBsZXQgc2l6ZSA9IHBhcnNlSW50KGJvYXJkU2l6ZSwgMTApIHx8IGRlZmF1bHRCb2FyZFNpemU7XG4gICAgaWYgKHNpemUgPCAzKSBzaXplID0gMztcbiAgICBpZiAoc2l6ZSA+IDgpIHNpemUgPSA4O1xuICAgIHRoaXMuYm9hcmRTaXplID0gc2l6ZTtcbiAgICB0aGlzLm1vdmVzQ291bnQgPSAwO1xuICAgIHRoaXMuaXNWaWN0b3J5ID0gZmFsc2U7XG4gICAgdGhpcy5pc0F1dG9Tb2x2ZWQgPSBmYWxzZTtcblxuICAgIHRoaXMubW92ZUhhbmRsZXIgPSAoZWwpID0+IHRoaXMubW92ZShlbCk7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuc2V0UmFuZG9tSW1hZ2UoKTtcblxuICAgIHRoaXMucGFnZUxheW91dCA9IG5ldyBQYWdlTGF5b3V0KHRoaXMuYm9hcmRTaXplKTtcbiAgICB0aGlzLnBhZ2VMYXlvdXQuaW5pdCgpO1xuXG4gICAgdGhpcy5ib2FyZCA9IG5ldyBCb2FyZCh0aGlzLmJvYXJkU2l6ZSwgKGUpID0+IHRoaXMubW92ZShlKSk7XG4gICAgdGhpcy5ib2FyZC5pbml0KHRoaXMuaW1hZ2UpO1xuXG4gICAgdGhpcy5wYWdlTGF5b3V0Lm1haW5Db250ZW50LmFwcGVuZENoaWxkKHRoaXMuYm9hcmQuYm9hcmQpO1xuXG4gICAgdGhpcy5tb2RhbCA9IG5ldyBNb2RhbCgpO1xuICAgIHRoaXMubW9kYWwuaW5pdCgpO1xuXG4gICAgdGhpcy5zZXRTY29yZSgpO1xuXG4gICAgdGhpcy5pc1NvdW5kT24gPSB0cnVlO1xuXG4gICAgaWYgKGNoZWNrKCdwcmV2aW91c0dhbWUnKSkge1xuICAgICAgdGhpcy5tb2RhbC5jb25maXJtKFxuICAgICAgICAnRm91bmQgc2F2ZWQgZ2FtZScsXG4gICAgICAgICdEbyB5b3Ugd2FudCB0byBsb2FkIHByZXZpb3VzIGdhbWU/JyxcbiAgICAgICAgKCkgPT4gdGhpcy5sb2FkR2FtZSgpLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLnJlc3VsdHMgPSBuZXcgTGVhZGVyQm9hcmQoKTtcbiAgICB0aGlzLnJlc3VsdHMuaW5pdCgpO1xuXG4gICAgLy8gbWVudSBoYW5kbGVyc1xuICAgIHRoaXMucGFnZUxheW91dC5vcHRpb25CdXR0b25zLm5ldy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMubmV3R2FtZSgpKTtcbiAgICB0aGlzLnBhZ2VMYXlvdXQub3B0aW9uQnV0dG9ucy5zYXZlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5zYXZlR2FtZSgpKTtcbiAgICB0aGlzLnBhZ2VMYXlvdXQub3B0aW9uQnV0dG9ucy5sb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5sb2FkR2FtZSgpKTtcbiAgICB0aGlzLnBhZ2VMYXlvdXQub3B0aW9uQnV0dG9ucy5yZXN1bHRzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5zaG93UmVzdWx0cygpKTtcbiAgICB0aGlzLnBhZ2VMYXlvdXQub3B0aW9uQnV0dG9ucy5zb3VuZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMudG9nZ2xlU291bmQoKSk7XG4gICAgdGhpcy5wYWdlTGF5b3V0Lm9wdGlvbkJ1dHRvbnMuc29sdmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnNvbHZlKCkpO1xuXG4gICAgLy8gZmllbGQgc2l6ZSBidXR0b25zXG4gICAgY29uc3QgZmllbGRTaXplQnV0dG9ucyA9IHRoaXMucGFnZUxheW91dC5nZXRGaWVsZFNpemVCdXR0b25zKCk7XG4gICAgT2JqZWN0LmtleXMoZmllbGRTaXplQnV0dG9ucykuZm9yRWFjaCgoc2l6ZUJ0bklkeCkgPT4ge1xuICAgICAgZmllbGRTaXplQnV0dG9uc1tzaXplQnRuSWR4XS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7IHRoaXMuY2hhbmdlQm9hcmRTaXplKGUpOyB9KTtcbiAgICB9KTtcblxuICAgIHRoaXMubW92YWJsZUVsZW1lbnRzKCk7XG4gICAgdGhpcy5zdGFydFRpbWVyKCk7XG4gIH1cblxuICBzZXRSYW5kb21JbWFnZSgpIHtcbiAgICB0aGlzLmltYWdlID0gYC4vYXNzZXRzL2ltYWdlcy9ib3gvJHtyYW5kb21JbnRGcm9tVG8oMSwgMTUwKX0uanBnYDtcbiAgfVxuXG4gIHNvbHZlKCkge1xuICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBtb3ZlUG9zaXRpb25zID0ge1xuICAgICAgVDogJ3RvcCcsXG4gICAgICBCOiAnYm90dG9tJyxcbiAgICAgIEw6ICdsZWZ0JyxcbiAgICAgIFI6ICdyaWdodCcsXG4gICAgfTtcbiAgICB0aGlzLmlzQXV0b1NvbHZlZCA9IHRydWU7XG4gICAgdGhpcy5ib2FyZC5jcmVhdGVTb2x2ZXIoKTtcbiAgICBjb25zdCBzb2x2ZSA9IHRoaXMuYm9hcmQuc29sdmVyLmV4ZWN1dGUoKTtcbiAgICBjb25zdCB0aW1lID0gKG5ldyBEYXRlKCkgLSBzdGFydCkgLyAxMDAwO1xuICAgIGNvbnN0IG1vdmVzQ291bnQgPSBzb2x2ZS5tb3ZlcztcbiAgICBjb25zdCBtb3Zlc05hbWUgPSBkZWNsT2ZOdW0obW92ZXNDb3VudCwgWyfRhdC+0LQnLCAn0YXQvtC00LAnLCAn0YXQvtC00L7QsiddKTtcbiAgICBjb25zdCBtb3ZlcyA9IHNvbHZlLnBhdGguc3BsaXQoJycpO1xuICAgIHRoaXMuc29sdmVySW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGNvbnN0IG1vdmVQb3MgPSBtb3Zlcy5zaGlmdCgpO1xuICAgICAgY29uc3QgcG9zaXRpb25EaXJlY3Rpb24gPSBtb3ZlUG9zaXRpb25zW21vdmVQb3NdO1xuICAgICAgdGhpcy5ib2FyZC5tb3ZhYmxlRWxlbWVudHNbcG9zaXRpb25EaXJlY3Rpb25dLmNsaWNrKCk7XG4gICAgICBpZiAobW92ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5zb2x2ZXJJbnRlcnZhbElkKTtcbiAgICAgICAgY29uc3QgdGV4dCA9IGDQn9C+0LjRgdC6INGA0LXRiNC10L3QuNGPINC30LDQvdGP0LsgJHt0aW1lfSDRgdC10LrRg9C90LQg0Lgg0YHQvtGB0YLQsNCy0LjQuyAke21vdmVzQ291bnR9ICR7bW92ZXNOYW1lfS5gO1xuICAgICAgICB0aGlzLm1vZGFsLnNob3coJ1NPTFZFRCEnLCB0ZXh0KTtcbiAgICAgIH1cbiAgICB9LCAyODApO1xuICB9XG5cbiAgbmV3R2FtZSgpIHtcbiAgICB0aGlzLmlzVmljdG9yeSA9IGZhbHNlO1xuICAgIHRoaXMuc2V0UmFuZG9tSW1hZ2UoKTtcbiAgICB0aGlzLmJvYXJkLnNldEltYWdlKHRoaXMuaW1hZ2UpO1xuICAgIHRoaXMuYm9hcmQubmV3R2FtZSgpO1xuICAgIHRoaXMuc3RhcnRUaW1lcigpO1xuICAgIHRoaXMuc2V0TW92ZXMoMCk7XG4gICAgdGhpcy5zZXRTY29yZSgpO1xuICAgIHRoaXMucGFnZUxheW91dC5zZXRNb3Zlcyh0aGlzLm1vdmVzQ291bnQpO1xuICAgIHRoaXMuYm9hcmQudXBkYXRlQm9hcmQoKTtcbiAgICB0aGlzLm1vdmFibGVFbGVtZW50cygpO1xuICB9XG5cbiAgc2F2ZUdhbWUoKSB7XG4gICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgYm9hcmQ6IHRoaXMuYm9hcmQuYm9hcmRBcnJheSxcbiAgICAgIGJvYXJkU2l6ZTogdGhpcy5ib2FyZFNpemUsXG4gICAgICB0aW1lOiB0aGlzLnRpbWVyLFxuICAgICAgbW92ZXM6IHRoaXMubW92ZXNDb3VudCxcbiAgICAgIGltYWdlOiB0aGlzLmltYWdlLFxuICAgICAgc2NvcmU6IHRoaXMuc2NvcmUsXG4gICAgfTtcbiAgICBzZXQoJ3ByZXZpb3VzR2FtZScsIHBhcmFtcyk7XG4gIH1cblxuICBsb2FkR2FtZSgpIHtcbiAgICB0aGlzLmlzVmljdG9yeSA9IGZhbHNlO1xuICAgIGNvbnN0IGxvYWREYXRhID0gZ2V0KCdwcmV2aW91c0dhbWUnKTtcblxuICAgIHRoaXMuYm9hcmRTaXplID0gbG9hZERhdGEuYm9hcmRTaXplO1xuICAgIHRoaXMuYm9hcmQuc2V0U2l6ZSh0aGlzLmJvYXJkU2l6ZSk7XG4gICAgdGhpcy5ib2FyZC5zZXRJbWFnZShsb2FkRGF0YS5pbWFnZSk7XG4gICAgdGhpcy5wYWdlTGF5b3V0LnNldEJvYXJkU2l6ZSh0aGlzLmJvYXJkU2l6ZSk7XG4gICAgdGhpcy5zdGFydFRpbWVyKGxvYWREYXRhLnRpbWUpO1xuICAgIHRoaXMuc2V0TW92ZXMobG9hZERhdGEubW92ZXMpO1xuICAgIHRoaXMucGFnZUxheW91dC5zZXRNb3Zlcyh0aGlzLm1vdmVzQ291bnQpO1xuXG4gICAgdGhpcy5zY29yZSA9IGxvYWREYXRhLnNjb3JlO1xuICAgIHRoaXMucGFnZUxheW91dC5zZXRTY29yZShsb2FkRGF0YS5zY29yZSk7XG5cbiAgICB0aGlzLmJvYXJkLnNldEJvYXJkQXJyYXkobG9hZERhdGEuYm9hcmQpO1xuICAgIHRoaXMubW92YWJsZUVsZW1lbnRzKCk7XG4gICAgdGhpcy5ib2FyZC51cGRhdGVDZWxsQmFja2dyb3VuZCgpO1xuICAgIHRoaXMuYm9hcmQuY3JlYXRlVmljdG9yeUFycmF5KCk7XG4gIH1cblxuICB0b2dnbGVTb3VuZCgpIHtcbiAgICB0aGlzLmlzU291bmRPbiA9ICF0aGlzLmlzU291bmRPbjtcbiAgICBjb25zdCBpY29uTmFtZSA9IHRoaXMuaXNTb3VuZE9uID8gJ211c2ljX25vdGUnIDogJ211c2ljX29mZic7XG4gICAgdGhpcy5wYWdlTGF5b3V0Lm9wdGlvbkJ1dHRvbnMuc291bmQuaW5uZXJIVE1MID0gJyc7XG4gICAgdGhpcy5wYWdlTGF5b3V0Lm9wdGlvbkJ1dHRvbnMuc291bmQuYXBwZW5kKFBhZ2VMYXlvdXQuY3JlYXRlSWNvbihpY29uTmFtZSkpO1xuICB9XG5cbiAgbW92ZShlKSB7XG4gICAgaWYgKGUudGFyZ2V0LmNsb3Nlc3QoJ2JvYXJkX19jZWxsLS1kaXNhYmxlZCcpIHx8IGUudGFyZ2V0LnRhZ05hbWUgPT09ICdpbWcnKSByZXR1cm4gZmFsc2U7XG4gICAgdGhpcy5ib2FyZC5tb3ZlKGUudGFyZ2V0KTtcbiAgICBpZiAodGhpcy5pc1NvdW5kT24pIHtcbiAgICAgIHRoaXMucGFnZUxheW91dC5zb3VuZHMubW92ZS5jdXJyZW50VGltZSA9IDA7XG4gICAgICB0aGlzLnBhZ2VMYXlvdXQuc291bmRzLm1vdmUucGxheSgpO1xuICAgIH1cbiAgICB0aGlzLmluY3JlYXNlTW92ZXMoKTtcbiAgICB0aGlzLnBhZ2VMYXlvdXQuc2V0TW92ZXModGhpcy5tb3Zlc0NvdW50KTtcblxuICAgIHRoaXMuZGVjcmVhc2VTY29yZSgpO1xuICAgIHRoaXMucGFnZUxheW91dC5zZXRTY29yZSh0aGlzLnNjb3JlKTtcblxuICAgIGlmICh0aGlzLmJvYXJkLmlzU29sdmVkKCkpIHtcbiAgICAgIHRoaXMudmljdG9yeSgpO1xuICAgICAgdGhpcy5ib2FyZC5kaXNhYmxlTW92ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmJvYXJkLnVwZGF0ZU1vdmFibGVFbGVtZW50cygpO1xuICAgIH1cbiAgICBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5ib2FyZC51cGRhdGVCb2FyZCgpOyB0aGlzLm1vdmFibGVFbGVtZW50cygpOyB9LCAyNTApO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgbW92YWJsZUVsZW1lbnRzKCkge1xuICAgIHRoaXMubW92YWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ib2FyZF9fY2VsbC0tYWN0aXZlJyk7XG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYm9hcmRfX2NlbGwnKSkuZm9yRWFjaCgoZWwpID0+IGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5tb3ZlSGFuZGxlcikpO1xuICAgIEFycmF5LmZyb20odGhpcy5tb3ZhYmxlKS5mb3JFYWNoKChlbCkgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm1vdmVIYW5kbGVyKSk7XG4gIH1cblxuICBzdG9wVGltZXIoKSB7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVySUQpO1xuICB9XG5cbiAgc3RhcnRUaW1lcih0aW1lcikge1xuICAgIHRoaXMudGltZXIgPSB0aW1lciB8fCAwO1xuICAgIHRoaXMudGltZXJDbGljaygwKTtcbiAgICBpZiAodGhpcy50aW1lcklEKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXJJRCk7XG4gICAgfVxuICAgIHRoaXMudGltZXJJRCA9IHNldEludGVydmFsKCgpID0+IHRoaXMudGltZXJDbGljaygpLCAxMDAwKTtcbiAgfVxuXG4gIHRpbWVyQ2xpY2sodGltZSA9IG51bGwpIHtcbiAgICB0aGlzLnBhZ2VMYXlvdXQuc2V0VGltZSh0aW1lIHx8IHRoaXMudGltZXIpO1xuICAgIHRoaXMuZGVjcmVhc2VTY29yZSgpO1xuICAgIHRoaXMucGFnZUxheW91dC5zZXRTY29yZSh0aGlzLnNjb3JlKTtcbiAgICB0aGlzLnRpbWVyICs9IDE7XG4gIH1cblxuICBkZWNyZWFzZVNjb3JlKCkge1xuICAgIGlmICh0aGlzLnNjb3JlIDw9IDApIHRoaXMuc2NvcmUgPSAwO1xuICAgIGVsc2UgdGhpcy5zY29yZSAtPSAxO1xuICB9XG5cbiAgdmljdG9yeSgpIHtcbiAgICB0aGlzLmlzVmljdG9yeSA9IHRydWU7XG4gICAgdGhpcy5zdG9wVGltZXIoKTtcbiAgICBpZiAodGhpcy5pc0F1dG9Tb2x2ZWQpIHJldHVybjtcbiAgICBjb25zdCB0aW1lID0gdGhpcy5wYWdlTGF5b3V0LmdldFRpbWUoKTtcbiAgICBjb25zdCB7IG1vdmVzQ291bnQgfSA9IHRoaXM7XG4gICAgY29uc3QgbW92ZXNOYW1lID0gZGVjbE9mTnVtKG1vdmVzQ291bnQsIFsn0YXQvtC0JywgJ9GF0L7QtNCwJywgJ9GF0L7QtNC+0LInXSk7XG4gICAgY29uc3Qgc2NvcmVOYW1lID0gZGVjbE9mTnVtKHRoaXMuc2NvcmUsIFsn0L7Rh9C60L4nLCAn0L7Rh9C60LAnLCAn0L7Rh9C60L7QsiddKTtcbiAgICBpZiAodGhpcy5pc1NvdW5kT24pIHtcbiAgICAgIHRoaXMucGFnZUxheW91dC5zb3VuZHMuYXBwbGF1c2UuY3VycmVudFRpbWUgPSAwO1xuICAgICAgdGhpcy5wYWdlTGF5b3V0LnNvdW5kcy5hcHBsYXVzZS5wbGF5KCk7XG4gICAgfVxuICAgIHRoaXMubW9kYWwuc2hvdygnVklDVE9SWSEnLCBg0KPRgNCwISDQktGLINGA0LXRiNC40LvQuCDQs9C+0LvQvtCy0L7Qu9C+0LzQutGDINC30LAgJHt0aW1lfSDQuCAke21vdmVzQ291bnR9ICR7bW92ZXNOYW1lfS4g0JLQsNGIINGB0YfQtdGCICR7dGhpcy5zY29yZX0gJHtzY29yZU5hbWV9YCk7XG4gICAgdGhpcy5zYXZlUmVzdWx0cyh0aW1lKTtcbiAgfVxuXG4gIHNhdmVSZXN1bHRzKHRpbWUpIHtcbiAgICBjb25zdCBsZWFkZXJzQ291bnQgPSAxMDtcbiAgICBjb25zdCBjb21wYXJhdG9yID0gKGEsIGIpID0+IHtcbiAgICAgIGxldCByZXMgPSAwO1xuICAgICAgaWYgKGEuc2NvcmUgPiBiLnNjb3JlKSByZXMgPSAtMTtcbiAgICAgIGlmIChhLnNjb3JlID09PSBiLnNjb3JlKSByZXMgPSAwO1xuICAgICAgaWYgKGEuc2NvcmUgPCBiLnNjb3JlKSByZXMgPSAxO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIGNvbnN0IGN1cnJlbnRSZXN1bHQgPSB7XG4gICAgICB0aW1lLFxuICAgICAgbW92ZXNDb3VudDogdGhpcy5tb3Zlc0NvdW50LFxuICAgICAgc2NvcmU6IHRoaXMuc2NvcmUsXG4gICAgfTtcbiAgICBsZXQgcmVzdWx0cyA9IFtdO1xuXG4gICAgaWYgKGNoZWNrKCdnZW1QdXp6bGVSZXN1bHRzJykpIHJlc3VsdHMgPSBnZXQoJ2dlbVB1enpsZVJlc3VsdHMnKTtcblxuICAgIGNvbnN0IGxlYWRlckJvYXJkID0gcmVzdWx0cy5zb3J0KGNvbXBhcmF0b3IpO1xuICAgIGNvbnN0IHBvc2l0aW9uID0gbGVhZGVyQm9hcmQuZmluZEluZGV4KChsZWFkZXIpID0+IHtcbiAgICAgIGlmIChsZWFkZXIgIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGxlYWRlci5zY29yZSA8IHRoaXMuc2NvcmU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgICBjb25zdCBsZWFkZXJCb2FyZFRtcCA9IFsuLi5sZWFkZXJCb2FyZF07XG4gICAgZm9yIChsZXQgaSA9IHBvc2l0aW9uOyBpIDw9IGxlYWRlcnNDb3VudDsgaSArPSAxKSB7XG4gICAgICBsZWFkZXJCb2FyZFtpICsgMV0gPSBsZWFkZXJCb2FyZFRtcFtpXTtcbiAgICB9XG4gICAgaWYgKHBvc2l0aW9uID49IDApIHtcbiAgICAgIGxlYWRlckJvYXJkW3Bvc2l0aW9uXSA9IGN1cnJlbnRSZXN1bHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdHMudW5zaGlmdChjdXJyZW50UmVzdWx0KTtcbiAgICB9XG5cbiAgICBsZWFkZXJCb2FyZC5sZW5ndGggPSBsZWFkZXJzQ291bnQ7XG4gICAgc2V0KCdnZW1QdXp6bGVSZXN1bHRzJywgcmVzdWx0cyk7XG4gIH1cblxuICBzaG93UmVzdWx0cygpIHtcbiAgICBsZXQgcmVzdWx0cyA9IFtdO1xuICAgIGlmIChjaGVjaygnZ2VtUHV6emxlUmVzdWx0cycpKSByZXN1bHRzID0gZ2V0KCdnZW1QdXp6bGVSZXN1bHRzJyk7XG4gICAgdGhpcy5yZXN1bHRzLmNsZWFyQm9hcmQoKTtcbiAgICBjb25zdCBjb21wYXJhdG9yID0gKGEsIGIpID0+IHtcbiAgICAgIGxldCByZXMgPSAwO1xuICAgICAgaWYgKGEuc2NvcmUgPiBiLnNjb3JlKSByZXMgPSAtMTtcbiAgICAgIGlmIChhLnNjb3JlID09PSBiLnNjb3JlKSByZXMgPSAwO1xuICAgICAgaWYgKGEuc2NvcmUgPCBiLnNjb3JlKSByZXMgPSAxO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIHRoaXMucmVzdWx0cy5zZXRSZXN1bHRzKHJlc3VsdHMuc29ydChjb21wYXJhdG9yKSk7XG4gICAgdGhpcy5tb2RhbC5zaG93KCdib2FyZCBvZiBsZWFkZXJzJywgdGhpcy5yZXN1bHRzLmdldFRhYmxlKCkpO1xuICB9XG5cbiAgY2hhbmdlQm9hcmRTaXplKHNpemVCdG4pIHtcbiAgICBjb25zdCBuZXdCb2FyZFNpemUgPSBzaXplQnRuLnRhcmdldC5kYXRhc2V0LnNpemU7XG4gICAgdGhpcy5ib2FyZFNpemUgPSBuZXdCb2FyZFNpemU7XG4gICAgdGhpcy5wYWdlTGF5b3V0LnNldEJvYXJkU2l6ZShuZXdCb2FyZFNpemUpO1xuICAgIHRoaXMuYm9hcmQuc2V0Qm9hcmRTaXplKG5ld0JvYXJkU2l6ZSk7XG4gICAgdGhpcy5uZXdHYW1lKCk7XG4gIH1cblxuICBzZXRTY29yZSgpIHtcbiAgICBsZXQgc2NvcmUgPSAwO1xuICAgIHN3aXRjaCAoK3RoaXMuYm9hcmRTaXplKSB7XG4gICAgICBjYXNlIDM6IHNjb3JlID0gMjAwOyBicmVhaztcbiAgICAgIGNhc2UgNDogc2NvcmUgPSA0MDA7IGJyZWFrO1xuICAgICAgY2FzZSA1OiBzY29yZSA9IDgwMDsgYnJlYWs7XG4gICAgICBjYXNlIDY6IHNjb3JlID0gMTYwMDsgYnJlYWs7XG4gICAgICBjYXNlIDc6IHNjb3JlID0gMzIwMDsgYnJlYWs7XG4gICAgICBjYXNlIDg6IHNjb3JlID0gNjQwMDsgYnJlYWs7XG4gICAgICBkZWZhdWx0OiBicmVhaztcbiAgICB9XG4gICAgdGhpcy5zY29yZSA9IHNjb3JlO1xuICAgIHRoaXMucGFnZUxheW91dC5zZXRTY29yZSh0aGlzLnNjb3JlKTtcbiAgfVxuXG4gIHNldE1vdmVzKG1vdmVzQ291bnQpIHtcbiAgICB0aGlzLm1vdmVzQ291bnQgPSBtb3Zlc0NvdW50O1xuICB9XG5cbiAgaW5jcmVhc2VNb3ZlcygpIHtcbiAgICB0aGlzLm1vdmVzQ291bnQgKz0gMTtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==