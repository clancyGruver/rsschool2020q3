(()=>{"use strict";(()=>{const t=1,e=2,i={"Action (set A)":[{word:"cry",translation:"плакать",image:"img/cry.jpg",audioSrc:"audio/cry.mp3"},{word:"dance",translation:"танцевать",image:"img/dance.jpg",audioSrc:"audio/dance.mp3"},{word:"dive",translation:"нырять",image:"img/dive.jpg",audioSrc:"audio/dive.mp3"},{word:"draw",translation:"рисовать",image:"img/draw.jpg",audioSrc:"audio/draw.mp3"},{word:"fish",translation:"ловить рыбу",image:"img/fish.jpg",audioSrc:"audio/fish.mp3"},{word:"fly",translation:"летать",image:"img/fly.jpg",audioSrc:"audio/fly.mp3"},{word:"hug",translation:"обнимать",image:"img/hug.jpg",audioSrc:"audio/hug.mp3"},{word:"jump",translation:"прыгать",image:"img/jump.jpg",audioSrc:"audio/jump.mp3"}],"Action (set B)":[{word:"open",translation:"открывать",image:"img/open.jpg",audioSrc:"audio/open.mp3"},{word:"play",translation:"играть",image:"img/play.jpg",audioSrc:"audio/play.mp3"},{word:"point",translation:"указывать",image:"img/point.jpg",audioSrc:"audio/point.mp3"},{word:"ride",translation:"ездить",image:"img/ride.jpg",audioSrc:"audio/ride.mp3"},{word:"run",translation:"бегать",image:"img/run.jpg",audioSrc:"audio/run.mp3"},{word:"sing",translation:"петь",image:"img/sing.jpg",audioSrc:"audio/sing.mp3"},{word:"skip",translation:"пропускать, прыгать",image:"img/skip.jpg",audioSrc:"audio/skip.mp3"},{word:"swim",translation:"плавать",image:"img/swim.jpg",audioSrc:"audio/swim.mp3"}],"Animal (set A)":[{word:"cat",translation:"кот",image:"img/cat.jpg",audioSrc:"audio/cat.mp3"},{word:"chick",translation:"цыплёнок",image:"img/chick.jpg",audioSrc:"audio/chick.mp3"},{word:"chicken",translation:"курица",image:"img/chicken.jpg",audioSrc:"audio/chicken.mp3"},{word:"dog",translation:"собака",image:"img/dog.jpg",audioSrc:"audio/dog.mp3"},{word:"horse",translation:"лошадь",image:"img/horse.jpg",audioSrc:"audio/horse.mp3"},{word:"pig",translation:"свинья",image:"img/pig.jpg",audioSrc:"audio/pig.mp3"},{word:"rabbit",translation:"кролик",image:"img/rabbit.jpg",audioSrc:"audio/rabbit.mp3"},{word:"sheep",translation:"овца",image:"img/sheep.jpg",audioSrc:"audio/sheep.mp3"}],"Animal (set B)":[{word:"bird",translation:"птица",image:"img/bird.jpg",audioSrc:"audio/bird.mp3"},{word:"fish",translation:"рыба",image:"img/fish1.jpg",audioSrc:"audio/fish.mp3"},{word:"frog",translation:"жаба",image:"img/frog.jpg",audioSrc:"audio/frog.mp3"},{word:"giraffe",translation:"жирафа",image:"img/giraffe.jpg",audioSrc:"audio/giraffe.mp3"},{word:"lion",translation:"лев",image:"img/lion.jpg",audioSrc:"audio/lion.mp3"},{word:"mouse",translation:"мышь",image:"img/mouse.jpg",audioSrc:"audio/mouse.mp3"},{word:"turtle",translation:"черепаха",image:"img/turtle.jpg",audioSrc:"audio/turtle.mp3"},{word:"dolphin",translation:"дельфин",image:"img/dolphin.jpg",audioSrc:"audio/dolphin.mp3"}],Clothes:[{word:"skirt",translation:"юбка",image:"img/skirt.jpg",audioSrc:"audio/skirt.mp3"},{word:"pants",translation:"брюки",image:"img/pants.jpg",audioSrc:"audio/pants.mp3"},{word:"blouse",translation:"блузка",image:"img/blouse.jpg",audioSrc:"audio/blouse.mp3"},{word:"dress",translation:"платье",image:"img/dress.jpg",audioSrc:"audio/dress.mp3"},{word:"boot",translation:"ботинок",image:"img/boot.jpg",audioSrc:"audio/boot.mp3"},{word:"shirt",translation:"рубашка",image:"img/shirt.jpg",audioSrc:"audio/shirt.mp3"},{word:"coat",translation:"пальто",image:"img/coat.jpg",audioSrc:"audio/coat.mp3"},{word:"shoe",translation:"туфли",image:"img/shoe.jpg",audioSrc:"audio/shoe.mp3"}],Emotions:[{word:"sad",translation:"грустный",image:"img/sad.jpg",audioSrc:"audio/sad.mp3"},{word:"angry",translation:"сердитый",image:"img/angry.jpg",audioSrc:"audio/angry.mp3"},{word:"happy",translation:"счастливый",image:"img/happy.jpg",audioSrc:"audio/happy.mp3"},{word:"tired",translation:"уставший",image:"img/tired.jpg",audioSrc:"audio/tired.mp3"},{word:"surprised",translation:"удивлённый",image:"img/surprised.jpg",audioSrc:"audio/surprised.mp3"},{word:"scared",translation:"испуганный",image:"img/scared.jpg",audioSrc:"audio/scared.mp3"},{word:"smile",translation:"улыбка",image:"img/smile.jpg",audioSrc:"audio/smile.mp3"},{word:"laugh",translation:"смех",image:"img/laugh.jpg",audioSrc:"audio/laugh.mp3"}]};function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){a=!0,r=t}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}return i}}(t,e)||o(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||o(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){if(t){if("string"==typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function u(t,e,i,o){var s,u,c=null,l=["draggable","value","id","placeholder","cols","rows","autocorrect","spellcheck","src","type","for"];try{c=document.createElement(t)}catch(e){throw new Error("Unable to create HTML element ".concat(t))}e&&(Array.isArray(e)?(s=c.classList).add.apply(s,r(e)):(u=c.classList).add.apply(u,r(e.split(" ")))),i&&Array.isArray(i)?i.forEach((function(t){return t&&c.append(t)})):i&&"object"===a(i)?c.append(i):i&&"string"==typeof i&&(c.innerHTML=i),o&&o.appendChild(c);for(var d=arguments.length,h=new Array(d>4?d-4:0),p=4;p<d;p++)h[p-4]=arguments[p];return h.length&&h.forEach((function(t){var e=n(t,2),i=e[0],a=e[1];""===a?c.setAttribute(i,""):l.includes(i)?c.setAttribute(i,a):c.dataset[i]=a})),c}function c(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.categories=e,this.menu=null,this.menuContainer=null,this.createHtmlContainer(),this.createMenu(),this.createOverlay()}var e,i,n;return e=t,n=[{key:"startScrolling",value:function(){document.body.classList.remove("stop-scrolling")}},{key:"stopScrolling",value:function(){document.body.classList.add("stop-scrolling")}}],(i=[{key:"createOverlay",value:function(){this.overlay=u("div","overlay",null,document.body)}},{key:"showOverlay",value:function(){this.overlay.classList.add("show")}},{key:"hideOverlay",value:function(){this.overlay.classList.remove("show")}},{key:"toggleMenu",value:function(){this.menu.classList.contains("closed")?(t.stopScrolling(),this.showOverlay(),this.menu.classList.remove("closed"),this.menu.classList.add("opened")):(t.startScrolling(),this.hideOverlay(),this.menu.classList.remove("opened"),this.menu.classList.add("closed"))}},{key:"createHtmlContainer",value:function(){this.menu=u("nav","left-menu closed"),this.menuContainer=u("ul","menu",null,this.menu)}},{key:"handleRoute",value:function(t){var e=t&&t.name?t.name:"main";Array.from(this.menuContainer.children).forEach((function(t){t.dataset.name===e?t.classList.add("active"):t.classList.remove("active")}))}},{key:"createMenu",value:function(){var t=this;this.addLinkToMainPage(),this.categories.forEach((function(e){var i={name:e,path:"category",params:{categoryName:e}};u("li","menu-link",null,t.menuContainer,["name",e],["route",JSON.stringify(i)]).textContent=e}))}},{key:"addCloseHandler",value:function(t){var e=this;Array.from(this.menuContainer.children).forEach((function(i){i.addEventListener("click",(function(){t(),e.toggleMenu()}))})),this.addOverlayCloseHandler(t)}},{key:"addOverlayCloseHandler",value:function(t){var e=this;this.overlay.addEventListener("click",(function(){t(),e.toggleMenu()}))}},{key:"addLinkToMainPage",value:function(){u("li","menu-link",null,this.menuContainer,["name","main"],["route",JSON.stringify({name:"main",path:"/",params:{categoryName:"main"}})]).textContent="Main"}}])&&c(e.prototype,i),n&&c(e,n),t}();function d(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.header=u("header","header"),this.headerContainer=u("div","container",null,this.header),this.createBurgerMenu(e),this.createName(),this.createSwitch(i)}var e,i;return e=t,(i=[{key:"createBurgerMenu",value:function(t){var e=this;this.burgerContainer=u("div","burger",null,this.headerContainer),u("div","bar1",null,this.burgerContainer),u("div","bar2",null,this.burgerContainer),u("div","bar3",null,this.burgerContainer),t&&(this.burgerContainer.addEventListener("click",t),this.burgerContainer.addEventListener("click",(function(){return e.toggleMenu()})))}},{key:"toggleMenu",value:function(){this.burgerContainer.classList.toggle("burger__active")}},{key:"createName",value:function(){u("h1","header-caption",null,this.headerContainer,["route",JSON.stringify({name:"main",path:"/"})]).textContent="english for kids"}},{key:"createSwitch",value:function(t){this.switch=u("input","",null,this.headerContainer,["type","checkbox"],["id","lol-checkbox"]),this.button=u("label","",null,this.headerContainer,["for","lol-checkbox"],["id","button"]),u("div","",null,this.button,["id","knob"]),u("div","",null,this.button,["id","play"]).textContent="Play",u("div","",null,this.button,["id","train"]).textContent="Train",this.switch.addEventListener("change",(function(e){return t(e.target.checked+1)}))}},{key:"switcher",set:function(t){this.switch.checked=t}}])&&d(e.prototype,i),t}();function p(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var f=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.footer=u("footer","footer"),this.footerContainer=u("div","container",null,this.footer),this.ul=u("ul","links",null,this.footerContainer),this.createGitHub(),this.createYear(),this.createRSS()}var e,i;return e=t,(i=[{key:"createGitHub",value:function(){var t=u("li","link",null,this.ul),e=u("a","",null,t,["href","https://github.com/clancyGruver"]);u("img","github-img",null,e,["src","./assets/img/iconmonstr-github-1.svg"],["alt","github"])}},{key:"createYear",value:function(){var t=u("li","link",null,this.ul);u("strong","",null,t).textContent="2020"}},{key:"createRSS",value:function(){var t=u("li","link",null,this.ul),e=u("a","",null,t,["href","https://rs.school/js/"]);u("img","rss-img",null,e,["src","./assets/img/rs_school_js.svg"],["alt","rs school"])}}])&&p(e.prototype,i),t}();function m(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var g=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.main=u("main","main"),this.mainContainer=u("div","container",null,this.main)}var e,i;return e=t,(i=[{key:"content",set:function(t){var e=this;this.mainContainer.innerHTML="",Array.isArray(t)?t.forEach((function(t){return e.mainContainer.append(t)})):this.mainContainer.append(t)}}])&&m(e.prototype,i),t}();function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var b=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0;y(this,t),this.routes=[],this.mode="history",this.mainHandler=i,this.root=e||"/"}var e,i,n;return e=t,n=[{key:"queryParams",value:function(){for(var t=window.location.search,e=new URLSearchParams(t),i=[],n=Array.from(e.keys()),a=0;a<n.length;a+=1){var r=n[a];i.push({name:r,value:e.get(r)})}return i}},{key:"stripDoubleEndSlashes",value:function(t){return t.replace(/\/\/$/,"/")}}],(i=[{key:"listen",value:function(){var t=this;document.body.addEventListener("click",(function(e){var i=e.target.closest("[data-route]");if(i){var n=JSON.parse(i.dataset.route);t.navigate(n.path,n)}}))}},{key:"add",value:function(t,e){if(!t||!e)throw new Error("path and handler are required!");if("string"!=typeof t)throw new Error("path must be string!");if("function"!=typeof e)throw new Error("handler must be function!");this.routes.forEach((function(e){if(e.path===t)throw new Error("duplicate entry for ".concat(t,"!"))})),this.routes.push({path:t,handler:e})}},{key:"remove",value:function(t){var e=this.routes.findIndex((function(e){return e.path===t}));this.routes.splice(e,1)}},{key:"navigate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.routes.find((function(t){return t.path===e}));this.Page=n.handler,this.pageParams=i;var a=t.stripDoubleEndSlashes(this.root+e);window.history.pushState({name:i.name},"",a),this.mainHandler&&this.mainHandler(i)}}])&&v(e.prototype,i),n&&v(e,n),t}();function k(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var w=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.urlPrefix="./assets/",this.params=e,this.createCardElement(),this.createImageContainer(),this.createImage(),this.createDescriptionContainer(),this.createDescription()}var e,i;return e=t,(i=[{key:"createCardElement",value:function(){this.cardElement=u("div","card-container")}},{key:"createImageContainer",value:function(){this.imageContainer=u("div","card-image",null,this.card)}},{key:"createImage",value:function(){this.image=u("img","",null,this.imageContainer,["src","".concat(this.urlPrefix).concat(this.params.image||"img/boot.jpg")],["alt",this.params.word||"boot"])}},{key:"createDescriptionContainer",value:function(){this.descriptionContainer=u("div","card-description",null,this.card)}},{key:"createDescription",value:function(){this.description=u("strong","",null,this.descriptionContainer),this.description.textContent=this.params.word||"boot"}},{key:"createCategoryLink",value:function(){var t={name:this.params.word,path:"category",params:{categoryName:this.params.word}};this.cardElement.dataset.route=JSON.stringify(t)}},{key:"card",get:function(){return this.cardElement}}])&&k(e.prototype,i),t}();function S(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var C=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name="main page",this.contentVal=[]}var e,i;return e=t,(i=[{key:"init",value:function(t){this.content=t.map((function(t){var e=new w(t);return e.createCategoryLink(),e}))}},{key:"content",get:function(){return this.contentVal},set:function(t){var e=this;t.forEach((function(t){e.contentVal.push(t.card)}))}}])&&S(e.prototype,i),t}();function j(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var L=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.urlPrefix="./assets/",this.params=e,this.mode=i,this.image={},this.description={},this.createDeck(),this.createFrontCard(),this.createBackCard(),this.addFlipButton(),this.addPlayAudioHandler(),this.addFlipHandler()}var i,n;return i=t,(n=[{key:"createDeck",value:function(){this.deck=u("div","flip-card"),this.deckContainer=u("div","flip-card__container",null,this.deck)}},{key:"createFrontCard",value:function(){this.front=u("div","flip-card__front",null,this.deckContainer),this.createImage(this.front,"front"),this.createDescription(this.front,this.params.word,"front"),this.createAudio()}},{key:"createBackCard",value:function(){this.back=u("div","flip-card__back",null,this.deckContainer),this.createImage(this.back,"back"),this.createDescription(this.back,this.params.translation,"back")}},{key:"createImage",value:function(t,e){this.image[e]=u("div","card-image",null,t),this.image[e].style.backgroundImage="url(".concat(this.urlPrefix).concat(this.params.image,")")}},{key:"createDescription",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0;this.description[i]=u("div","card-description",null,t);var n=u("strong","",null,this.description[i]);n.textContent=e||""}},{key:"addFlipHandler",value:function(){var t=this;this.flipButton.addEventListener("click",(function(){return t.flipToBack()})),this.deck.addEventListener("mouseleave",(function(){return t.flipToFront()}))}},{key:"createAudio",value:function(){this.audio=u("audio","",null,this.front,["src","".concat(this.urlPrefix).concat(this.params.audioSrc)])}},{key:"addFlipButton",value:function(){this.flipButton=u("button","card-flip",null,this.front,["type","button"]),this.flipButton.innerHTML='<i class="fas fa-redo-alt"></i>'}},{key:"addPlayAudioHandler",value:function(){var t=this;this.front.addEventListener("click",(function(i){if(t.mode()!==e){var n=Boolean(i.target.closest(".card-flip")),a=Boolean(i.target.closest(".flip-card__front"));!n&&a&&t.playSound()}}))}},{key:"playSound",value:function(){this.audio.currentTime=0,this.audio.play()}},{key:"flipToBack",value:function(){this.deck.classList.add("flipped"),this.front.classList.add("hidden"),this.back.classList.remove("hidden")}},{key:"flipToFront",value:function(){this.deck.classList.remove("flipped"),this.front.classList.remove("hidden"),this.back.classList.add("hidden")}},{key:"setInvisible",value:function(){this.deck.classList.add("small"),this.image.front.classList.add("round"),this.description.front.classList.add("non-displayed"),this.flipButton.classList.add("non-displayed")}},{key:"setVisible",value:function(){this.deck.classList.remove("small"),this.image.front.classList.remove("round"),this.description.front.classList.remove("non-displayed"),this.flipButton.classList.remove("non-displayed")}}])&&j(i.prototype,n),t}();function E(t){return function(t){if(Array.isArray(t))return M(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return M(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?M(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function P(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}const A=[{name:"main",path:"/",handler:C},{name:"statistics",path:"statistics",handler:function(){}},{name:"category",path:"category",handler:function(){function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.playModes={waiting:"waiting",playing:"playing"},this.stars={full:'<i class="fas fa-star fa-4x"></i>',empty:'<i class="far fa-star fa-4x"></i>'},this.icons={repeat:'<i class="fas fa-redo"></i>Repeat',play:'<i class="fas fa-play"></i>Start game'},this.playMode=null,this.name="category page",this.cards=[]}var n,a,r;return n=i,r=[{key:"createSound",value:function(t){return u("audio","",null,null,["src",t])}},{key:"playSound",value:function(t){t.currentTime=0,t.play()}}],(a=[{key:"init",value:function(t,e){this.words=t,this.cards=[],this.mode=e,this.createCards(),this.createRating(),this.createButton(),this.createSuccessSound(),this.createErrorSound(),this.addSoundsToPanel(),this.setVisibility()}},{key:"changeMode",value:function(t){var i=this;this.mode=t,this.setVisibility(),this.cards.forEach((function(t){i.mode===e?(t.setInvisible(),t.deck.addEventListener("click",(function(t){return i.playCardClickHandler(t)}))):t.setVisible()}))}},{key:"createCards",value:function(){var t=this;this.words.forEach((function(e){t.cards.push(new L(e,(function(){return t.mode})))}))}},{key:"createRating",value:function(){this.rating=u("div","rating"),this.rating.innerHTML="".concat(this.stars.empty).concat(this.stars.full)}},{key:"shuffle",value:function(){this.playCards=E(this.cards);for(var t=this.playCards.length-1;t>0;t-=1){var e=Math.floor(Math.random()*(t+1)),i=[this.playCards[e],this.playCards[t]];this.playCards[t]=i[0],this.playCards[e]=i[1]}}},{key:"btnClickHandler",value:function(){null===this.playMode||this.playMode===this.playModes.waiting?(this.playMode=this.playModes.playing,this.setRepeatBtn(),this.shuffle(),this.nextPlayCard(),this.currentPlayCard.playSound()):this.currentPlayCard.playSound()}},{key:"playCardClickHandler",value:function(t){t.target.closest(".flip-card")===this.currentPlayCard.deck?i.playSound(this.successSound):i.playSound(this.errorSound)}},{key:"nextPlayCard",value:function(){this.currentPlayCard=this.playCards.pop()}},{key:"createButtonsPanel",value:function(){this.panel=u("div","panel")}},{key:"createButton",value:function(){var t=this;this.createButtonsPanel(),this.button=u("button","btn btn-start",null,this.panel),this.button.innerHTML=this.icons.play,this.button.addEventListener("click",(function(){return t.btnClickHandler()}))}},{key:"setRepeatBtn",value:function(){this.button.innerHTML=this.icons.repeat,this.button.classList.add("btn-repeat"),this.button.classList.remove("btn-start")}},{key:"setVisibility",value:function(){this.mode===t?(this.rating&&this.rating.classList.add("non-displayed"),this.panel&&this.panel.classList.add("off")):(this.rating&&this.rating.classList.remove("non-displayed"),this.panel&&this.panel.classList.remove("off"))}},{key:"createSuccessSound",value:function(){this.successSound=i.createSound("./assets/sound/success.wav")}},{key:"createErrorSound",value:function(){this.errorSound=i.createSound("./assets/sound/error.wav")}},{key:"addSoundsToPanel",value:function(){this.panel.appendChild(this.errorSound),this.panel.appendChild(this.successSound)}},{key:"content",get:function(){var t=this.cards.map((function(t){return t.deck}));return[this.rating,this.description].concat(E(t),[this.panel])}},{key:"description",get:function(){var t=u("div","description");return u("h1","description-text",null,t).textContent=this.categoryName,t}}])&&P(n.prototype,a),r&&P(n,r),i}()}];function O(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var T=function(){function n(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.cards=i,this.leftMenu=new l(Object.keys(i)),this.getCategories(),this.header=new h((function(){return e.leftMenu.toggleMenu()}),(function(t){return e.changeMode(t)})),this.footer=new f,this.main=new g,this.routerInit(),this.mode=t,this.createPage(),this.renderPage(),this.leftMenu.addCloseHandler((function(){return e.header.toggleMenu()}))}var a,r;return a=n,(r=[{key:"changeMode",value:function(t){this.mode=t,"category page"===this.page.name&&this.page.changeMode(this.mode)}},{key:"routerInit",value:function(){var t=this,e="".concat(window.location.origin,"/english-for-kids/");this.router=new b(e,(function(e){t.leftMenu.handleRoute(e),t.renderPage(e)})),A.forEach((function(e){return t.router.add(e.path,e.handler)})),this.router.navigate("/"),this.router.listen()}},{key:"routerGo",value:function(t,e){this.Page=t,this.selectedCategory=e,this.renderPage(this.cards[e])}},{key:"getCategories",value:function(){this.categories=[];for(var t=Object.keys(i),e=0;e<t.length;e+=1){var n=t[e],a={image:i[n][0].image,word:n};this.categories.push(a)}}},{key:"createPage",value:function(){document.body.append(this.header.header),document.body.append(this.leftMenu.menu),document.body.append(this.main.main),document.body.append(this.footer.footer)}},{key:"renderPage",value:function(t){this.pageParams=t,this.page=new this.router.Page,"main page"===this.page.name?this.page.init(this.categories):"category page"===this.page.name&&this.page.init(i[t.name],this.mode),this.main.content=this.page.content}},{key:"mode",set:function(t){this.appMode=t,this.header.switcher=t===e},get:function(){return this.appMode}}])&&O(a.prototype,r),n}();document.addEventListener("DOMContentLoaded",(function(){new T}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL2NvbnN0YXRudHMuanMiLCJ3ZWJwYWNrOi8vZW5nbGlzaC1mb3Ita2lkcy8uL3NyYy9qcy9jYXJkcy5qcyIsIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL3V0aWxzL2NyZWF0ZS5qcyIsIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL2xheW91dHMvTGVmdE1lbnUuanMiLCJ3ZWJwYWNrOi8vZW5nbGlzaC1mb3Ita2lkcy8uL3NyYy9qcy9sYXlvdXRzL0hlYWRlci5qcyIsIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL2xheW91dHMvRm9vdGVyLmpzIiwid2VicGFjazovL2VuZ2xpc2gtZm9yLWtpZHMvLi9zcmMvanMvbGF5b3V0cy9NYWluQ29udGVudC5qcyIsIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL3JvdXRlci9Sb3V0ZXIuanMiLCJ3ZWJwYWNrOi8vZW5nbGlzaC1mb3Ita2lkcy8uL3NyYy9qcy9sYXlvdXRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vZW5nbGlzaC1mb3Ita2lkcy8uL3NyYy9qcy9sYXlvdXRzL01haW4uanMiLCJ3ZWJwYWNrOi8vZW5nbGlzaC1mb3Ita2lkcy8uL3NyYy9qcy9sYXlvdXRzL0NhdGVnb3J5Q2FyZC5qcyIsIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL3JvdXRlci9yb3V0ZXMuanMiLCJ3ZWJwYWNrOi8vZW5nbGlzaC1mb3Ita2lkcy8uL3NyYy9qcy9sYXlvdXRzL0NhdGVnb3J5LmpzIiwid2VicGFjazovL2VuZ2xpc2gtZm9yLWtpZHMvLi9zcmMvanMvQXBwLmpzIiwid2VicGFjazovL2VuZ2xpc2gtZm9yLWtpZHMvLi9zcmMvanMvbWFpbi5qcyJdLCJuYW1lcyI6WyJ3b3JkIiwidHJhbnNsYXRpb24iLCJpbWFnZSIsImF1ZGlvU3JjIiwiQ2xvdGhlcyIsIkVtb3Rpb25zIiwiY3JlYXRlIiwiZWwiLCJjbGFzc05hbWVzIiwiY2hpbGRyZW4iLCJwYXJlbnQiLCJlbGVtZW50Iiwibm90RGF0YUF0dHJpYnV0ZXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJlcnJvciIsIkVycm9yIiwiQXJyYXkiLCJpc0FycmF5IiwiY2xhc3NMaXN0IiwiYWRkIiwic3BsaXQiLCJmb3JFYWNoIiwiY2hpbGRFbGVtZW50IiwiYXBwZW5kIiwiaW5uZXJIVE1MIiwiYXBwZW5kQ2hpbGQiLCJkYXRhQXR0cmlidXRlcyIsImxlbmd0aCIsImF0dHJpYnV0ZU5hbWUiLCJhdHRyaWJ1dGVWYWx1ZSIsInNldEF0dHJpYnV0ZSIsImluY2x1ZGVzIiwiZGF0YXNldCIsIkxlZnRNZW51IiwiY2F0ZWdvcmllcyIsInRoaXMiLCJtZW51IiwibWVudUNvbnRhaW5lciIsImNyZWF0ZUh0bWxDb250YWluZXIiLCJjcmVhdGVNZW51IiwiY3JlYXRlT3ZlcmxheSIsImJvZHkiLCJyZW1vdmUiLCJvdmVybGF5IiwiY29udGFpbnMiLCJzdG9wU2Nyb2xsaW5nIiwic2hvd092ZXJsYXkiLCJzdGFydFNjcm9sbGluZyIsImhpZGVPdmVybGF5IiwicGFyYW1zIiwibmFtZSIsImZyb20iLCJhZGRMaW5rVG9NYWluUGFnZSIsImNhdGVnb3J5Iiwicm91dGVQYXJhbXMiLCJwYXRoIiwiY2F0ZWdvcnlOYW1lIiwiSlNPTiIsInN0cmluZ2lmeSIsInRleHRDb250ZW50IiwiaGVhZGVyTWVudUhhbmRsZXIiLCJhZGRFdmVudExpc3RlbmVyIiwidG9nZ2xlTWVudSIsImFkZE92ZXJsYXlDbG9zZUhhbmRsZXIiLCJIZWFkZXIiLCJtZW51SGFuZGxlciIsInRvZ2dsZUhhbmRsZXIiLCJoZWFkZXIiLCJoZWFkZXJDb250YWluZXIiLCJjcmVhdGVCdXJnZXJNZW51IiwiY3JlYXRlTmFtZSIsImNyZWF0ZVN3aXRjaCIsImJ1cmdlckNvbnRhaW5lciIsInRvZ2dsZSIsImJ1dHRvbiIsImUiLCJ0YXJnZXQiLCJjaGVja2VkIiwidmFsIiwiRm9vdGVyIiwiZm9vdGVyIiwiZm9vdGVyQ29udGFpbmVyIiwidWwiLCJjcmVhdGVHaXRIdWIiLCJjcmVhdGVZZWFyIiwiY3JlYXRlUlNTIiwibGkiLCJhIiwiTWFpbkNvbnRlbnQiLCJtYWluIiwibWFpbkNvbnRhaW5lciIsIlJvdXRlciIsInJvb3QiLCJtYWluSGFuZGxlciIsInJvdXRlcyIsIm1vZGUiLCJxdWVyeVN0cmluZyIsIndpbmRvdyIsImxvY2F0aW9uIiwic2VhcmNoIiwidXJsUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwicmVzdWx0IiwidXJsS2V5cyIsImtleXMiLCJpIiwiY3VycmVudFVybEtleSIsInB1c2giLCJ2YWx1ZSIsImdldCIsInJlcGxhY2UiLCJldmVudCIsImNsb3Nlc3QiLCJwYXJzZSIsInJvdXRlIiwibmF2aWdhdGUiLCJoYW5kbGVyIiwiaWR4IiwiZmluZEluZGV4Iiwic3BsaWNlIiwiZmluZCIsIlBhZ2UiLCJwYWdlUGFyYW1zIiwiZmluYWxQYXRoIiwic3RyaXBEb3VibGVFbmRTbGFzaGVzIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsIkNhcmQiLCJ1cmxQcmVmaXgiLCJjcmVhdGVDYXJkRWxlbWVudCIsImNyZWF0ZUltYWdlQ29udGFpbmVyIiwiY3JlYXRlSW1hZ2UiLCJjcmVhdGVEZXNjcmlwdGlvbkNvbnRhaW5lciIsImNyZWF0ZURlc2NyaXB0aW9uIiwiY2FyZEVsZW1lbnQiLCJpbWFnZUNvbnRhaW5lciIsImNhcmQiLCJkZXNjcmlwdGlvbkNvbnRhaW5lciIsImRlc2NyaXB0aW9uIiwiTWFpblBhZ2UiLCJjb250ZW50VmFsIiwiY29udGVudCIsIm1hcCIsImNyZWF0ZUNhdGVnb3J5TGluayIsIkNhdGVnb3J5Q2FyZCIsImNyZWF0ZURlY2siLCJjcmVhdGVGcm9udENhcmQiLCJjcmVhdGVCYWNrQ2FyZCIsImFkZEZsaXBCdXR0b24iLCJhZGRQbGF5QXVkaW9IYW5kbGVyIiwiYWRkRmxpcEhhbmRsZXIiLCJkZWNrIiwiZGVja0NvbnRhaW5lciIsImZyb250IiwiY3JlYXRlQXVkaW8iLCJiYWNrIiwicGFyZW50RWwiLCJzaWRlIiwic3R5bGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJmbGlwQnV0dG9uIiwiZmxpcFRvQmFjayIsImZsaXBUb0Zyb250IiwiYXVkaW8iLCJNT0RFUyIsImZsaXBCdG4iLCJCb29sZWFuIiwicGxheVNvdW5kIiwiY3VycmVudFRpbWUiLCJwbGF5IiwicGxheU1vZGVzIiwid2FpdGluZyIsInBsYXlpbmciLCJzdGFycyIsImZ1bGwiLCJlbXB0eSIsImljb25zIiwicmVwZWF0IiwicGxheU1vZGUiLCJjYXJkcyIsInNvdW5kVXJsIiwic291bmQiLCJ3b3JkcyIsImNyZWF0ZUNhcmRzIiwiY3JlYXRlUmF0aW5nIiwiY3JlYXRlQnV0dG9uIiwiY3JlYXRlU3VjY2Vzc1NvdW5kIiwiY3JlYXRlRXJyb3JTb3VuZCIsImFkZFNvdW5kc1RvUGFuZWwiLCJzZXRWaXNpYmlsaXR5Iiwic2V0SW52aXNpYmxlIiwicGxheUNhcmRDbGlja0hhbmRsZXIiLCJzZXRWaXNpYmxlIiwicmF0aW5nIiwicGxheUNhcmRzIiwiaiIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInNldFJlcGVhdEJ0biIsInNodWZmbGUiLCJuZXh0UGxheUNhcmQiLCJjdXJyZW50UGxheUNhcmQiLCJDYXRlZ29yeSIsInN1Y2Nlc3NTb3VuZCIsImVycm9yU291bmQiLCJwb3AiLCJwYW5lbCIsImNyZWF0ZUJ1dHRvbnNQYW5lbCIsImJ0bkNsaWNrSGFuZGxlciIsImNyZWF0ZVNvdW5kIiwiQXBwIiwibGVmdE1lbnUiLCJPYmplY3QiLCJnZXRDYXRlZ29yaWVzIiwiY2hhbmdlTW9kZSIsInJvdXRlckluaXQiLCJjcmVhdGVQYWdlIiwicmVuZGVyUGFnZSIsImFkZENsb3NlSGFuZGxlciIsInBhZ2UiLCJpbml0VXJsIiwib3JpZ2luIiwicm91dGVyIiwiaGFuZGxlUm91dGUiLCJsaXN0ZW4iLCJzZWxlY3RlZENhdGVnb3J5IiwiY2F0IiwiaW5pdCIsImFwcE1vZGUiLCJzd2l0Y2hlciJdLCJtYXBwaW5ncyI6InlCQUtBLFFBSlMsRUFJVCxFQUhRLEVDRlIsR0FDRSxpQkFBa0IsQ0FDaEIsQ0FDRUEsS0FBTSxNQUNOQyxZQUFhLFVBQ2JDLE1BQU8sY0FDUEMsU0FBVSxpQkFFWixDQUNFSCxLQUFNLFFBQ05DLFlBQWEsWUFDYkMsTUFBTyxnQkFDUEMsU0FBVSxtQkFFWixDQUNFSCxLQUFNLE9BQ05DLFlBQWEsU0FDYkMsTUFBTyxlQUNQQyxTQUFVLGtCQUVaLENBQ0VILEtBQU0sT0FDTkMsWUFBYSxXQUNiQyxNQUFPLGVBQ1BDLFNBQVUsa0JBRVosQ0FDRUgsS0FBTSxPQUNOQyxZQUFhLGNBQ2JDLE1BQU8sZUFDUEMsU0FBVSxrQkFFWixDQUNFSCxLQUFNLE1BQ05DLFlBQWEsU0FDYkMsTUFBTyxjQUNQQyxTQUFVLGlCQUVaLENBQ0VILEtBQU0sTUFDTkMsWUFBYSxXQUNiQyxNQUFPLGNBQ1BDLFNBQVUsaUJBRVosQ0FDRUgsS0FBTSxPQUNOQyxZQUFhLFVBQ2JDLE1BQU8sZUFDUEMsU0FBVSxtQkFHZCxpQkFBa0IsQ0FDaEIsQ0FDRUgsS0FBTSxPQUNOQyxZQUFhLFlBQ2JDLE1BQU8sZUFDUEMsU0FBVSxrQkFFWixDQUNFSCxLQUFNLE9BQ05DLFlBQWEsU0FDYkMsTUFBTyxlQUNQQyxTQUFVLGtCQUVaLENBQ0VILEtBQU0sUUFDTkMsWUFBYSxZQUNiQyxNQUFPLGdCQUNQQyxTQUFVLG1CQUVaLENBQ0VILEtBQU0sT0FDTkMsWUFBYSxTQUNiQyxNQUFPLGVBQ1BDLFNBQVUsa0JBRVosQ0FDRUgsS0FBTSxNQUNOQyxZQUFhLFNBQ2JDLE1BQU8sY0FDUEMsU0FBVSxpQkFFWixDQUNFSCxLQUFNLE9BQ05DLFlBQWEsT0FDYkMsTUFBTyxlQUNQQyxTQUFVLGtCQUVaLENBQ0VILEtBQU0sT0FDTkMsWUFBYSxzQkFDYkMsTUFBTyxlQUNQQyxTQUFVLGtCQUVaLENBQ0VILEtBQU0sT0FDTkMsWUFBYSxVQUNiQyxNQUFPLGVBQ1BDLFNBQVUsbUJBR2QsaUJBQWtCLENBQ2hCLENBQ0VILEtBQU0sTUFDTkMsWUFBYSxNQUNiQyxNQUFPLGNBQ1BDLFNBQVUsaUJBRVosQ0FDRUgsS0FBTSxRQUNOQyxZQUFhLFdBQ2JDLE1BQU8sZ0JBQ1BDLFNBQVUsbUJBRVosQ0FDRUgsS0FBTSxVQUNOQyxZQUFhLFNBQ2JDLE1BQU8sa0JBQ1BDLFNBQVUscUJBRVosQ0FDRUgsS0FBTSxNQUNOQyxZQUFhLFNBQ2JDLE1BQU8sY0FDUEMsU0FBVSxpQkFFWixDQUNFSCxLQUFNLFFBQ05DLFlBQWEsU0FDYkMsTUFBTyxnQkFDUEMsU0FBVSxtQkFFWixDQUNFSCxLQUFNLE1BQ05DLFlBQWEsU0FDYkMsTUFBTyxjQUNQQyxTQUFVLGlCQUVaLENBQ0VILEtBQU0sU0FDTkMsWUFBYSxTQUNiQyxNQUFPLGlCQUNQQyxTQUFVLG9CQUVaLENBQ0VILEtBQU0sUUFDTkMsWUFBYSxPQUNiQyxNQUFPLGdCQUNQQyxTQUFVLG9CQUdkLGlCQUFrQixDQUNoQixDQUNFSCxLQUFNLE9BQ05DLFlBQWEsUUFDYkMsTUFBTyxlQUNQQyxTQUFVLGtCQUVaLENBQ0VILEtBQU0sT0FDTkMsWUFBYSxPQUNiQyxNQUFPLGdCQUNQQyxTQUFVLGtCQUVaLENBQ0VILEtBQU0sT0FDTkMsWUFBYSxPQUNiQyxNQUFPLGVBQ1BDLFNBQVUsa0JBRVosQ0FDRUgsS0FBTSxVQUNOQyxZQUFhLFNBQ2JDLE1BQU8sa0JBQ1BDLFNBQVUscUJBRVosQ0FDRUgsS0FBTSxPQUNOQyxZQUFhLE1BQ2JDLE1BQU8sZUFDUEMsU0FBVSxrQkFFWixDQUNFSCxLQUFNLFFBQ05DLFlBQWEsT0FDYkMsTUFBTyxnQkFDUEMsU0FBVSxtQkFFWixDQUNFSCxLQUFNLFNBQ05DLFlBQWEsV0FDYkMsTUFBTyxpQkFDUEMsU0FBVSxvQkFFWixDQUNFSCxLQUFNLFVBQ05DLFlBQWEsVUFDYkMsTUFBTyxrQkFDUEMsU0FBVSxzQkFHZEMsUUFBUyxDQUNQLENBQ0VKLEtBQU0sUUFDTkMsWUFBYSxPQUNiQyxNQUFPLGdCQUNQQyxTQUFVLG1CQUVaLENBQ0VILEtBQU0sUUFDTkMsWUFBYSxRQUNiQyxNQUFPLGdCQUNQQyxTQUFVLG1CQUVaLENBQ0VILEtBQU0sU0FDTkMsWUFBYSxTQUNiQyxNQUFPLGlCQUNQQyxTQUFVLG9CQUVaLENBQ0VILEtBQU0sUUFDTkMsWUFBYSxTQUNiQyxNQUFPLGdCQUNQQyxTQUFVLG1CQUVaLENBQ0VILEtBQU0sT0FDTkMsWUFBYSxVQUNiQyxNQUFPLGVBQ1BDLFNBQVUsa0JBRVosQ0FDRUgsS0FBTSxRQUNOQyxZQUFhLFVBQ2JDLE1BQU8sZ0JBQ1BDLFNBQVUsbUJBRVosQ0FDRUgsS0FBTSxPQUNOQyxZQUFhLFNBQ2JDLE1BQU8sZUFDUEMsU0FBVSxrQkFFWixDQUNFSCxLQUFNLE9BQ05DLFlBQWEsUUFDYkMsTUFBTyxlQUNQQyxTQUFVLG1CQUdkRSxTQUFVLENBQ1IsQ0FDRUwsS0FBTSxNQUNOQyxZQUFhLFdBQ2JDLE1BQU8sY0FDUEMsU0FBVSxpQkFFWixDQUNFSCxLQUFNLFFBQ05DLFlBQWEsV0FDYkMsTUFBTyxnQkFDUEMsU0FBVSxtQkFFWixDQUNFSCxLQUFNLFFBQ05DLFlBQWEsYUFDYkMsTUFBTyxnQkFDUEMsU0FBVSxtQkFFWixDQUNFSCxLQUFNLFFBQ05DLFlBQWEsV0FDYkMsTUFBTyxnQkFDUEMsU0FBVSxtQkFFWixDQUNFSCxLQUFNLFlBQ05DLFlBQWEsYUFDYkMsTUFBTyxvQkFDUEMsU0FBVSx1QkFFWixDQUNFSCxLQUFNLFNBQ05DLFlBQWEsYUFDYkMsTUFBTyxpQkFDUEMsU0FBVSxvQkFFWixDQUNFSCxLQUFNLFFBQ05DLFlBQWEsU0FDYkMsTUFBTyxnQkFDUEMsU0FBVSxtQkFFWixDQUNFSCxLQUFNLFFBQ05DLFlBQWEsT0FDYkMsTUFBTyxnQkFDUEMsU0FBVSxxQixrL0NDbFNELFNBQVNHLEVBQU9DLEVBQUlDLEVBQVlDLEVBQVVDLEdBQ3ZELElBb0JnQixJQXBCWkMsRUFBVSxLQUNSQyxFQUFvQixDQUN4QixZQUNBLFFBQ0EsS0FDQSxjQUNBLE9BQ0EsT0FDQSxjQUNBLGFBQ0EsTUFDQSxPQUNBLE9BRUYsSUFDRUQsRUFBVUUsU0FBU0MsY0FBY1AsR0FDakMsTUFBT1EsR0FDUCxNQUFNLElBQUlDLE1BQUosd0NBQTJDVCxJQUcvQ0MsSUFDRVMsTUFBTUMsUUFBUVYsSUFBYSxFQUFBRyxFQUFRUSxXQUFVQyxJQUFsQixVQUF5QlosS0FDbkQsRUFBQUcsRUFBUVEsV0FBVUMsSUFBbEIsVUFBeUJaLEVBQVdhLE1BQU0sUUFHN0NaLEdBQVlRLE1BQU1DLFFBQVFULEdBQzVCQSxFQUFTYSxTQUFRLFNBQUNDLEdBQUQsT0FBa0JBLEdBQWdCWixFQUFRYSxPQUFPRCxNQUN6RGQsR0FBZ0MsV0FBcEIsRUFBT0EsR0FDNUJFLEVBQVFhLE9BQU9mLEdBQ05BLEdBQWdDLGlCQUFiQSxJQUM1QkUsRUFBUWMsVUFBWWhCLEdBR2xCQyxHQUNGQSxFQUFPZ0IsWUFBWWYsR0FuQzZELDJCQUFoQmdCLEVBQWdCLGlDQUFoQkEsRUFBZ0Isa0JBa0RsRixPQVpJQSxFQUFlQyxRQUNqQkQsRUFBZUwsU0FBUSxZQUFxQyxhQUFuQ08sRUFBbUMsS0FBcEJDLEVBQW9CLEtBQ25DLEtBQW5CQSxFQUNGbkIsRUFBUW9CLGFBQWFGLEVBQWUsSUFDM0JqQixFQUFrQm9CLFNBQVNILEdBQ3BDbEIsRUFBUW9CLGFBQWFGLEVBQWVDLEdBRXBDbkIsRUFBUXNCLFFBQVFKLEdBQWlCQyxLQUtoQ25CLEUsMEtDeERZdUIsRSxXQUNuQixXQUFZQyxJLDRGQUFZLFNBQ3RCQyxLQUFLRCxXQUFhQSxFQUNsQkMsS0FBS0MsS0FBTyxLQUNaRCxLQUFLRSxjQUFnQixLQUNyQkYsS0FBS0csc0JBQ0xILEtBQUtJLGFBQ0xKLEtBQUtLLGdCLCtEQStCTDVCLFNBQVM2QixLQUFLdkIsVUFBVXdCLE9BQU8sb0Isc0NBSS9COUIsU0FBUzZCLEtBQUt2QixVQUFVQyxJQUFJLHNCLHlDQS9CNUJnQixLQUFLUSxRQUFVdEMsRUFBTyxNQUFPLFVBQVcsS0FBTU8sU0FBUzZCLFEsb0NBSXZETixLQUFLUSxRQUFRekIsVUFBVUMsSUFBSSxVLG9DQUkzQmdCLEtBQUtRLFFBQVF6QixVQUFVd0IsT0FBTyxVLG1DQUlWUCxLQUFLQyxLQUFLbEIsVUFDZDBCLFNBQVMsV0FDdkJYLEVBQVNZLGdCQUNUVixLQUFLVyxjQUNMWCxLQUFLQyxLQUFLbEIsVUFBVXdCLE9BQU8sVUFDM0JQLEtBQUtDLEtBQUtsQixVQUFVQyxJQUFJLFlBRXhCYyxFQUFTYyxpQkFDVFosS0FBS2EsY0FDTGIsS0FBS0MsS0FBS2xCLFVBQVV3QixPQUFPLFVBQzNCUCxLQUFLQyxLQUFLbEIsVUFBVUMsSUFBSSxhLDRDQWExQmdCLEtBQUtDLEtBQU8vQixFQUFPLE1BQU8sb0JBQzFCOEIsS0FBS0UsY0FBZ0JoQyxFQUFPLEtBQU0sT0FBUSxLQUFNOEIsS0FBS0MsUSxrQ0FHM0NhLEdBQ1YsSUFBTUMsRUFBT0QsR0FBVUEsRUFBT0MsS0FBT0QsRUFBT0MsS0FBTyxPQUNuRGxDLE1BQU1tQyxLQUFLaEIsS0FBS0UsY0FBYzdCLFVBQVVhLFNBQVEsU0FBQ2YsR0FDM0NBLEVBQUcwQixRQUFRa0IsT0FBU0EsRUFDdEI1QyxFQUFHWSxVQUFVQyxJQUFJLFVBRWpCYixFQUFHWSxVQUFVd0IsT0FBTyxlLG1DQUtiLFdBQ1hQLEtBQUtpQixvQkFFTGpCLEtBQUtELFdBQVdiLFNBQVEsU0FBQ2dDLEdBQ3ZCLElBQU1DLEVBQWMsQ0FDbEJKLEtBQU1HLEVBQ05FLEtBQU0sV0FDTk4sT0FBUSxDQUNOTyxhQUFjSCxJQUdBaEQsRUFDaEIsS0FDQSxZQUNBLEtBQ0EsRUFBS2dDLGNBQ0wsQ0FBQyxPQUFRZ0IsR0FDVCxDQUFDLFFBQVNJLEtBQUtDLFVBQVVKLEtBRWpCSyxZQUFjTixPLHNDQUlaTyxHQUFtQixXQUNqQzVDLE1BQU1tQyxLQUFLaEIsS0FBS0UsY0FBYzdCLFVBQVVhLFNBQVEsU0FBQ2YsR0FDL0NBLEVBQUd1RCxpQkFBaUIsU0FBUyxXQUMzQkQsSUFDQSxFQUFLRSxtQkFHVDNCLEtBQUs0Qix1QkFBdUJILEssNkNBR1BBLEdBQW1CLFdBQ3hDekIsS0FBS1EsUUFBUWtCLGlCQUFpQixTQUFTLFdBQ3JDRCxJQUNBLEVBQUtFLGtCLDBDQVlXekQsRUFDaEIsS0FDQSxZQUNBLEtBQ0E4QixLQUFLRSxjQUNMLENBQUMsT0FBUSxRQUNULENBQUMsUUFBU29CLEtBQUtDLFVBYkcsQ0FDbEJSLEtBQU0sT0FDTkssS0FBTSxJQUNOTixPQUFRLENBQ05PLGFBQWMsWUFXUkcsWUFBYyxZLDBNQ3JIUEssRSxXQUNuQixXQUFZQyxFQUFhQyxJLDRGQUFlLFNBQ3RDL0IsS0FBS2dDLE9BQVM5RCxFQUFPLFNBQVUsVUFDL0I4QixLQUFLaUMsZ0JBQWtCL0QsRUFBTyxNQUFPLFlBQWEsS0FBTThCLEtBQUtnQyxRQUM3RGhDLEtBQUtrQyxpQkFBaUJKLEdBQ3RCOUIsS0FBS21DLGFBQ0xuQyxLQUFLb0MsYUFBYUwsRyw4REFPSEQsR0FBYSxXQUM1QjlCLEtBQUtxQyxnQkFBa0JuRSxFQUFPLE1BQU8sU0FBVSxLQUFNOEIsS0FBS2lDLGlCQUMxRC9ELEVBQU8sTUFBTyxPQUFRLEtBQU04QixLQUFLcUMsaUJBQ2pDbkUsRUFBTyxNQUFPLE9BQVEsS0FBTThCLEtBQUtxQyxpQkFDakNuRSxFQUFPLE1BQU8sT0FBUSxLQUFNOEIsS0FBS3FDLGlCQUU3QlAsSUFDRjlCLEtBQUtxQyxnQkFBZ0JYLGlCQUFpQixRQUFTSSxHQUMvQzlCLEtBQUtxQyxnQkFBZ0JYLGlCQUFpQixTQUFTLGtCQUFNLEVBQUtDLG1CLG1DQUs1RDNCLEtBQUtxQyxnQkFBZ0J0RCxVQUFVdUQsT0FBTyxvQixtQ0FRM0JwRSxFQUNULEtBQ0EsaUJBQ0EsS0FDQThCLEtBQUtpQyxnQkFDTCxDQUFDLFFBQVNYLEtBQUtDLFVBVEcsQ0FDbEJSLEtBQU0sT0FDTkssS0FBTSxRQVNMSSxZQUFjLHFCLG1DQUdOTyxHQUNYL0IsS0FBQSxPQUFjOUIsRUFBTyxRQUFTLEdBQUksS0FBTThCLEtBQUtpQyxnQkFBaUIsQ0FBQyxPQUFRLFlBQWEsQ0FBQyxLQUFNLGlCQUMzRmpDLEtBQUt1QyxPQUFTckUsRUFBTyxRQUFTLEdBQUksS0FBTThCLEtBQUtpQyxnQkFBaUIsQ0FBQyxNQUFPLGdCQUFpQixDQUFDLEtBQU0sV0FDOUYvRCxFQUFPLE1BQU8sR0FBSSxLQUFNOEIsS0FBS3VDLE9BQVEsQ0FBQyxLQUFNLFNBQy9CckUsRUFBTyxNQUFPLEdBQUksS0FBTThCLEtBQUt1QyxPQUFRLENBQUMsS0FBTSxTQUNwRGYsWUFBYyxPQUNMdEQsRUFBTyxNQUFPLEdBQUksS0FBTThCLEtBQUt1QyxPQUFRLENBQUMsS0FBTSxVQUNwRGYsWUFBYyxRQUVwQnhCLEtBQUEsT0FBWTBCLGlCQUFpQixVQUFVLFNBQUNjLEdBQUQsT0FBT1QsRUFBY1MsRUFBRUMsT0FBT0MsUUFBVSxRLDZCQTVDcEVDLEdBQ1gzQyxLQUFBLE9BQVkwQyxRQUFVQyxPLGdNQ1ZMQyxFLFdBQ25CLGMsNEZBQWMsU0FDWjVDLEtBQUs2QyxPQUFTM0UsRUFBTyxTQUFVLFVBQy9COEIsS0FBSzhDLGdCQUFrQjVFLEVBQU8sTUFBTyxZQUFhLEtBQU04QixLQUFLNkMsUUFDN0Q3QyxLQUFLK0MsR0FBSzdFLEVBQU8sS0FBTSxRQUFTLEtBQU04QixLQUFLOEMsaUJBQzNDOUMsS0FBS2dELGVBQ0xoRCxLQUFLaUQsYUFDTGpELEtBQUtrRCxZLDREQUlMLElBQU1DLEVBQUtqRixFQUFPLEtBQU0sT0FBUSxLQUFNOEIsS0FBSytDLElBQ3JDSyxFQUFJbEYsRUFBTyxJQUFLLEdBQUksS0FBTWlGLEVBQUksQ0FBQyxPQUFRLG9DQUM3Q2pGLEVBQU8sTUFBTyxhQUFjLEtBQU1rRixFQUFHLENBQUMsTUFBTyx3Q0FBeUMsQ0FBQyxNQUFPLGEsbUNBSTlGLElBQU1ELEVBQUtqRixFQUFPLEtBQU0sT0FBUSxLQUFNOEIsS0FBSytDLElBQzVCN0UsRUFBTyxTQUFVLEdBQUksS0FBTWlGLEdBQ25DM0IsWUFBYyxTLGtDQUlyQixJQUFNMkIsRUFBS2pGLEVBQU8sS0FBTSxPQUFRLEtBQU04QixLQUFLK0MsSUFDckNLLEVBQUlsRixFQUFPLElBQUssR0FBSSxLQUFNaUYsRUFBSSxDQUFDLE9BQVEsMEJBQzdDakYsRUFBTyxNQUFPLFVBQVcsS0FBTWtGLEVBQUcsQ0FBQyxNQUFPLGlDQUFrQyxDQUFDLE1BQU8sbUIsZ01DekJuRUMsRSxXQUNuQixjLDRGQUFjLFNBQ1pyRCxLQUFLc0QsS0FBT3BGLEVBQU8sT0FBUSxRQUMzQjhCLEtBQUt1RCxjQUFnQnJGLEVBQU8sTUFBTyxZQUFhLEtBQU04QixLQUFLc0QsTSxtREFHakRYLEdBQUssV0FDZjNDLEtBQUt1RCxjQUFjbEUsVUFBWSxHQUMzQlIsTUFBTUMsUUFBUTZELEdBQ2hCQSxFQUFJekQsU0FBUSxTQUFDZixHQUFELE9BQVEsRUFBS29GLGNBQWNuRSxPQUFPakIsTUFFOUM2QixLQUFLdUQsY0FBY25FLE9BQU91RCxRLDhSQ2JYYSxFLFdBQ25CLGFBQXNDLElBQTFCQyxFQUEwQix1REFBbkIsS0FBTUMsRUFBYSxpREFDcEMxRCxLQUFLMkQsT0FBUyxHQUNkM0QsS0FBSzRELEtBQU8sVUFDWjVELEtBQUswRCxZQUFjQSxFQUVqQjFELEtBQUt5RCxLQURIQSxHQUdVLEksNERBb0NkLElBSkEsSUFBTUksRUFBY0MsT0FBT0MsU0FBU0MsT0FDOUJDLEVBQVksSUFBSUMsZ0JBQWdCTCxHQUNoQ00sRUFBUyxHQUNUQyxFQUFVdkYsTUFBTW1DLEtBQUtpRCxFQUFVSSxRQUM1QkMsRUFBSSxFQUFHQSxFQUFJRixFQUFRNUUsT0FBUThFLEdBQUssRUFBRyxDQUMxQyxJQUFNQyxFQUFnQkgsRUFBUUUsR0FDOUJILEVBQU9LLEtBQUssQ0FDVnpELEtBQU13RCxFQUNORSxNQUFPUixFQUFVUyxJQUFJSCxLQUd6QixPQUFPSixJLDRDQUdvQi9DLEdBQzNCLE9BQU9BLEVBQUt1RCxRQUFRLFFBQVMsUyxrQ0EzQ3RCLFdBQ1BsRyxTQUFTNkIsS0FBS29CLGlCQUFpQixTQUFTLFNBQUNrRCxHQUN2QyxJQUFNekcsRUFBS3lHLEVBQU1uQyxPQUFPb0MsUUFBUSxnQkFDaEMsR0FBSzFHLEVBQUwsQ0FDQSxJQUFNZ0QsRUFBY0csS0FBS3dELE1BQU0zRyxFQUFHMEIsUUFBUWtGLE9BQzFDLEVBQUtDLFNBQVM3RCxFQUFZQyxLQUFNRCxTLDBCQUloQ0MsRUFBTTZELEdBQ1IsSUFBSzdELElBQVM2RCxFQUFXLE1BQU0sSUFBSXJHLE1BQU0sa0NBQ3pDLEdBQW9CLGlCQUFUd0MsRUFBcUIsTUFBTSxJQUFJeEMsTUFBTSx3QkFDaEQsR0FBdUIsbUJBQVpxRyxFQUEwQixNQUFNLElBQUlyRyxNQUFNLDZCQUNyRG9CLEtBQUsyRCxPQUFPekUsU0FBUSxTQUFDZixHQUNuQixHQUFJQSxFQUFHaUQsT0FBU0EsRUFBUSxNQUFNLElBQUl4QyxNQUFKLDhCQUFpQ3dDLEVBQWpDLFNBRWhDcEIsS0FBSzJELE9BQU9hLEtBQUssQ0FDZnBELE9BQ0E2RCxjLDZCQUlHN0QsR0FDTCxJQUFNOEQsRUFBTWxGLEtBQUsyRCxPQUFPd0IsV0FBVSxTQUFDaEgsR0FBRCxPQUFRQSxFQUFHaUQsT0FBU0EsS0FDdERwQixLQUFLMkQsT0FBT3lCLE9BQU9GLEVBQUssSyxpQ0FzQlEsSUFBekI5RCxFQUF5Qix1REFBbEIsSUFBS04sRUFBYSx1REFBSixHQUN0QmlFLEVBQVEvRSxLQUFLMkQsT0FBTzBCLE1BQUssU0FBQ2xILEdBQUQsT0FBUUEsRUFBR2lELE9BQVNBLEtBQ25EcEIsS0FBS3NGLEtBQU9QLEVBQU1FLFFBQ2xCakYsS0FBS3VGLFdBQWF6RSxFQUNsQixJQUFNMEUsRUFBWWhDLEVBQU9pQyxzQkFBc0J6RixLQUFLeUQsS0FBT3JDLEdBQzNEMEMsT0FBTzRCLFFBQVFDLFVBQVUsQ0FBRTVFLEtBQU1ELEVBQU9DLE1BQVEsR0FBSXlFLEdBQ2hEeEYsS0FBSzBELGFBQ1AxRCxLQUFLMEQsWUFBWTVDLFEsME1DL0RGOEUsRSxXQUNuQixXQUFZOUUsSSw0RkFBUSxTQUNsQmQsS0FBSzZGLFVBQVksWUFDakI3RixLQUFLYyxPQUFTQSxFQUNkZCxLQUFLOEYsb0JBQ0w5RixLQUFLK0YsdUJBQ0wvRixLQUFLZ0csY0FDTGhHLEtBQUtpRyw2QkFDTGpHLEtBQUtrRyxvQixpRUFJTGxHLEtBQUttRyxZQUFjakksRUFBTyxNQUFPLG9CLDZDQUlqQzhCLEtBQUtvRyxlQUFpQmxJLEVBQU8sTUFBTyxhQUFjLEtBQU04QixLQUFLcUcsUSxvQ0FJN0RyRyxLQUFLbEMsTUFBUUksRUFDWCxNQUNBLEdBQ0EsS0FDQThCLEtBQUtvRyxlQUNMLENBQ0UsTUFERixVQUVLcEcsS0FBSzZGLFdBRlYsT0FFc0I3RixLQUFLYyxPQUFPaEQsT0FBUyxpQkFFM0MsQ0FDRSxNQUNBa0MsS0FBS2MsT0FBT2xELE1BQVEsVyxtREFNeEJvQyxLQUFLc0cscUJBQXVCcEksRUFBTyxNQUFPLG1CQUFvQixLQUFNOEIsS0FBS3FHLFEsMENBSXpFckcsS0FBS3VHLFlBQWNySSxFQUFPLFNBQVUsR0FBSSxLQUFNOEIsS0FBS3NHLHNCQUNuRHRHLEtBQUt1RyxZQUFZL0UsWUFBY3hCLEtBQUtjLE9BQU9sRCxNQUFRLFMsMkNBUW5ELElBQU11RCxFQUFjLENBQ2xCSixLQUFNZixLQUFLYyxPQUFPbEQsS0FDbEJ3RCxLQUFNLFdBQ05OLE9BQVEsQ0FDTk8sYUFBY3JCLEtBQUtjLE9BQU9sRCxPQUc5Qm9DLEtBQUttRyxZQUFZdEcsUUFBUWtGLE1BQVF6RCxLQUFLQyxVQUFVSixLLDJCQVhoRCxPQUFPbkIsS0FBS21HLGlCLGdNQzlDS0ssRSxXQUNuQixjLDRGQUFjLFNBQ1p4RyxLQUFLZSxLQUFPLFlBQ1pmLEtBQUt5RyxXQUFhLEcsa0RBR2YxRyxHQUNIQyxLQUFLMEcsUUFBVTNHLEVBQVc0RyxLQUFJLFNBQUN6RixHQUM3QixJQUFNbUYsRUFBTyxJQUFJVCxFQUFLMUUsR0FFdEIsT0FEQW1GLEVBQUtPLHFCQUNFUCxPLDhCQUtULE9BQU9yRyxLQUFLeUcsWSxhQUdGOUQsR0FBSyxXQUNmQSxFQUFJekQsU0FBUSxTQUFDWCxHQUNYLEVBQUtrSSxXQUFXakMsS0FBS2pHLEVBQVE4SCxjLGdNQ25CZFEsRSxXQUNuQixXQUFZL0YsRUFBUThDLEksNEZBQU0sU0FDeEI1RCxLQUFLNkYsVUFBWSxZQUNqQjdGLEtBQUtjLE9BQVNBLEVBQ2RkLEtBQUs0RCxLQUFPQSxFQUNaNUQsS0FBS2xDLE1BQVEsR0FDYmtDLEtBQUt1RyxZQUFjLEdBRW5CdkcsS0FBSzhHLGFBQ0w5RyxLQUFLK0csa0JBQ0wvRyxLQUFLZ0gsaUJBRUxoSCxLQUFLaUgsZ0JBQ0xqSCxLQUFLa0gsc0JBQ0xsSCxLQUFLbUgsaUIsMERBSUxuSCxLQUFLb0gsS0FBT2xKLEVBQU8sTUFBTyxhQUMxQjhCLEtBQUtxSCxjQUFnQm5KLEVBQU8sTUFBTyx1QkFBd0IsS0FBTThCLEtBQUtvSCxRLHdDQUl0RXBILEtBQUtzSCxNQUFRcEosRUFBTyxNQUFPLG1CQUFvQixLQUFNOEIsS0FBS3FILGVBQzFEckgsS0FBS2dHLFlBQVloRyxLQUFLc0gsTUFBTyxTQUM3QnRILEtBQUtrRyxrQkFBa0JsRyxLQUFLc0gsTUFBT3RILEtBQUtjLE9BQU9sRCxLQUFNLFNBQ3JEb0MsS0FBS3VILGdCLHVDQUlMdkgsS0FBS3dILEtBQU90SixFQUFPLE1BQU8sa0JBQW1CLEtBQU04QixLQUFLcUgsZUFDeERySCxLQUFLZ0csWUFBWWhHLEtBQUt3SCxLQUFNLFFBQzVCeEgsS0FBS2tHLGtCQUFrQmxHLEtBQUt3SCxLQUFNeEgsS0FBS2MsT0FBT2pELFlBQWEsVSxrQ0FHakQ0SixFQUFVQyxHQUNwQjFILEtBQUtsQyxNQUFNNEosR0FBUXhKLEVBQU8sTUFBTyxhQUFjLEtBQU11SixHQUNyRHpILEtBQUtsQyxNQUFNNEosR0FBTUMsTUFBTUMsZ0JBQXZCLGNBQWdENUgsS0FBSzZGLFdBQXJELE9BQWlFN0YsS0FBS2MsT0FBT2hELE1BQTdFLE8sd0NBR2dCMkosR0FBMkIsSUFBakI3SixFQUFpQix1REFBVixHQUFJOEosRUFBTSx1Q0FDM0MxSCxLQUFLdUcsWUFBWW1CLEdBQVF4SixFQUFPLE1BQU8sbUJBQW9CLEtBQU11SixHQUNqRSxJQUFNbEIsRUFBY3JJLEVBQU8sU0FBVSxHQUFJLEtBQU04QixLQUFLdUcsWUFBWW1CLElBQ2hFbkIsRUFBWS9FLFlBQWM1RCxHQUFRLEssdUNBR25CLFdBQ2ZvQyxLQUFLNkgsV0FBV25HLGlCQUFpQixTQUFTLGtCQUFNLEVBQUtvRyxnQkFDckQ5SCxLQUFLb0gsS0FBSzFGLGlCQUFpQixjQUFjLGtCQUFNLEVBQUtxRyxtQixvQ0FJcEQvSCxLQUFLZ0ksTUFBUTlKLEVBQU8sUUFBUyxHQUFJLEtBQU04QixLQUFLc0gsTUFBTyxDQUFDLE1BQUQsVUFBV3RILEtBQUs2RixXQUFoQixPQUE0QjdGLEtBQUtjLE9BQU8vQyxjLHNDQUkzRmlDLEtBQUs2SCxXQUFhM0osRUFBTyxTQUFVLFlBQWEsS0FBTThCLEtBQUtzSCxNQUFPLENBQUMsT0FBUSxXQUMzRXRILEtBQUs2SCxXQUFXeEksVUFBWSxvQyw0Q0FHUixXQUNwQlcsS0FBS3NILE1BQU01RixpQkFBaUIsU0FBUyxTQUFDYyxHQUNwQyxHQUFJLEVBQUtvQixTQUFXcUUsRUFBcEIsQ0FHQSxJQUFNQyxFQUFVQyxRQUFRM0YsRUFBRUMsT0FBT29DLFFBQVEsZUFDbkN5QyxFQUFRYSxRQUFRM0YsRUFBRUMsT0FBT29DLFFBQVEsdUJBQ2xDcUQsR0FBV1osR0FDZCxFQUFLYyxrQixrQ0FNVHBJLEtBQUtnSSxNQUFNSyxZQUFjLEVBQ3pCckksS0FBS2dJLE1BQU1NLFMsbUNBSVh0SSxLQUFLb0gsS0FBS3JJLFVBQVVDLElBQUksV0FDeEJnQixLQUFLc0gsTUFBTXZJLFVBQVVDLElBQUksVUFDekJnQixLQUFLd0gsS0FBS3pJLFVBQVV3QixPQUFPLFksb0NBSTNCUCxLQUFLb0gsS0FBS3JJLFVBQVV3QixPQUFPLFdBQzNCUCxLQUFLc0gsTUFBTXZJLFVBQVV3QixPQUFPLFVBQzVCUCxLQUFLd0gsS0FBS3pJLFVBQVVDLElBQUksWSxxQ0FJeEJnQixLQUFLb0gsS0FBS3JJLFVBQVVDLElBQUksU0FDeEJnQixLQUFLbEMsTUFBTXdKLE1BQU12SSxVQUFVQyxJQUFJLFNBQy9CZ0IsS0FBS3VHLFlBQVllLE1BQU12SSxVQUFVQyxJQUFJLGlCQUNyQ2dCLEtBQUs2SCxXQUFXOUksVUFBVUMsSUFBSSxtQixtQ0FJOUJnQixLQUFLb0gsS0FBS3JJLFVBQVV3QixPQUFPLFNBQzNCUCxLQUFLbEMsTUFBTXdKLE1BQU12SSxVQUFVd0IsT0FBTyxTQUNsQ1AsS0FBS3VHLFlBQVllLE1BQU12SSxVQUFVd0IsT0FBTyxpQkFDeENQLEtBQUs2SCxXQUFXOUksVUFBVXdCLE9BQU8sc0IseTVCQ25HckMsU0FDRSxDQUNFUSxLQUFNLE9BQ05LLEtBQU0sSUFDTjZELFFBQVN1QixHQUVYLENBQ0V6RixLQUFNLGFBQ05LLEtBQU0sYUFDTjZELFFBWGtCLGNBYXBCLENBQ0VsRSxLQUFNLFdBQ05LLEtBQU0sV0FDTjZELFEsV0NkRixjLDRGQUFjLFNBQ1pqRixLQUFLdUksVUFBWSxDQUNmQyxRQUFTLFVBQ1RDLFFBQVMsV0FFWHpJLEtBQUswSSxNQUFRLENBQ1hDLEtBQU0sb0NBQ05DLE1BQU8scUNBRVQ1SSxLQUFLNkksTUFBUSxDQUNYQyxPQUFRLG9DQUNSUixLQUFNLHlDQUVSdEksS0FBSytJLFNBQVcsS0FDaEIvSSxLQUFLZSxLQUFPLGdCQUNaZixLQUFLZ0osTUFBUSxHLDBEQXFJSUMsR0FDakIsT0FBTy9LLEVBQU8sUUFBUyxHQUFJLEtBQU0sS0FBTSxDQUFDLE1BQU8rSyxNLGdDQUdoQ0MsR0FDZkEsRUFBTWIsWUFBYyxFQUNwQmEsRUFBTVosVyw4QkF4SUhhLEVBQU92RixHQUNWNUQsS0FBS21KLE1BQVFBLEVBQ2JuSixLQUFLZ0osTUFBUSxHQUNiaEosS0FBSzRELEtBQU9BLEVBQ1o1RCxLQUFLb0osY0FDTHBKLEtBQUtxSixlQUNMckosS0FBS3NKLGVBQ0x0SixLQUFLdUoscUJBQ0x2SixLQUFLd0osbUJBQ0x4SixLQUFLeUosbUJBQ0x6SixLQUFLMEosa0IsaUNBR0k5RixHQUFNLFdBQ2Y1RCxLQUFLNEQsS0FBT0EsRUFDWjVELEtBQUswSixnQkFDTDFKLEtBQUtnSixNQUFNOUosU0FBUSxTQUFDbUgsR0FDZCxFQUFLekMsT0FBU3FFLEdBQ2hCNUIsRUFBS3NELGVBQ0x0RCxFQUFLZSxLQUFLMUYsaUJBQWlCLFNBQVMsU0FBQ2MsR0FBRCxPQUFPLEVBQUtvSCxxQkFBcUJwSCxPQUVyRTZELEVBQUt3RCxrQixvQ0F1QkcsV0FDWjdKLEtBQUttSixNQUFNakssU0FBUSxTQUFDdEIsR0FDbEIsRUFBS29MLE1BQU14RSxLQUFLLElBQUlxQyxFQUFhakosR0FBTSxrQkFBTSxFQUFLZ0csYyxxQ0FLcEQ1RCxLQUFLOEosT0FBUzVMLEVBQU8sTUFBTyxVQUM1QjhCLEtBQUs4SixPQUFPekssVUFBWixVQUEyQlcsS0FBSzBJLE1BQU1FLE9BQXRDLE9BQThDNUksS0FBSzBJLE1BQU1DLFEsZ0NBSXpEM0ksS0FBSytKLFVBQUwsRUFBcUIvSixLQUFLZ0osT0FDMUIsSUFBSyxJQUFJMUUsRUFBSXRFLEtBQUsrSixVQUFVdkssT0FBUyxFQUFHOEUsRUFBSSxFQUFHQSxHQUFLLEVBQUcsQ0FDckQsSUFBTTBGLEVBQUlDLEtBQUtDLE1BQU1ELEtBQUtFLFVBQVk3RixFQUFJLElBRFcsRUFFWixDQUFDdEUsS0FBSytKLFVBQVVDLEdBQUloSyxLQUFLK0osVUFBVXpGLElBQTNFdEUsS0FBSytKLFVBQVV6RixHQUZxQyxLQUVqQ3RFLEtBQUsrSixVQUFVQyxHQUZrQixRLHdDQU9qQyxPQUFsQmhLLEtBQUsrSSxVQUFxQi9JLEtBQUsrSSxXQUFhL0ksS0FBS3VJLFVBQVVDLFNBQzdEeEksS0FBSytJLFNBQVcvSSxLQUFLdUksVUFBVUUsUUFDL0J6SSxLQUFLb0ssZUFDTHBLLEtBQUtxSyxVQUNMckssS0FBS3NLLGVBQ0x0SyxLQUFLdUssZ0JBQWdCbkMsYUFFckJwSSxLQUFLdUssZ0JBQWdCbkMsYywyQ0FJSjVGLEdBQ1JBLEVBQUVDLE9BQU9vQyxRQUFRLGdCQUNqQjdFLEtBQUt1SyxnQkFBZ0JuRCxLQUM5Qm9ELEVBQVNwQyxVQUFVcEksS0FBS3lLLGNBRXhCRCxFQUFTcEMsVUFBVXBJLEtBQUswSyxjLHFDQUsxQjFLLEtBQUt1SyxnQkFBa0J2SyxLQUFLK0osVUFBVVksUSwyQ0FJdEMzSyxLQUFLNEssTUFBUTFNLEVBQU8sTUFBTyxXLHFDQUdkLFdBQ2I4QixLQUFLNksscUJBQ0w3SyxLQUFLdUMsT0FBU3JFLEVBQU8sU0FBVSxnQkFBaUIsS0FBTThCLEtBQUs0SyxPQUMzRDVLLEtBQUt1QyxPQUFPbEQsVUFBWVcsS0FBSzZJLE1BQU1QLEtBQ25DdEksS0FBS3VDLE9BQU9iLGlCQUFpQixTQUFTLGtCQUFNLEVBQUtvSix1QixxQ0FJakQ5SyxLQUFLdUMsT0FBT2xELFVBQVlXLEtBQUs2SSxNQUFNQyxPQUNuQzlJLEtBQUt1QyxPQUFPeEQsVUFBVUMsSUFBSSxjQUMxQmdCLEtBQUt1QyxPQUFPeEQsVUFBVXdCLE9BQU8sZSxzQ0FJekJQLEtBQUs0RCxPQUFTcUUsR0FDWmpJLEtBQUs4SixRQUFROUosS0FBSzhKLE9BQU8vSyxVQUFVQyxJQUFJLGlCQUN2Q2dCLEtBQUs0SyxPQUFPNUssS0FBSzRLLE1BQU03TCxVQUFVQyxJQUFJLFNBRXJDZ0IsS0FBSzhKLFFBQVE5SixLQUFLOEosT0FBTy9LLFVBQVV3QixPQUFPLGlCQUMxQ1AsS0FBSzRLLE9BQU81SyxLQUFLNEssTUFBTTdMLFVBQVV3QixPQUFPLFUsMkNBTTlDUCxLQUFLeUssYUFBZUQsRUFBU08sWUFEWixnQyx5Q0FNakIvSyxLQUFLMEssV0FBYUYsRUFBU08sWUFEViw4Qix5Q0FLakIvSyxLQUFLNEssTUFBTXRMLFlBQVlVLEtBQUswSyxZQUM1QjFLLEtBQUs0SyxNQUFNdEwsWUFBWVUsS0FBS3lLLGdCLDhCQXBHNUIsSUFBTXpCLEVBQVFoSixLQUFLZ0osTUFBTXJDLEtBQUksU0FBQ3hJLEdBQUQsT0FBUUEsRUFBR2lKLFFBQ3hDLE9BQ0VwSCxLQUFLOEosT0FDTDlKLEtBQUt1RyxhQUZQLFNBR0t5QyxHQUhMLENBSUVoSixLQUFLNEssVSxrQ0FLUCxJQUFNckUsRUFBY3JJLEVBQU8sTUFBTyxlQUlsQyxPQUhXQSxFQUFPLEtBQU0sbUJBQW9CLEtBQU1xSSxHQUMvQy9FLFlBQWN4QixLQUFLcUIsYUFFZmtGLE8sNE1DdkRVeUUsRSxXQUNuQixhQUFjLFksNEZBQUEsU0FDWmhMLEtBQUtnSixNQUFRQSxFQUNiaEosS0FBS2lMLFNBQVcsSUFBSW5MLEVBQVNvTCxPQUFPN0csS0FBSzJFLElBQ3pDaEosS0FBS21MLGdCQUNMbkwsS0FBS2dDLE9BQVMsSUFBSUgsR0FDaEIsa0JBQU0sRUFBS29KLFNBQVN0SixnQkFDcEIsU0FBQ2dCLEdBQUQsT0FBUyxFQUFLeUksV0FBV3pJLE1BRTNCM0MsS0FBSzZDLE9BQVMsSUFBSUQsRUFDbEI1QyxLQUFLc0QsS0FBTyxJQUFJRCxFQUNoQnJELEtBQUtxTCxhQUNMckwsS0FBSzRELEtBQU9xRSxFQUNaakksS0FBS3NMLGFBQ0x0TCxLQUFLdUwsYUFDTHZMLEtBQUtpTCxTQUFTTyxpQkFBZ0Isa0JBQU0sRUFBS3hKLE9BQU9MLGdCLHdEQUd2Q2dCLEdBQ1QzQyxLQUFLNEQsS0FBT2pCLEVBQ1csa0JBQW5CM0MsS0FBS3lMLEtBQUsxSyxNQUNaZixLQUFLeUwsS0FBS0wsV0FBV3BMLEtBQUs0RCxRLG1DQUlqQixXQUNMOEgsRUFBVSxHQUFILE9BQU01SCxPQUFPQyxTQUFTNEgsT0FBdEIsc0JBQ2IzTCxLQUFLNEwsT0FBUyxJQUFJcEksRUFBT2tJLEdBQVMsU0FBQzVLLEdBQ2pDLEVBQUttSyxTQUFTWSxZQUFZL0ssR0FDMUIsRUFBS3lLLFdBQVd6SyxNQUVsQjZDLFdBQWUsU0FBQ3hGLEdBQUQsT0FBUSxFQUFLeU4sT0FBTzVNLElBQUliLEVBQUdpRCxLQUFNakQsRUFBRzhHLFlBQ25EakYsS0FBSzRMLE9BQU81RyxTQUFTLEtBQ3JCaEYsS0FBSzRMLE9BQU9FLFcsK0JBR0xMLEVBQU05SSxHQUNiM0MsS0FBS3NGLEtBQU9tRyxFQUNaekwsS0FBSytMLGlCQUFtQnBKLEVBQ3hCM0MsS0FBS3VMLFdBQVd2TCxLQUFLZ0osTUFBTXJHLE0sc0NBYTNCM0MsS0FBS0QsV0FBYSxHQUVsQixJQURBLElBQU1zRSxFQUFPNkcsT0FBTzdHLEtBQUsyRSxHQUNoQjFFLEVBQUksRUFBR0EsRUFBSUQsRUFBSzdFLE9BQVE4RSxHQUFLLEVBQUcsQ0FDdkMsSUFBTWpELEVBQWVnRCxFQUFLQyxHQUNwQjBILEVBQU0sQ0FDVmxPLE1BQU9rTCxFQUFNM0gsR0FBYyxHQUFHdkQsTUFDOUJGLEtBQU15RCxHQUVSckIsS0FBS0QsV0FBV3lFLEtBQUt3SCxNLG1DQUt2QnZOLFNBQVM2QixLQUFLbEIsT0FBT1ksS0FBS2dDLE9BQU9BLFFBQ2pDdkQsU0FBUzZCLEtBQUtsQixPQUFPWSxLQUFLaUwsU0FBU2hMLE1BQ25DeEIsU0FBUzZCLEtBQUtsQixPQUFPWSxLQUFLc0QsS0FBS0EsTUFDL0I3RSxTQUFTNkIsS0FBS2xCLE9BQU9ZLEtBQUs2QyxPQUFPQSxVLGlDQUd4Qi9CLEdBQ1RkLEtBQUt1RixXQUFhekUsRUFDbEJkLEtBQUt5TCxLQUFPLElBQUl6TCxLQUFLNEwsT0FBT3RHLEtBQ0wsY0FBbkJ0RixLQUFLeUwsS0FBSzFLLEtBQ1pmLEtBQUt5TCxLQUFLUSxLQUFLak0sS0FBS0QsWUFDUSxrQkFBbkJDLEtBQUt5TCxLQUFLMUssTUFDbkJmLEtBQUt5TCxLQUFLUSxLQUFLakQsRUFBTWxJLEVBQU9DLE1BQU9mLEtBQUs0RCxNQUUxQzVELEtBQUtzRCxLQUFLb0QsUUFBVTFHLEtBQUt5TCxLQUFLL0UsVSx5QkFyQ3ZCL0QsR0FDUDNDLEtBQUtrTSxRQUFVdkosRUFDZjNDLEtBQUtnQyxPQUFPbUssU0FBV3hKLElBQVFzRixHLGVBSS9CLE9BQU9qSSxLQUFLa00sYSxzQkN2RGhCek4sU0FBU2lELGlCQUFpQixvQkFBb0IsV0FDaEMsSUFBSXNKLE0iLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgTU9ERVMgPSB7XG4gIFRSQUlOOiAxLFxuICBQTEFZOiAyLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgTU9ERVM7XG4iLCJleHBvcnQgZGVmYXVsdCB7XG4gICdBY3Rpb24gKHNldCBBKSc6IFtcbiAgICB7XG4gICAgICB3b3JkOiAnY3J5JyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0L/Qu9Cw0LrQsNGC0YwnLFxuICAgICAgaW1hZ2U6ICdpbWcvY3J5LmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL2NyeS5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ2RhbmNlJyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0YLQsNC90YbQtdCy0LDRgtGMJyxcbiAgICAgIGltYWdlOiAnaW1nL2RhbmNlLmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL2RhbmNlLm1wMycsXG4gICAgfSxcbiAgICB7XG4gICAgICB3b3JkOiAnZGl2ZScsXG4gICAgICB0cmFuc2xhdGlvbjogJ9C90YvRgNGP0YLRjCcsXG4gICAgICBpbWFnZTogJ2ltZy9kaXZlLmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL2RpdmUubXAzJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHdvcmQ6ICdkcmF3JyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0YDQuNGB0L7QstCw0YLRjCcsXG4gICAgICBpbWFnZTogJ2ltZy9kcmF3LmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL2RyYXcubXAzJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHdvcmQ6ICdmaXNoJyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0LvQvtCy0LjRgtGMINGA0YvQsdGDJyxcbiAgICAgIGltYWdlOiAnaW1nL2Zpc2guanBnJyxcbiAgICAgIGF1ZGlvU3JjOiAnYXVkaW8vZmlzaC5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ2ZseScsXG4gICAgICB0cmFuc2xhdGlvbjogJ9C70LXRgtCw0YLRjCcsXG4gICAgICBpbWFnZTogJ2ltZy9mbHkuanBnJyxcbiAgICAgIGF1ZGlvU3JjOiAnYXVkaW8vZmx5Lm1wMycsXG4gICAgfSxcbiAgICB7XG4gICAgICB3b3JkOiAnaHVnJyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0L7QsdC90LjQvNCw0YLRjCcsXG4gICAgICBpbWFnZTogJ2ltZy9odWcuanBnJyxcbiAgICAgIGF1ZGlvU3JjOiAnYXVkaW8vaHVnLm1wMycsXG4gICAgfSxcbiAgICB7XG4gICAgICB3b3JkOiAnanVtcCcsXG4gICAgICB0cmFuc2xhdGlvbjogJ9C/0YDRi9Cz0LDRgtGMJyxcbiAgICAgIGltYWdlOiAnaW1nL2p1bXAuanBnJyxcbiAgICAgIGF1ZGlvU3JjOiAnYXVkaW8vanVtcC5tcDMnLFxuICAgIH0sXG4gIF0sXG4gICdBY3Rpb24gKHNldCBCKSc6IFtcbiAgICB7XG4gICAgICB3b3JkOiAnb3BlbicsXG4gICAgICB0cmFuc2xhdGlvbjogJ9C+0YLQutGA0YvQstCw0YLRjCcsXG4gICAgICBpbWFnZTogJ2ltZy9vcGVuLmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL29wZW4ubXAzJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHdvcmQ6ICdwbGF5JyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0LjQs9GA0LDRgtGMJyxcbiAgICAgIGltYWdlOiAnaW1nL3BsYXkuanBnJyxcbiAgICAgIGF1ZGlvU3JjOiAnYXVkaW8vcGxheS5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ3BvaW50JyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0YPQutCw0LfRi9Cy0LDRgtGMJyxcbiAgICAgIGltYWdlOiAnaW1nL3BvaW50LmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL3BvaW50Lm1wMycsXG4gICAgfSxcbiAgICB7XG4gICAgICB3b3JkOiAncmlkZScsXG4gICAgICB0cmFuc2xhdGlvbjogJ9C10LfQtNC40YLRjCcsXG4gICAgICBpbWFnZTogJ2ltZy9yaWRlLmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL3JpZGUubXAzJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHdvcmQ6ICdydW4nLFxuICAgICAgdHJhbnNsYXRpb246ICfQsdC10LPQsNGC0YwnLFxuICAgICAgaW1hZ2U6ICdpbWcvcnVuLmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL3J1bi5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ3NpbmcnLFxuICAgICAgdHJhbnNsYXRpb246ICfQv9C10YLRjCcsXG4gICAgICBpbWFnZTogJ2ltZy9zaW5nLmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL3NpbmcubXAzJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHdvcmQ6ICdza2lwJyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0L/RgNC+0L/Rg9GB0LrQsNGC0YwsINC/0YDRi9Cz0LDRgtGMJyxcbiAgICAgIGltYWdlOiAnaW1nL3NraXAuanBnJyxcbiAgICAgIGF1ZGlvU3JjOiAnYXVkaW8vc2tpcC5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ3N3aW0nLFxuICAgICAgdHJhbnNsYXRpb246ICfQv9C70LDQstCw0YLRjCcsXG4gICAgICBpbWFnZTogJ2ltZy9zd2ltLmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL3N3aW0ubXAzJyxcbiAgICB9LFxuICBdLFxuICAnQW5pbWFsIChzZXQgQSknOiBbXG4gICAge1xuICAgICAgd29yZDogJ2NhdCcsXG4gICAgICB0cmFuc2xhdGlvbjogJ9C60L7RgicsXG4gICAgICBpbWFnZTogJ2ltZy9jYXQuanBnJyxcbiAgICAgIGF1ZGlvU3JjOiAnYXVkaW8vY2F0Lm1wMycsXG4gICAgfSxcbiAgICB7XG4gICAgICB3b3JkOiAnY2hpY2snLFxuICAgICAgdHJhbnNsYXRpb246ICfRhtGL0L/Qu9GR0L3QvtC6JyxcbiAgICAgIGltYWdlOiAnaW1nL2NoaWNrLmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL2NoaWNrLm1wMycsXG4gICAgfSxcbiAgICB7XG4gICAgICB3b3JkOiAnY2hpY2tlbicsXG4gICAgICB0cmFuc2xhdGlvbjogJ9C60YPRgNC40YbQsCcsXG4gICAgICBpbWFnZTogJ2ltZy9jaGlja2VuLmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL2NoaWNrZW4ubXAzJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHdvcmQ6ICdkb2cnLFxuICAgICAgdHJhbnNsYXRpb246ICfRgdC+0LHQsNC60LAnLFxuICAgICAgaW1hZ2U6ICdpbWcvZG9nLmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL2RvZy5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ2hvcnNlJyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0LvQvtGI0LDQtNGMJyxcbiAgICAgIGltYWdlOiAnaW1nL2hvcnNlLmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL2hvcnNlLm1wMycsXG4gICAgfSxcbiAgICB7XG4gICAgICB3b3JkOiAncGlnJyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0YHQstC40L3RjNGPJyxcbiAgICAgIGltYWdlOiAnaW1nL3BpZy5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9waWcubXAzJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHdvcmQ6ICdyYWJiaXQnLFxuICAgICAgdHJhbnNsYXRpb246ICfQutGA0L7Qu9C40LonLFxuICAgICAgaW1hZ2U6ICdpbWcvcmFiYml0LmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL3JhYmJpdC5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ3NoZWVwJyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0L7QstGG0LAnLFxuICAgICAgaW1hZ2U6ICdpbWcvc2hlZXAuanBnJyxcbiAgICAgIGF1ZGlvU3JjOiAnYXVkaW8vc2hlZXAubXAzJyxcbiAgICB9LFxuICBdLFxuICAnQW5pbWFsIChzZXQgQiknOiBbXG4gICAge1xuICAgICAgd29yZDogJ2JpcmQnLFxuICAgICAgdHJhbnNsYXRpb246ICfQv9GC0LjRhtCwJyxcbiAgICAgIGltYWdlOiAnaW1nL2JpcmQuanBnJyxcbiAgICAgIGF1ZGlvU3JjOiAnYXVkaW8vYmlyZC5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ2Zpc2gnLFxuICAgICAgdHJhbnNsYXRpb246ICfRgNGL0LHQsCcsXG4gICAgICBpbWFnZTogJ2ltZy9maXNoMS5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9maXNoLm1wMycsXG4gICAgfSxcbiAgICB7XG4gICAgICB3b3JkOiAnZnJvZycsXG4gICAgICB0cmFuc2xhdGlvbjogJ9C20LDQsdCwJyxcbiAgICAgIGltYWdlOiAnaW1nL2Zyb2cuanBnJyxcbiAgICAgIGF1ZGlvU3JjOiAnYXVkaW8vZnJvZy5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ2dpcmFmZmUnLFxuICAgICAgdHJhbnNsYXRpb246ICfQttC40YDQsNGE0LAnLFxuICAgICAgaW1hZ2U6ICdpbWcvZ2lyYWZmZS5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9naXJhZmZlLm1wMycsXG4gICAgfSxcbiAgICB7XG4gICAgICB3b3JkOiAnbGlvbicsXG4gICAgICB0cmFuc2xhdGlvbjogJ9C70LXQsicsXG4gICAgICBpbWFnZTogJ2ltZy9saW9uLmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL2xpb24ubXAzJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHdvcmQ6ICdtb3VzZScsXG4gICAgICB0cmFuc2xhdGlvbjogJ9C80YvRiNGMJyxcbiAgICAgIGltYWdlOiAnaW1nL21vdXNlLmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL21vdXNlLm1wMycsXG4gICAgfSxcbiAgICB7XG4gICAgICB3b3JkOiAndHVydGxlJyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0YfQtdGA0LXQv9Cw0YXQsCcsXG4gICAgICBpbWFnZTogJ2ltZy90dXJ0bGUuanBnJyxcbiAgICAgIGF1ZGlvU3JjOiAnYXVkaW8vdHVydGxlLm1wMycsXG4gICAgfSxcbiAgICB7XG4gICAgICB3b3JkOiAnZG9scGhpbicsXG4gICAgICB0cmFuc2xhdGlvbjogJ9C00LXQu9GM0YTQuNC9JyxcbiAgICAgIGltYWdlOiAnaW1nL2RvbHBoaW4uanBnJyxcbiAgICAgIGF1ZGlvU3JjOiAnYXVkaW8vZG9scGhpbi5tcDMnLFxuICAgIH0sXG4gIF0sXG4gIENsb3RoZXM6IFtcbiAgICB7XG4gICAgICB3b3JkOiAnc2tpcnQnLFxuICAgICAgdHJhbnNsYXRpb246ICfRjtCx0LrQsCcsXG4gICAgICBpbWFnZTogJ2ltZy9za2lydC5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9za2lydC5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ3BhbnRzJyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0LHRgNGO0LrQuCcsXG4gICAgICBpbWFnZTogJ2ltZy9wYW50cy5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9wYW50cy5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ2Jsb3VzZScsXG4gICAgICB0cmFuc2xhdGlvbjogJ9Cx0LvRg9C30LrQsCcsXG4gICAgICBpbWFnZTogJ2ltZy9ibG91c2UuanBnJyxcbiAgICAgIGF1ZGlvU3JjOiAnYXVkaW8vYmxvdXNlLm1wMycsXG4gICAgfSxcbiAgICB7XG4gICAgICB3b3JkOiAnZHJlc3MnLFxuICAgICAgdHJhbnNsYXRpb246ICfQv9C70LDRgtGM0LUnLFxuICAgICAgaW1hZ2U6ICdpbWcvZHJlc3MuanBnJyxcbiAgICAgIGF1ZGlvU3JjOiAnYXVkaW8vZHJlc3MubXAzJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHdvcmQ6ICdib290JyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0LHQvtGC0LjQvdC+0LonLFxuICAgICAgaW1hZ2U6ICdpbWcvYm9vdC5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9ib290Lm1wMycsXG4gICAgfSxcbiAgICB7XG4gICAgICB3b3JkOiAnc2hpcnQnLFxuICAgICAgdHJhbnNsYXRpb246ICfRgNGD0LHQsNGI0LrQsCcsXG4gICAgICBpbWFnZTogJ2ltZy9zaGlydC5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9zaGlydC5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ2NvYXQnLFxuICAgICAgdHJhbnNsYXRpb246ICfQv9Cw0LvRjNGC0L4nLFxuICAgICAgaW1hZ2U6ICdpbWcvY29hdC5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9jb2F0Lm1wMycsXG4gICAgfSxcbiAgICB7XG4gICAgICB3b3JkOiAnc2hvZScsXG4gICAgICB0cmFuc2xhdGlvbjogJ9GC0YPRhNC70LgnLFxuICAgICAgaW1hZ2U6ICdpbWcvc2hvZS5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9zaG9lLm1wMycsXG4gICAgfSxcbiAgXSxcbiAgRW1vdGlvbnM6IFtcbiAgICB7XG4gICAgICB3b3JkOiAnc2FkJyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0LPRgNGD0YHRgtC90YvQuScsXG4gICAgICBpbWFnZTogJ2ltZy9zYWQuanBnJyxcbiAgICAgIGF1ZGlvU3JjOiAnYXVkaW8vc2FkLm1wMycsXG4gICAgfSxcbiAgICB7XG4gICAgICB3b3JkOiAnYW5ncnknLFxuICAgICAgdHJhbnNsYXRpb246ICfRgdC10YDQtNC40YLRi9C5JyxcbiAgICAgIGltYWdlOiAnaW1nL2FuZ3J5LmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL2FuZ3J5Lm1wMycsXG4gICAgfSxcbiAgICB7XG4gICAgICB3b3JkOiAnaGFwcHknLFxuICAgICAgdHJhbnNsYXRpb246ICfRgdGH0LDRgdGC0LvQuNCy0YvQuScsXG4gICAgICBpbWFnZTogJ2ltZy9oYXBweS5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9oYXBweS5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ3RpcmVkJyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0YPRgdGC0LDQstGI0LjQuScsXG4gICAgICBpbWFnZTogJ2ltZy90aXJlZC5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby90aXJlZC5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ3N1cnByaXNlZCcsXG4gICAgICB0cmFuc2xhdGlvbjogJ9GD0LTQuNCy0LvRkdC90L3Ri9C5JyxcbiAgICAgIGltYWdlOiAnaW1nL3N1cnByaXNlZC5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9zdXJwcmlzZWQubXAzJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHdvcmQ6ICdzY2FyZWQnLFxuICAgICAgdHJhbnNsYXRpb246ICfQuNGB0L/Rg9Cz0LDQvdC90YvQuScsXG4gICAgICBpbWFnZTogJ2ltZy9zY2FyZWQuanBnJyxcbiAgICAgIGF1ZGlvU3JjOiAnYXVkaW8vc2NhcmVkLm1wMycsXG4gICAgfSxcbiAgICB7XG4gICAgICB3b3JkOiAnc21pbGUnLFxuICAgICAgdHJhbnNsYXRpb246ICfRg9C70YvQsdC60LAnLFxuICAgICAgaW1hZ2U6ICdpbWcvc21pbGUuanBnJyxcbiAgICAgIGF1ZGlvU3JjOiAnYXVkaW8vc21pbGUubXAzJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHdvcmQ6ICdsYXVnaCcsXG4gICAgICB0cmFuc2xhdGlvbjogJ9GB0LzQtdGFJyxcbiAgICAgIGltYWdlOiAnaW1nL2xhdWdoLmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL2xhdWdoLm1wMycsXG4gICAgfSxcbiAgXSxcbn07XG4iLCIvKipcclxuICogQHBhcmFtIHtzdHJpbmd9IGVsXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWVzXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNoaWxkcmVuXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudFxyXG4gKiBAcGFyYW0gey4uLmFycmF5fSBkYXRhQXR0cmlidXRlc1xyXG4gKi9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZShlbCwgY2xhc3NOYW1lcywgY2hpbGRyZW4sIHBhcmVudCwgLi4uZGF0YUF0dHJpYnV0ZXMpIHtcclxuICBsZXQgZWxlbWVudCA9IG51bGw7XHJcbiAgY29uc3Qgbm90RGF0YUF0dHJpYnV0ZXMgPSBbXHJcbiAgICAnZHJhZ2dhYmxlJyxcclxuICAgICd2YWx1ZScsXHJcbiAgICAnaWQnLFxyXG4gICAgJ3BsYWNlaG9sZGVyJyxcclxuICAgICdjb2xzJyxcclxuICAgICdyb3dzJyxcclxuICAgICdhdXRvY29ycmVjdCcsXHJcbiAgICAnc3BlbGxjaGVjaycsXHJcbiAgICAnc3JjJyxcclxuICAgICd0eXBlJyxcclxuICAgICdmb3InLFxyXG4gIF07XHJcbiAgdHJ5IHtcclxuICAgIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGVsKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gY3JlYXRlIEhUTUwgZWxlbWVudCAke2VsfWApO1xyXG4gIH1cclxuXHJcbiAgaWYgKGNsYXNzTmFtZXMpIHtcclxuICAgIGlmIChBcnJheS5pc0FycmF5KGNsYXNzTmFtZXMpKSBlbGVtZW50LmNsYXNzTGlzdC5hZGQoLi4uY2xhc3NOYW1lcyk7XHJcbiAgICBlbHNlIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCguLi5jbGFzc05hbWVzLnNwbGl0KCcgJykpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGNoaWxkcmVuICYmIEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XHJcbiAgICBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZEVsZW1lbnQpID0+IGNoaWxkRWxlbWVudCAmJiBlbGVtZW50LmFwcGVuZChjaGlsZEVsZW1lbnQpKTtcclxuICB9IGVsc2UgaWYgKGNoaWxkcmVuICYmIHR5cGVvZiBjaGlsZHJlbiA9PT0gJ29iamVjdCcpIHtcclxuICAgIGVsZW1lbnQuYXBwZW5kKGNoaWxkcmVuKTtcclxuICB9IGVsc2UgaWYgKGNoaWxkcmVuICYmIHR5cGVvZiBjaGlsZHJlbiA9PT0gJ3N0cmluZycpIHtcclxuICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gY2hpbGRyZW47XHJcbiAgfVxyXG5cclxuICBpZiAocGFyZW50KSB7XHJcbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBpZiAoZGF0YUF0dHJpYnV0ZXMubGVuZ3RoKSB7XHJcbiAgICBkYXRhQXR0cmlidXRlcy5mb3JFYWNoKChbYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVmFsdWVdKSA9PiB7XHJcbiAgICAgIGlmIChhdHRyaWJ1dGVWYWx1ZSA9PT0gJycpIHtcclxuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLCAnJyk7XHJcbiAgICAgIH0gZWxzZSBpZiAobm90RGF0YUF0dHJpYnV0ZXMuaW5jbHVkZXMoYXR0cmlidXRlTmFtZSkpIHtcclxuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVWYWx1ZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZWxlbWVudC5kYXRhc2V0W2F0dHJpYnV0ZU5hbWVdID0gYXR0cmlidXRlVmFsdWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGVsZW1lbnQ7XHJcbn1cclxuIiwiaW1wb3J0IGNyZWF0ZSBmcm9tICcuLi91dGlscy9jcmVhdGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMZWZ0TWVudSB7XG4gIGNvbnN0cnVjdG9yKGNhdGVnb3JpZXMpIHtcbiAgICB0aGlzLmNhdGVnb3JpZXMgPSBjYXRlZ29yaWVzO1xuICAgIHRoaXMubWVudSA9IG51bGw7XG4gICAgdGhpcy5tZW51Q29udGFpbmVyID0gbnVsbDtcbiAgICB0aGlzLmNyZWF0ZUh0bWxDb250YWluZXIoKTtcbiAgICB0aGlzLmNyZWF0ZU1lbnUoKTtcbiAgICB0aGlzLmNyZWF0ZU92ZXJsYXkoKTtcbiAgfVxuXG4gIGNyZWF0ZU92ZXJsYXkoKSB7XG4gICAgdGhpcy5vdmVybGF5ID0gY3JlYXRlKCdkaXYnLCAnb3ZlcmxheScsIG51bGwsIGRvY3VtZW50LmJvZHkpO1xuICB9XG5cbiAgc2hvd092ZXJsYXkoKSB7XG4gICAgdGhpcy5vdmVybGF5LmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcbiAgfVxuXG4gIGhpZGVPdmVybGF5KCkge1xuICAgIHRoaXMub3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XG4gIH1cblxuICB0b2dnbGVNZW51KCkge1xuICAgIGNvbnN0IG1lbnVDbGFzc2VzID0gdGhpcy5tZW51LmNsYXNzTGlzdDtcbiAgICBpZiAobWVudUNsYXNzZXMuY29udGFpbnMoJ2Nsb3NlZCcpKSB7XG4gICAgICBMZWZ0TWVudS5zdG9wU2Nyb2xsaW5nKCk7XG4gICAgICB0aGlzLnNob3dPdmVybGF5KCk7XG4gICAgICB0aGlzLm1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnY2xvc2VkJyk7XG4gICAgICB0aGlzLm1lbnUuY2xhc3NMaXN0LmFkZCgnb3BlbmVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIExlZnRNZW51LnN0YXJ0U2Nyb2xsaW5nKCk7XG4gICAgICB0aGlzLmhpZGVPdmVybGF5KCk7XG4gICAgICB0aGlzLm1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbmVkJyk7XG4gICAgICB0aGlzLm1lbnUuY2xhc3NMaXN0LmFkZCgnY2xvc2VkJyk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHN0YXJ0U2Nyb2xsaW5nKCkge1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnc3RvcC1zY3JvbGxpbmcnKTtcbiAgfVxuXG4gIHN0YXRpYyBzdG9wU2Nyb2xsaW5nKCkge1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnc3RvcC1zY3JvbGxpbmcnKTtcbiAgfVxuXG4gIGNyZWF0ZUh0bWxDb250YWluZXIoKSB7XG4gICAgdGhpcy5tZW51ID0gY3JlYXRlKCduYXYnLCAnbGVmdC1tZW51IGNsb3NlZCcpO1xuICAgIHRoaXMubWVudUNvbnRhaW5lciA9IGNyZWF0ZSgndWwnLCAnbWVudScsIG51bGwsIHRoaXMubWVudSk7XG4gIH1cblxuICBoYW5kbGVSb3V0ZShwYXJhbXMpIHtcbiAgICBjb25zdCBuYW1lID0gcGFyYW1zICYmIHBhcmFtcy5uYW1lID8gcGFyYW1zLm5hbWUgOiAnbWFpbic7XG4gICAgQXJyYXkuZnJvbSh0aGlzLm1lbnVDb250YWluZXIuY2hpbGRyZW4pLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICBpZiAoZWwuZGF0YXNldC5uYW1lID09PSBuYW1lKSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjcmVhdGVNZW51KCkge1xuICAgIHRoaXMuYWRkTGlua1RvTWFpblBhZ2UoKTtcblxuICAgIHRoaXMuY2F0ZWdvcmllcy5mb3JFYWNoKChjYXRlZ29yeSkgPT4ge1xuICAgICAgY29uc3Qgcm91dGVQYXJhbXMgPSB7XG4gICAgICAgIG5hbWU6IGNhdGVnb3J5LFxuICAgICAgICBwYXRoOiAnY2F0ZWdvcnknLFxuICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICBjYXRlZ29yeU5hbWU6IGNhdGVnb3J5LFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIGNvbnN0IGxpRWxlbWVudCA9IGNyZWF0ZShcbiAgICAgICAgJ2xpJyxcbiAgICAgICAgJ21lbnUtbGluaycsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHRoaXMubWVudUNvbnRhaW5lcixcbiAgICAgICAgWyduYW1lJywgY2F0ZWdvcnldLFxuICAgICAgICBbJ3JvdXRlJywgSlNPTi5zdHJpbmdpZnkocm91dGVQYXJhbXMpXSxcbiAgICAgICk7XG4gICAgICBsaUVsZW1lbnQudGV4dENvbnRlbnQgPSBjYXRlZ29yeTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZENsb3NlSGFuZGxlcihoZWFkZXJNZW51SGFuZGxlcikge1xuICAgIEFycmF5LmZyb20odGhpcy5tZW51Q29udGFpbmVyLmNoaWxkcmVuKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGhlYWRlck1lbnVIYW5kbGVyKCk7XG4gICAgICAgIHRoaXMudG9nZ2xlTWVudSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5hZGRPdmVybGF5Q2xvc2VIYW5kbGVyKGhlYWRlck1lbnVIYW5kbGVyKTtcbiAgfVxuXG4gIGFkZE92ZXJsYXlDbG9zZUhhbmRsZXIoaGVhZGVyTWVudUhhbmRsZXIpIHtcbiAgICB0aGlzLm92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBoZWFkZXJNZW51SGFuZGxlcigpO1xuICAgICAgdGhpcy50b2dnbGVNZW51KCk7XG4gICAgfSk7XG4gIH1cblxuICBhZGRMaW5rVG9NYWluUGFnZSgpIHtcbiAgICBjb25zdCByb3V0ZVBhcmFtcyA9IHtcbiAgICAgIG5hbWU6ICdtYWluJyxcbiAgICAgIHBhdGg6ICcvJyxcbiAgICAgIHBhcmFtczoge1xuICAgICAgICBjYXRlZ29yeU5hbWU6ICdtYWluJyxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBjb25zdCBsaUVsZW1lbnQgPSBjcmVhdGUoXG4gICAgICAnbGknLFxuICAgICAgJ21lbnUtbGluaycsXG4gICAgICBudWxsLFxuICAgICAgdGhpcy5tZW51Q29udGFpbmVyLFxuICAgICAgWyduYW1lJywgJ21haW4nXSxcbiAgICAgIFsncm91dGUnLCBKU09OLnN0cmluZ2lmeShyb3V0ZVBhcmFtcyldLFxuICAgICk7XG4gICAgbGlFbGVtZW50LnRleHRDb250ZW50ID0gJ01haW4nO1xuICB9XG59XG4iLCJpbXBvcnQgY3JlYXRlIGZyb20gJy4uL3V0aWxzL2NyZWF0ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhlYWRlciB7XG4gIGNvbnN0cnVjdG9yKG1lbnVIYW5kbGVyLCB0b2dnbGVIYW5kbGVyKSB7XG4gICAgdGhpcy5oZWFkZXIgPSBjcmVhdGUoJ2hlYWRlcicsICdoZWFkZXInKTtcbiAgICB0aGlzLmhlYWRlckNvbnRhaW5lciA9IGNyZWF0ZSgnZGl2JywgJ2NvbnRhaW5lcicsIG51bGwsIHRoaXMuaGVhZGVyKTtcbiAgICB0aGlzLmNyZWF0ZUJ1cmdlck1lbnUobWVudUhhbmRsZXIpO1xuICAgIHRoaXMuY3JlYXRlTmFtZSgpO1xuICAgIHRoaXMuY3JlYXRlU3dpdGNoKHRvZ2dsZUhhbmRsZXIpO1xuICB9XG5cbiAgc2V0IHN3aXRjaGVyKHZhbCkge1xuICAgIHRoaXMuc3dpdGNoLmNoZWNrZWQgPSB2YWw7XG4gIH1cblxuICBjcmVhdGVCdXJnZXJNZW51KG1lbnVIYW5kbGVyKSB7XG4gICAgdGhpcy5idXJnZXJDb250YWluZXIgPSBjcmVhdGUoJ2RpdicsICdidXJnZXInLCBudWxsLCB0aGlzLmhlYWRlckNvbnRhaW5lcik7XG4gICAgY3JlYXRlKCdkaXYnLCAnYmFyMScsIG51bGwsIHRoaXMuYnVyZ2VyQ29udGFpbmVyKTtcbiAgICBjcmVhdGUoJ2RpdicsICdiYXIyJywgbnVsbCwgdGhpcy5idXJnZXJDb250YWluZXIpO1xuICAgIGNyZWF0ZSgnZGl2JywgJ2JhcjMnLCBudWxsLCB0aGlzLmJ1cmdlckNvbnRhaW5lcik7XG5cbiAgICBpZiAobWVudUhhbmRsZXIpIHtcbiAgICAgIHRoaXMuYnVyZ2VyQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbWVudUhhbmRsZXIpO1xuICAgICAgdGhpcy5idXJnZXJDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnRvZ2dsZU1lbnUoKSk7XG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlTWVudSgpIHtcbiAgICB0aGlzLmJ1cmdlckNvbnRhaW5lci5jbGFzc0xpc3QudG9nZ2xlKCdidXJnZXJfX2FjdGl2ZScpO1xuICB9XG5cbiAgY3JlYXRlTmFtZSgpIHtcbiAgICBjb25zdCByb3V0ZVBhcmFtcyA9IHtcbiAgICAgIG5hbWU6ICdtYWluJyxcbiAgICAgIHBhdGg6ICcvJyxcbiAgICB9O1xuICAgIGNvbnN0IGgxID0gY3JlYXRlKFxuICAgICAgJ2gxJyxcbiAgICAgICdoZWFkZXItY2FwdGlvbicsXG4gICAgICBudWxsLFxuICAgICAgdGhpcy5oZWFkZXJDb250YWluZXIsXG4gICAgICBbJ3JvdXRlJywgSlNPTi5zdHJpbmdpZnkocm91dGVQYXJhbXMpXSxcbiAgICApO1xuICAgIGgxLnRleHRDb250ZW50ID0gJ2VuZ2xpc2ggZm9yIGtpZHMnO1xuICB9XG5cbiAgY3JlYXRlU3dpdGNoKHRvZ2dsZUhhbmRsZXIpIHtcbiAgICB0aGlzLnN3aXRjaCA9IGNyZWF0ZSgnaW5wdXQnLCAnJywgbnVsbCwgdGhpcy5oZWFkZXJDb250YWluZXIsIFsndHlwZScsICdjaGVja2JveCddLCBbJ2lkJywgJ2xvbC1jaGVja2JveCddKTtcbiAgICB0aGlzLmJ1dHRvbiA9IGNyZWF0ZSgnbGFiZWwnLCAnJywgbnVsbCwgdGhpcy5oZWFkZXJDb250YWluZXIsIFsnZm9yJywgJ2xvbC1jaGVja2JveCddLCBbJ2lkJywgJ2J1dHRvbiddKTtcbiAgICBjcmVhdGUoJ2RpdicsICcnLCBudWxsLCB0aGlzLmJ1dHRvbiwgWydpZCcsICdrbm9iJ10pO1xuICAgIGNvbnN0IHBsYXkgPSBjcmVhdGUoJ2RpdicsICcnLCBudWxsLCB0aGlzLmJ1dHRvbiwgWydpZCcsICdwbGF5J10pO1xuICAgIHBsYXkudGV4dENvbnRlbnQgPSAnUGxheSc7XG4gICAgY29uc3QgdHJhaW4gPSBjcmVhdGUoJ2RpdicsICcnLCBudWxsLCB0aGlzLmJ1dHRvbiwgWydpZCcsICd0cmFpbiddKTtcbiAgICB0cmFpbi50ZXh0Q29udGVudCA9ICdUcmFpbic7XG5cbiAgICB0aGlzLnN3aXRjaC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4gdG9nZ2xlSGFuZGxlcihlLnRhcmdldC5jaGVja2VkICsgMSkpO1xuICB9XG59XG4iLCJpbXBvcnQgY3JlYXRlIGZyb20gJy4uL3V0aWxzL2NyZWF0ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvb3RlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZm9vdGVyID0gY3JlYXRlKCdmb290ZXInLCAnZm9vdGVyJyk7XG4gICAgdGhpcy5mb290ZXJDb250YWluZXIgPSBjcmVhdGUoJ2RpdicsICdjb250YWluZXInLCBudWxsLCB0aGlzLmZvb3Rlcik7XG4gICAgdGhpcy51bCA9IGNyZWF0ZSgndWwnLCAnbGlua3MnLCBudWxsLCB0aGlzLmZvb3RlckNvbnRhaW5lcik7XG4gICAgdGhpcy5jcmVhdGVHaXRIdWIoKTtcbiAgICB0aGlzLmNyZWF0ZVllYXIoKTtcbiAgICB0aGlzLmNyZWF0ZVJTUygpO1xuICB9XG5cbiAgY3JlYXRlR2l0SHViKCkge1xuICAgIGNvbnN0IGxpID0gY3JlYXRlKCdsaScsICdsaW5rJywgbnVsbCwgdGhpcy51bCk7XG4gICAgY29uc3QgYSA9IGNyZWF0ZSgnYScsICcnLCBudWxsLCBsaSwgWydocmVmJywgJ2h0dHBzOi8vZ2l0aHViLmNvbS9jbGFuY3lHcnV2ZXInXSk7XG4gICAgY3JlYXRlKCdpbWcnLCAnZ2l0aHViLWltZycsIG51bGwsIGEsIFsnc3JjJywgJy4vYXNzZXRzL2ltZy9pY29ubW9uc3RyLWdpdGh1Yi0xLnN2ZyddLCBbJ2FsdCcsICdnaXRodWInXSk7XG4gIH1cblxuICBjcmVhdGVZZWFyKCkge1xuICAgIGNvbnN0IGxpID0gY3JlYXRlKCdsaScsICdsaW5rJywgbnVsbCwgdGhpcy51bCk7XG4gICAgY29uc3Qgc3Ryb25nID0gY3JlYXRlKCdzdHJvbmcnLCAnJywgbnVsbCwgbGkpO1xuICAgIHN0cm9uZy50ZXh0Q29udGVudCA9ICcyMDIwJztcbiAgfVxuXG4gIGNyZWF0ZVJTUygpIHtcbiAgICBjb25zdCBsaSA9IGNyZWF0ZSgnbGknLCAnbGluaycsIG51bGwsIHRoaXMudWwpO1xuICAgIGNvbnN0IGEgPSBjcmVhdGUoJ2EnLCAnJywgbnVsbCwgbGksIFsnaHJlZicsICdodHRwczovL3JzLnNjaG9vbC9qcy8nXSk7XG4gICAgY3JlYXRlKCdpbWcnLCAncnNzLWltZycsIG51bGwsIGEsIFsnc3JjJywgJy4vYXNzZXRzL2ltZy9yc19zY2hvb2xfanMuc3ZnJ10sIFsnYWx0JywgJ3JzIHNjaG9vbCddKTtcbiAgfVxufVxuIiwiaW1wb3J0IGNyZWF0ZSBmcm9tICcuLi91dGlscy9jcmVhdGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluQ29udGVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubWFpbiA9IGNyZWF0ZSgnbWFpbicsICdtYWluJyk7XG4gICAgdGhpcy5tYWluQ29udGFpbmVyID0gY3JlYXRlKCdkaXYnLCAnY29udGFpbmVyJywgbnVsbCwgdGhpcy5tYWluKTtcbiAgfVxuXG4gIHNldCBjb250ZW50KHZhbCkge1xuICAgIHRoaXMubWFpbkNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgICB2YWwuZm9yRWFjaCgoZWwpID0+IHRoaXMubWFpbkNvbnRhaW5lci5hcHBlbmQoZWwpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tYWluQ29udGFpbmVyLmFwcGVuZCh2YWwpO1xuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUm91dGVyIHtcbiAgY29uc3RydWN0b3Iocm9vdCA9IG51bGwsIG1haW5IYW5kbGVyKSB7XG4gICAgdGhpcy5yb3V0ZXMgPSBbXTtcbiAgICB0aGlzLm1vZGUgPSAnaGlzdG9yeSc7XG4gICAgdGhpcy5tYWluSGFuZGxlciA9IG1haW5IYW5kbGVyO1xuICAgIGlmIChyb290KSB7XG4gICAgICB0aGlzLnJvb3QgPSByb290O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJvb3QgPSAnLyc7XG4gICAgfVxuICB9XG5cbiAgbGlzdGVuKCkge1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGVsID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXJvdXRlXScpO1xuICAgICAgaWYgKCFlbCkgcmV0dXJuO1xuICAgICAgY29uc3Qgcm91dGVQYXJhbXMgPSBKU09OLnBhcnNlKGVsLmRhdGFzZXQucm91dGUpO1xuICAgICAgdGhpcy5uYXZpZ2F0ZShyb3V0ZVBhcmFtcy5wYXRoLCByb3V0ZVBhcmFtcyk7XG4gICAgfSk7XG4gIH1cblxuICBhZGQocGF0aCwgaGFuZGxlcikge1xuICAgIGlmICghcGF0aCB8fCAhaGFuZGxlcikgeyB0aHJvdyBuZXcgRXJyb3IoJ3BhdGggYW5kIGhhbmRsZXIgYXJlIHJlcXVpcmVkIScpOyB9XG4gICAgaWYgKHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykgeyB0aHJvdyBuZXcgRXJyb3IoJ3BhdGggbXVzdCBiZSBzdHJpbmchJyk7IH1cbiAgICBpZiAodHlwZW9mIGhhbmRsZXIgIT09ICdmdW5jdGlvbicpIHsgdGhyb3cgbmV3IEVycm9yKCdoYW5kbGVyIG11c3QgYmUgZnVuY3Rpb24hJyk7IH1cbiAgICB0aGlzLnJvdXRlcy5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgaWYgKGVsLnBhdGggPT09IHBhdGgpIHsgdGhyb3cgbmV3IEVycm9yKGBkdXBsaWNhdGUgZW50cnkgZm9yICR7cGF0aH0hYCk7IH1cbiAgICB9KTtcbiAgICB0aGlzLnJvdXRlcy5wdXNoKHtcbiAgICAgIHBhdGgsXG4gICAgICBoYW5kbGVyLFxuICAgIH0pO1xuICB9XG5cbiAgcmVtb3ZlKHBhdGgpIHtcbiAgICBjb25zdCBpZHggPSB0aGlzLnJvdXRlcy5maW5kSW5kZXgoKGVsKSA9PiBlbC5wYXRoID09PSBwYXRoKTtcbiAgICB0aGlzLnJvdXRlcy5zcGxpY2UoaWR4LCAxKTtcbiAgfVxuXG4gIHN0YXRpYyBxdWVyeVBhcmFtcygpIHtcbiAgICBjb25zdCBxdWVyeVN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG4gICAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhxdWVyeVN0cmluZyk7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgY29uc3QgdXJsS2V5cyA9IEFycmF5LmZyb20odXJsUGFyYW1zLmtleXMoKSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1cmxLZXlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCBjdXJyZW50VXJsS2V5ID0gdXJsS2V5c1tpXTtcbiAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgbmFtZTogY3VycmVudFVybEtleSxcbiAgICAgICAgdmFsdWU6IHVybFBhcmFtcy5nZXQoY3VycmVudFVybEtleSksXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHN0YXRpYyBzdHJpcERvdWJsZUVuZFNsYXNoZXMocGF0aCkge1xuICAgIHJldHVybiBwYXRoLnJlcGxhY2UoL1xcL1xcLyQvLCAnLycpO1xuICB9XG5cbiAgbmF2aWdhdGUocGF0aCA9ICcvJywgcGFyYW1zID0ge30pIHtcbiAgICBjb25zdCByb3V0ZSA9IHRoaXMucm91dGVzLmZpbmQoKGVsKSA9PiBlbC5wYXRoID09PSBwYXRoKTtcbiAgICB0aGlzLlBhZ2UgPSByb3V0ZS5oYW5kbGVyO1xuICAgIHRoaXMucGFnZVBhcmFtcyA9IHBhcmFtcztcbiAgICBjb25zdCBmaW5hbFBhdGggPSBSb3V0ZXIuc3RyaXBEb3VibGVFbmRTbGFzaGVzKHRoaXMucm9vdCArIHBhdGgpO1xuICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7IG5hbWU6IHBhcmFtcy5uYW1lIH0sICcnLCBmaW5hbFBhdGgpO1xuICAgIGlmICh0aGlzLm1haW5IYW5kbGVyKSB7XG4gICAgICB0aGlzLm1haW5IYW5kbGVyKHBhcmFtcyk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgY3JlYXRlIGZyb20gJy4uL3V0aWxzL2NyZWF0ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICB0aGlzLnVybFByZWZpeCA9ICcuL2Fzc2V0cy8nO1xuICAgIHRoaXMucGFyYW1zID0gcGFyYW1zO1xuICAgIHRoaXMuY3JlYXRlQ2FyZEVsZW1lbnQoKTtcbiAgICB0aGlzLmNyZWF0ZUltYWdlQ29udGFpbmVyKCk7XG4gICAgdGhpcy5jcmVhdGVJbWFnZSgpO1xuICAgIHRoaXMuY3JlYXRlRGVzY3JpcHRpb25Db250YWluZXIoKTtcbiAgICB0aGlzLmNyZWF0ZURlc2NyaXB0aW9uKCk7XG4gIH1cblxuICBjcmVhdGVDYXJkRWxlbWVudCgpIHtcbiAgICB0aGlzLmNhcmRFbGVtZW50ID0gY3JlYXRlKCdkaXYnLCAnY2FyZC1jb250YWluZXInKTtcbiAgfVxuXG4gIGNyZWF0ZUltYWdlQ29udGFpbmVyKCkge1xuICAgIHRoaXMuaW1hZ2VDb250YWluZXIgPSBjcmVhdGUoJ2RpdicsICdjYXJkLWltYWdlJywgbnVsbCwgdGhpcy5jYXJkKTtcbiAgfVxuXG4gIGNyZWF0ZUltYWdlKCkge1xuICAgIHRoaXMuaW1hZ2UgPSBjcmVhdGUoXG4gICAgICAnaW1nJyxcbiAgICAgICcnLFxuICAgICAgbnVsbCxcbiAgICAgIHRoaXMuaW1hZ2VDb250YWluZXIsXG4gICAgICBbXG4gICAgICAgICdzcmMnLFxuICAgICAgICBgJHt0aGlzLnVybFByZWZpeH0ke3RoaXMucGFyYW1zLmltYWdlIHx8ICdpbWcvYm9vdC5qcGcnfWAsXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnYWx0JyxcbiAgICAgICAgdGhpcy5wYXJhbXMud29yZCB8fCAnYm9vdCcsXG4gICAgICBdLFxuICAgICk7XG4gIH1cblxuICBjcmVhdGVEZXNjcmlwdGlvbkNvbnRhaW5lcigpIHtcbiAgICB0aGlzLmRlc2NyaXB0aW9uQ29udGFpbmVyID0gY3JlYXRlKCdkaXYnLCAnY2FyZC1kZXNjcmlwdGlvbicsIG51bGwsIHRoaXMuY2FyZCk7XG4gIH1cblxuICBjcmVhdGVEZXNjcmlwdGlvbigpIHtcbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gY3JlYXRlKCdzdHJvbmcnLCAnJywgbnVsbCwgdGhpcy5kZXNjcmlwdGlvbkNvbnRhaW5lcik7XG4gICAgdGhpcy5kZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IHRoaXMucGFyYW1zLndvcmQgfHwgJ2Jvb3QnO1xuICB9XG5cbiAgZ2V0IGNhcmQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FyZEVsZW1lbnQ7XG4gIH1cblxuICBjcmVhdGVDYXRlZ29yeUxpbmsoKSB7XG4gICAgY29uc3Qgcm91dGVQYXJhbXMgPSB7XG4gICAgICBuYW1lOiB0aGlzLnBhcmFtcy53b3JkLFxuICAgICAgcGF0aDogJ2NhdGVnb3J5JyxcbiAgICAgIHBhcmFtczoge1xuICAgICAgICBjYXRlZ29yeU5hbWU6IHRoaXMucGFyYW1zLndvcmQsXG4gICAgICB9LFxuICAgIH07XG4gICAgdGhpcy5jYXJkRWxlbWVudC5kYXRhc2V0LnJvdXRlID0gSlNPTi5zdHJpbmdpZnkocm91dGVQYXJhbXMpO1xuICB9XG59XG4iLCJpbXBvcnQgQ2FyZCBmcm9tICcuL0NhcmQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluUGFnZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubmFtZSA9ICdtYWluIHBhZ2UnO1xuICAgIHRoaXMuY29udGVudFZhbCA9IFtdO1xuICB9XG5cbiAgaW5pdChjYXRlZ29yaWVzKSB7XG4gICAgdGhpcy5jb250ZW50ID0gY2F0ZWdvcmllcy5tYXAoKGNhdGVnb3J5KSA9PiB7XG4gICAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoY2F0ZWdvcnkpO1xuICAgICAgY2FyZC5jcmVhdGVDYXRlZ29yeUxpbmsoKTtcbiAgICAgIHJldHVybiBjYXJkO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0IGNvbnRlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGVudFZhbDtcbiAgfVxuXG4gIHNldCBjb250ZW50KHZhbCkge1xuICAgIHZhbC5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLmNvbnRlbnRWYWwucHVzaChlbGVtZW50LmNhcmQpO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgY3JlYXRlIGZyb20gJy4uL3V0aWxzL2NyZWF0ZSc7XG5pbXBvcnQgTU9ERVMgZnJvbSAnLi4vY29uc3RhdG50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhdGVnb3J5Q2FyZCB7XG4gIGNvbnN0cnVjdG9yKHBhcmFtcywgbW9kZSkge1xuICAgIHRoaXMudXJsUHJlZml4ID0gJy4vYXNzZXRzLyc7XG4gICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7XG4gICAgdGhpcy5tb2RlID0gbW9kZTtcbiAgICB0aGlzLmltYWdlID0ge307XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IHt9O1xuXG4gICAgdGhpcy5jcmVhdGVEZWNrKCk7XG4gICAgdGhpcy5jcmVhdGVGcm9udENhcmQoKTtcbiAgICB0aGlzLmNyZWF0ZUJhY2tDYXJkKCk7XG5cbiAgICB0aGlzLmFkZEZsaXBCdXR0b24oKTtcbiAgICB0aGlzLmFkZFBsYXlBdWRpb0hhbmRsZXIoKTtcbiAgICB0aGlzLmFkZEZsaXBIYW5kbGVyKCk7XG4gIH1cblxuICBjcmVhdGVEZWNrKCkge1xuICAgIHRoaXMuZGVjayA9IGNyZWF0ZSgnZGl2JywgJ2ZsaXAtY2FyZCcpO1xuICAgIHRoaXMuZGVja0NvbnRhaW5lciA9IGNyZWF0ZSgnZGl2JywgJ2ZsaXAtY2FyZF9fY29udGFpbmVyJywgbnVsbCwgdGhpcy5kZWNrKTtcbiAgfVxuXG4gIGNyZWF0ZUZyb250Q2FyZCgpIHtcbiAgICB0aGlzLmZyb250ID0gY3JlYXRlKCdkaXYnLCAnZmxpcC1jYXJkX19mcm9udCcsIG51bGwsIHRoaXMuZGVja0NvbnRhaW5lcik7XG4gICAgdGhpcy5jcmVhdGVJbWFnZSh0aGlzLmZyb250LCAnZnJvbnQnKTtcbiAgICB0aGlzLmNyZWF0ZURlc2NyaXB0aW9uKHRoaXMuZnJvbnQsIHRoaXMucGFyYW1zLndvcmQsICdmcm9udCcpO1xuICAgIHRoaXMuY3JlYXRlQXVkaW8oKTtcbiAgfVxuXG4gIGNyZWF0ZUJhY2tDYXJkKCkge1xuICAgIHRoaXMuYmFjayA9IGNyZWF0ZSgnZGl2JywgJ2ZsaXAtY2FyZF9fYmFjaycsIG51bGwsIHRoaXMuZGVja0NvbnRhaW5lcik7XG4gICAgdGhpcy5jcmVhdGVJbWFnZSh0aGlzLmJhY2ssICdiYWNrJyk7XG4gICAgdGhpcy5jcmVhdGVEZXNjcmlwdGlvbih0aGlzLmJhY2ssIHRoaXMucGFyYW1zLnRyYW5zbGF0aW9uLCAnYmFjaycpO1xuICB9XG5cbiAgY3JlYXRlSW1hZ2UocGFyZW50RWwsIHNpZGUpIHtcbiAgICB0aGlzLmltYWdlW3NpZGVdID0gY3JlYXRlKCdkaXYnLCAnY2FyZC1pbWFnZScsIG51bGwsIHBhcmVudEVsKTtcbiAgICB0aGlzLmltYWdlW3NpZGVdLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJHt0aGlzLnVybFByZWZpeH0ke3RoaXMucGFyYW1zLmltYWdlfSlgO1xuICB9XG5cbiAgY3JlYXRlRGVzY3JpcHRpb24ocGFyZW50RWwsIHdvcmQgPSAnJywgc2lkZSkge1xuICAgIHRoaXMuZGVzY3JpcHRpb25bc2lkZV0gPSBjcmVhdGUoJ2RpdicsICdjYXJkLWRlc2NyaXB0aW9uJywgbnVsbCwgcGFyZW50RWwpO1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gY3JlYXRlKCdzdHJvbmcnLCAnJywgbnVsbCwgdGhpcy5kZXNjcmlwdGlvbltzaWRlXSk7XG4gICAgZGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSB3b3JkIHx8ICcnO1xuICB9XG5cbiAgYWRkRmxpcEhhbmRsZXIoKSB7XG4gICAgdGhpcy5mbGlwQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5mbGlwVG9CYWNrKCkpO1xuICAgIHRoaXMuZGVjay5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4gdGhpcy5mbGlwVG9Gcm9udCgpKTtcbiAgfVxuXG4gIGNyZWF0ZUF1ZGlvKCkge1xuICAgIHRoaXMuYXVkaW8gPSBjcmVhdGUoJ2F1ZGlvJywgJycsIG51bGwsIHRoaXMuZnJvbnQsIFsnc3JjJywgYCR7dGhpcy51cmxQcmVmaXh9JHt0aGlzLnBhcmFtcy5hdWRpb1NyY31gXSk7XG4gIH1cblxuICBhZGRGbGlwQnV0dG9uKCkge1xuICAgIHRoaXMuZmxpcEJ1dHRvbiA9IGNyZWF0ZSgnYnV0dG9uJywgJ2NhcmQtZmxpcCcsIG51bGwsIHRoaXMuZnJvbnQsIFsndHlwZScsICdidXR0b24nXSk7XG4gICAgdGhpcy5mbGlwQnV0dG9uLmlubmVySFRNTCA9ICc8aSBjbGFzcz1cImZhcyBmYS1yZWRvLWFsdFwiPjwvaT4nO1xuICB9XG5cbiAgYWRkUGxheUF1ZGlvSGFuZGxlcigpIHtcbiAgICB0aGlzLmZyb250LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGlmICh0aGlzLm1vZGUoKSA9PT0gTU9ERVMuUExBWSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBmbGlwQnRuID0gQm9vbGVhbihlLnRhcmdldC5jbG9zZXN0KCcuY2FyZC1mbGlwJykpO1xuICAgICAgY29uc3QgZnJvbnQgPSBCb29sZWFuKGUudGFyZ2V0LmNsb3Nlc3QoJy5mbGlwLWNhcmRfX2Zyb250JykpO1xuICAgICAgaWYgKCFmbGlwQnRuICYmIGZyb250KSB7XG4gICAgICAgIHRoaXMucGxheVNvdW5kKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwbGF5U291bmQoKSB7XG4gICAgdGhpcy5hdWRpby5jdXJyZW50VGltZSA9IDA7XG4gICAgdGhpcy5hdWRpby5wbGF5KCk7XG4gIH1cblxuICBmbGlwVG9CYWNrKCkge1xuICAgIHRoaXMuZGVjay5jbGFzc0xpc3QuYWRkKCdmbGlwcGVkJyk7XG4gICAgdGhpcy5mcm9udC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB0aGlzLmJhY2suY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gIH1cblxuICBmbGlwVG9Gcm9udCgpIHtcbiAgICB0aGlzLmRlY2suY2xhc3NMaXN0LnJlbW92ZSgnZmxpcHBlZCcpO1xuICAgIHRoaXMuZnJvbnQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgdGhpcy5iYWNrLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICB9XG5cbiAgc2V0SW52aXNpYmxlKCkge1xuICAgIHRoaXMuZGVjay5jbGFzc0xpc3QuYWRkKCdzbWFsbCcpO1xuICAgIHRoaXMuaW1hZ2UuZnJvbnQuY2xhc3NMaXN0LmFkZCgncm91bmQnKTtcbiAgICB0aGlzLmRlc2NyaXB0aW9uLmZyb250LmNsYXNzTGlzdC5hZGQoJ25vbi1kaXNwbGF5ZWQnKTtcbiAgICB0aGlzLmZsaXBCdXR0b24uY2xhc3NMaXN0LmFkZCgnbm9uLWRpc3BsYXllZCcpO1xuICB9XG5cbiAgc2V0VmlzaWJsZSgpIHtcbiAgICB0aGlzLmRlY2suY2xhc3NMaXN0LnJlbW92ZSgnc21hbGwnKTtcbiAgICB0aGlzLmltYWdlLmZyb250LmNsYXNzTGlzdC5yZW1vdmUoJ3JvdW5kJyk7XG4gICAgdGhpcy5kZXNjcmlwdGlvbi5mcm9udC5jbGFzc0xpc3QucmVtb3ZlKCdub24tZGlzcGxheWVkJyk7XG4gICAgdGhpcy5mbGlwQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ25vbi1kaXNwbGF5ZWQnKTtcbiAgfVxufVxuIiwiaW1wb3J0IE1haW5QYWdlIGZyb20gJy4uL2xheW91dHMvTWFpbic7XG5pbXBvcnQgQ2F0ZWdvcnlQYWdlIGZyb20gJy4uL2xheW91dHMvQ2F0ZWdvcnknO1xuXG5jb25zdCBTdGFpc3RpY3NQYWdlID0gKCkgPT4ge307XG5cbmV4cG9ydCBkZWZhdWx0IFtcbiAge1xuICAgIG5hbWU6ICdtYWluJyxcbiAgICBwYXRoOiAnLycsXG4gICAgaGFuZGxlcjogTWFpblBhZ2UsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnc3RhdGlzdGljcycsXG4gICAgcGF0aDogJ3N0YXRpc3RpY3MnLFxuICAgIGhhbmRsZXI6IFN0YWlzdGljc1BhZ2UsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnY2F0ZWdvcnknLFxuICAgIHBhdGg6ICdjYXRlZ29yeScsXG4gICAgaGFuZGxlcjogQ2F0ZWdvcnlQYWdlLFxuICB9LFxuXTtcbiIsImltcG9ydCBDYXRlZ29yeUNhcmQgZnJvbSAnLi9DYXRlZ29yeUNhcmQnO1xuaW1wb3J0IGNyZWF0ZSBmcm9tICcuLi91dGlscy9jcmVhdGUnO1xuaW1wb3J0IE1PREVTIGZyb20gJy4uL2NvbnN0YXRudHMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXRlZ29yeSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucGxheU1vZGVzID0ge1xuICAgICAgd2FpdGluZzogJ3dhaXRpbmcnLFxuICAgICAgcGxheWluZzogJ3BsYXlpbmcnLFxuICAgIH07XG4gICAgdGhpcy5zdGFycyA9IHtcbiAgICAgIGZ1bGw6ICc8aSBjbGFzcz1cImZhcyBmYS1zdGFyIGZhLTR4XCI+PC9pPicsXG4gICAgICBlbXB0eTogJzxpIGNsYXNzPVwiZmFyIGZhLXN0YXIgZmEtNHhcIj48L2k+JyxcbiAgICB9O1xuICAgIHRoaXMuaWNvbnMgPSB7XG4gICAgICByZXBlYXQ6ICc8aSBjbGFzcz1cImZhcyBmYS1yZWRvXCI+PC9pPlJlcGVhdCcsXG4gICAgICBwbGF5OiAnPGkgY2xhc3M9XCJmYXMgZmEtcGxheVwiPjwvaT5TdGFydCBnYW1lJyxcbiAgICB9O1xuICAgIHRoaXMucGxheU1vZGUgPSBudWxsO1xuICAgIHRoaXMubmFtZSA9ICdjYXRlZ29yeSBwYWdlJztcbiAgICB0aGlzLmNhcmRzID0gW107XG4gIH1cblxuICBpbml0KHdvcmRzLCBtb2RlKSB7XG4gICAgdGhpcy53b3JkcyA9IHdvcmRzO1xuICAgIHRoaXMuY2FyZHMgPSBbXTtcbiAgICB0aGlzLm1vZGUgPSBtb2RlO1xuICAgIHRoaXMuY3JlYXRlQ2FyZHMoKTtcbiAgICB0aGlzLmNyZWF0ZVJhdGluZygpO1xuICAgIHRoaXMuY3JlYXRlQnV0dG9uKCk7XG4gICAgdGhpcy5jcmVhdGVTdWNjZXNzU291bmQoKTtcbiAgICB0aGlzLmNyZWF0ZUVycm9yU291bmQoKTtcbiAgICB0aGlzLmFkZFNvdW5kc1RvUGFuZWwoKTtcbiAgICB0aGlzLnNldFZpc2liaWxpdHkoKTtcbiAgfVxuXG4gIGNoYW5nZU1vZGUobW9kZSkge1xuICAgIHRoaXMubW9kZSA9IG1vZGU7XG4gICAgdGhpcy5zZXRWaXNpYmlsaXR5KCk7XG4gICAgdGhpcy5jYXJkcy5mb3JFYWNoKChjYXJkKSA9PiB7XG4gICAgICBpZiAodGhpcy5tb2RlID09PSBNT0RFUy5QTEFZKSB7XG4gICAgICAgIGNhcmQuc2V0SW52aXNpYmxlKCk7XG4gICAgICAgIGNhcmQuZGVjay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB0aGlzLnBsYXlDYXJkQ2xpY2tIYW5kbGVyKGUpKTsgLy8gVE9ETzogY2hhbmdlIGhhbmRsZXIgZm9yIGRpc2FibGluZyBvbiBlbmQgZ2FtZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FyZC5zZXRWaXNpYmxlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBnZXQgY29udGVudCgpIHtcbiAgICBjb25zdCBjYXJkcyA9IHRoaXMuY2FyZHMubWFwKChlbCkgPT4gZWwuZGVjayk7XG4gICAgcmV0dXJuIFtcbiAgICAgIHRoaXMucmF0aW5nLFxuICAgICAgdGhpcy5kZXNjcmlwdGlvbixcbiAgICAgIC4uLmNhcmRzLFxuICAgICAgdGhpcy5wYW5lbCxcbiAgICBdO1xuICB9XG5cbiAgZ2V0IGRlc2NyaXB0aW9uKCkge1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gY3JlYXRlKCdkaXYnLCAnZGVzY3JpcHRpb24nKTtcbiAgICBjb25zdCBoMSA9IGNyZWF0ZSgnaDEnLCAnZGVzY3JpcHRpb24tdGV4dCcsIG51bGwsIGRlc2NyaXB0aW9uKTtcbiAgICBoMS50ZXh0Q29udGVudCA9IHRoaXMuY2F0ZWdvcnlOYW1lO1xuXG4gICAgcmV0dXJuIGRlc2NyaXB0aW9uO1xuICB9XG5cbiAgY3JlYXRlQ2FyZHMoKSB7XG4gICAgdGhpcy53b3Jkcy5mb3JFYWNoKCh3b3JkKSA9PiB7XG4gICAgICB0aGlzLmNhcmRzLnB1c2gobmV3IENhdGVnb3J5Q2FyZCh3b3JkLCAoKSA9PiB0aGlzLm1vZGUpKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNyZWF0ZVJhdGluZygpIHtcbiAgICB0aGlzLnJhdGluZyA9IGNyZWF0ZSgnZGl2JywgJ3JhdGluZycpO1xuICAgIHRoaXMucmF0aW5nLmlubmVySFRNTCA9IGAke3RoaXMuc3RhcnMuZW1wdHl9JHt0aGlzLnN0YXJzLmZ1bGx9YDtcbiAgfVxuXG4gIHNodWZmbGUoKSB7XG4gICAgdGhpcy5wbGF5Q2FyZHMgPSBbLi4udGhpcy5jYXJkc107XG4gICAgZm9yIChsZXQgaSA9IHRoaXMucGxheUNhcmRzLmxlbmd0aCAtIDE7IGkgPiAwOyBpIC09IDEpIHtcbiAgICAgIGNvbnN0IGogPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaSArIDEpKTtcbiAgICAgIFt0aGlzLnBsYXlDYXJkc1tpXSwgdGhpcy5wbGF5Q2FyZHNbal1dID0gW3RoaXMucGxheUNhcmRzW2pdLCB0aGlzLnBsYXlDYXJkc1tpXV07XG4gICAgfVxuICB9XG5cbiAgYnRuQ2xpY2tIYW5kbGVyKCkge1xuICAgIGlmICh0aGlzLnBsYXlNb2RlID09PSBudWxsIHx8IHRoaXMucGxheU1vZGUgPT09IHRoaXMucGxheU1vZGVzLndhaXRpbmcpIHtcbiAgICAgIHRoaXMucGxheU1vZGUgPSB0aGlzLnBsYXlNb2Rlcy5wbGF5aW5nO1xuICAgICAgdGhpcy5zZXRSZXBlYXRCdG4oKTtcbiAgICAgIHRoaXMuc2h1ZmZsZSgpO1xuICAgICAgdGhpcy5uZXh0UGxheUNhcmQoKTtcbiAgICAgIHRoaXMuY3VycmVudFBsYXlDYXJkLnBsYXlTb3VuZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmN1cnJlbnRQbGF5Q2FyZC5wbGF5U291bmQoKTtcbiAgICB9XG4gIH1cblxuICBwbGF5Q2FyZENsaWNrSGFuZGxlcihlKSB7XG4gICAgY29uc3QgZWwgPSBlLnRhcmdldC5jbG9zZXN0KCcuZmxpcC1jYXJkJyk7XG4gICAgaWYgKGVsID09PSB0aGlzLmN1cnJlbnRQbGF5Q2FyZC5kZWNrKSB7XG4gICAgICBDYXRlZ29yeS5wbGF5U291bmQodGhpcy5zdWNjZXNzU291bmQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBDYXRlZ29yeS5wbGF5U291bmQodGhpcy5lcnJvclNvdW5kKTtcbiAgICB9XG4gIH1cblxuICBuZXh0UGxheUNhcmQoKSB7XG4gICAgdGhpcy5jdXJyZW50UGxheUNhcmQgPSB0aGlzLnBsYXlDYXJkcy5wb3AoKTtcbiAgfVxuXG4gIGNyZWF0ZUJ1dHRvbnNQYW5lbCgpIHtcbiAgICB0aGlzLnBhbmVsID0gY3JlYXRlKCdkaXYnLCAncGFuZWwnKTtcbiAgfVxuXG4gIGNyZWF0ZUJ1dHRvbigpIHtcbiAgICB0aGlzLmNyZWF0ZUJ1dHRvbnNQYW5lbCgpO1xuICAgIHRoaXMuYnV0dG9uID0gY3JlYXRlKCdidXR0b24nLCAnYnRuIGJ0bi1zdGFydCcsIG51bGwsIHRoaXMucGFuZWwpO1xuICAgIHRoaXMuYnV0dG9uLmlubmVySFRNTCA9IHRoaXMuaWNvbnMucGxheTtcbiAgICB0aGlzLmJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuYnRuQ2xpY2tIYW5kbGVyKCkpO1xuICB9XG5cbiAgc2V0UmVwZWF0QnRuKCkge1xuICAgIHRoaXMuYnV0dG9uLmlubmVySFRNTCA9IHRoaXMuaWNvbnMucmVwZWF0O1xuICAgIHRoaXMuYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2J0bi1yZXBlYXQnKTtcbiAgICB0aGlzLmJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdidG4tc3RhcnQnKTtcbiAgfVxuXG4gIHNldFZpc2liaWxpdHkoKSB7XG4gICAgaWYgKHRoaXMubW9kZSA9PT0gTU9ERVMuVFJBSU4pIHtcbiAgICAgIGlmICh0aGlzLnJhdGluZykgdGhpcy5yYXRpbmcuY2xhc3NMaXN0LmFkZCgnbm9uLWRpc3BsYXllZCcpO1xuICAgICAgaWYgKHRoaXMucGFuZWwpIHRoaXMucGFuZWwuY2xhc3NMaXN0LmFkZCgnb2ZmJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLnJhdGluZykgdGhpcy5yYXRpbmcuY2xhc3NMaXN0LnJlbW92ZSgnbm9uLWRpc3BsYXllZCcpO1xuICAgICAgaWYgKHRoaXMucGFuZWwpIHRoaXMucGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgnb2ZmJyk7XG4gICAgfVxuICB9XG5cbiAgY3JlYXRlU3VjY2Vzc1NvdW5kKCkge1xuICAgIGNvbnN0IHNvdW5kVXJsID0gJy4vYXNzZXRzL3NvdW5kL3N1Y2Nlc3Mud2F2JztcbiAgICB0aGlzLnN1Y2Nlc3NTb3VuZCA9IENhdGVnb3J5LmNyZWF0ZVNvdW5kKHNvdW5kVXJsKTtcbiAgfVxuXG4gIGNyZWF0ZUVycm9yU291bmQoKSB7XG4gICAgY29uc3Qgc291bmRVcmwgPSAnLi9hc3NldHMvc291bmQvZXJyb3Iud2F2JztcbiAgICB0aGlzLmVycm9yU291bmQgPSBDYXRlZ29yeS5jcmVhdGVTb3VuZChzb3VuZFVybCk7XG4gIH1cblxuICBhZGRTb3VuZHNUb1BhbmVsKCkge1xuICAgIHRoaXMucGFuZWwuYXBwZW5kQ2hpbGQodGhpcy5lcnJvclNvdW5kKTtcbiAgICB0aGlzLnBhbmVsLmFwcGVuZENoaWxkKHRoaXMuc3VjY2Vzc1NvdW5kKTtcbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGVTb3VuZChzb3VuZFVybCkge1xuICAgIHJldHVybiBjcmVhdGUoJ2F1ZGlvJywgJycsIG51bGwsIG51bGwsIFsnc3JjJywgc291bmRVcmxdKTtcbiAgfVxuXG4gIHN0YXRpYyBwbGF5U291bmQoc291bmQpIHtcbiAgICBzb3VuZC5jdXJyZW50VGltZSA9IDA7XG4gICAgc291bmQucGxheSgpO1xuICB9XG59XG4iLCJpbXBvcnQgTU9ERVMgZnJvbSAnLi9jb25zdGF0bnRzJztcbmltcG9ydCBjYXJkcyBmcm9tICcuL2NhcmRzJztcbmltcG9ydCBMZWZ0TWVudSBmcm9tICcuL2xheW91dHMvTGVmdE1lbnUnO1xuaW1wb3J0IEhlYWRlciBmcm9tICcuL2xheW91dHMvSGVhZGVyJztcbmltcG9ydCBGb290ZXIgZnJvbSAnLi9sYXlvdXRzL0Zvb3Rlcic7XG5pbXBvcnQgTWFpbkNvbnRlbnQgZnJvbSAnLi9sYXlvdXRzL01haW5Db250ZW50JztcbmltcG9ydCBSb3V0ZXIgZnJvbSAnLi9yb3V0ZXIvUm91dGVyJztcbmltcG9ydCByb3V0ZXMgZnJvbSAnLi9yb3V0ZXIvcm91dGVzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBwIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jYXJkcyA9IGNhcmRzO1xuICAgIHRoaXMubGVmdE1lbnUgPSBuZXcgTGVmdE1lbnUoT2JqZWN0LmtleXMoY2FyZHMpKTtcbiAgICB0aGlzLmdldENhdGVnb3JpZXMoKTtcbiAgICB0aGlzLmhlYWRlciA9IG5ldyBIZWFkZXIoXG4gICAgICAoKSA9PiB0aGlzLmxlZnRNZW51LnRvZ2dsZU1lbnUoKSxcbiAgICAgICh2YWwpID0+IHRoaXMuY2hhbmdlTW9kZSh2YWwpLFxuICAgICk7XG4gICAgdGhpcy5mb290ZXIgPSBuZXcgRm9vdGVyKCk7XG4gICAgdGhpcy5tYWluID0gbmV3IE1haW5Db250ZW50KCk7XG4gICAgdGhpcy5yb3V0ZXJJbml0KCk7XG4gICAgdGhpcy5tb2RlID0gTU9ERVMuVFJBSU47XG4gICAgdGhpcy5jcmVhdGVQYWdlKCk7XG4gICAgdGhpcy5yZW5kZXJQYWdlKCk7XG4gICAgdGhpcy5sZWZ0TWVudS5hZGRDbG9zZUhhbmRsZXIoKCkgPT4gdGhpcy5oZWFkZXIudG9nZ2xlTWVudSgpKTtcbiAgfVxuXG4gIGNoYW5nZU1vZGUodmFsKSB7XG4gICAgdGhpcy5tb2RlID0gdmFsO1xuICAgIGlmICh0aGlzLnBhZ2UubmFtZSA9PT0gJ2NhdGVnb3J5IHBhZ2UnKSB7XG4gICAgICB0aGlzLnBhZ2UuY2hhbmdlTW9kZSh0aGlzLm1vZGUpO1xuICAgIH1cbiAgfVxuXG4gIHJvdXRlckluaXQoKSB7XG4gICAgY29uc3QgaW5pdFVybCA9IGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L2VuZ2xpc2gtZm9yLWtpZHMvYDtcbiAgICB0aGlzLnJvdXRlciA9IG5ldyBSb3V0ZXIoaW5pdFVybCwgKHBhcmFtcykgPT4ge1xuICAgICAgdGhpcy5sZWZ0TWVudS5oYW5kbGVSb3V0ZShwYXJhbXMpO1xuICAgICAgdGhpcy5yZW5kZXJQYWdlKHBhcmFtcyk7XG4gICAgfSk7XG4gICAgcm91dGVzLmZvckVhY2goKGVsKSA9PiB0aGlzLnJvdXRlci5hZGQoZWwucGF0aCwgZWwuaGFuZGxlcikpO1xuICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKCcvJyk7XG4gICAgdGhpcy5yb3V0ZXIubGlzdGVuKCk7XG4gIH1cblxuICByb3V0ZXJHbyhwYWdlLCB2YWwpIHtcbiAgICB0aGlzLlBhZ2UgPSBwYWdlO1xuICAgIHRoaXMuc2VsZWN0ZWRDYXRlZ29yeSA9IHZhbDtcbiAgICB0aGlzLnJlbmRlclBhZ2UodGhpcy5jYXJkc1t2YWxdKTtcbiAgfVxuXG4gIHNldCBtb2RlKHZhbCkge1xuICAgIHRoaXMuYXBwTW9kZSA9IHZhbDtcbiAgICB0aGlzLmhlYWRlci5zd2l0Y2hlciA9IHZhbCA9PT0gTU9ERVMuUExBWTtcbiAgfVxuXG4gIGdldCBtb2RlKCkge1xuICAgIHJldHVybiB0aGlzLmFwcE1vZGU7XG4gIH1cblxuICBnZXRDYXRlZ29yaWVzKCkge1xuICAgIHRoaXMuY2F0ZWdvcmllcyA9IFtdO1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhjYXJkcyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCBjYXRlZ29yeU5hbWUgPSBrZXlzW2ldO1xuICAgICAgY29uc3QgY2F0ID0ge1xuICAgICAgICBpbWFnZTogY2FyZHNbY2F0ZWdvcnlOYW1lXVswXS5pbWFnZSxcbiAgICAgICAgd29yZDogY2F0ZWdvcnlOYW1lLFxuICAgICAgfTtcbiAgICAgIHRoaXMuY2F0ZWdvcmllcy5wdXNoKGNhdCk7XG4gICAgfVxuICB9XG5cbiAgY3JlYXRlUGFnZSgpIHtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZCh0aGlzLmhlYWRlci5oZWFkZXIpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHRoaXMubGVmdE1lbnUubWVudSk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmQodGhpcy5tYWluLm1haW4pO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHRoaXMuZm9vdGVyLmZvb3Rlcik7XG4gIH1cblxuICByZW5kZXJQYWdlKHBhcmFtcykge1xuICAgIHRoaXMucGFnZVBhcmFtcyA9IHBhcmFtcztcbiAgICB0aGlzLnBhZ2UgPSBuZXcgdGhpcy5yb3V0ZXIuUGFnZSgpO1xuICAgIGlmICh0aGlzLnBhZ2UubmFtZSA9PT0gJ21haW4gcGFnZScpIHtcbiAgICAgIHRoaXMucGFnZS5pbml0KHRoaXMuY2F0ZWdvcmllcyk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnBhZ2UubmFtZSA9PT0gJ2NhdGVnb3J5IHBhZ2UnKSB7XG4gICAgICB0aGlzLnBhZ2UuaW5pdChjYXJkc1twYXJhbXMubmFtZV0sIHRoaXMubW9kZSk7XG4gICAgfVxuICAgIHRoaXMubWFpbi5jb250ZW50ID0gdGhpcy5wYWdlLmNvbnRlbnQ7XG4gIH1cbn1cbiIsImltcG9ydCBBcHAgZnJvbSAnLi9BcHAnO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zdCBhcHAgPSBuZXcgQXBwKCk7XG59KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=