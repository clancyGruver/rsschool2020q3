(()=>{"use strict";(()=>{function t(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],e=!0,a=!1,r=void 0;try{for(var o,u=t[Symbol.iterator]();!(e=(o=u.next()).done)&&(n.push(o.value),!i||n.length!==i);e=!0);}catch(t){a=!0,r=t}finally{try{e||null==u.return||u.return()}finally{if(a)throw r}}return n}}(t,i)||e(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||e(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,i){if(t){if("string"==typeof t)return a(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,i):void 0}}function a(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,e=new Array(i);n<i;n++)e[n]=t[n];return e}function r(e,a,r,o){var u,s,c=null,l=["draggable","value","id","placeholder","cols","rows","autocorrect","spellcheck","src","type","for"];try{c=document.createElement(e)}catch(t){throw new Error("Unable to create HTML element ".concat(e))}a&&(Array.isArray(a)?(u=c.classList).add.apply(u,n(a)):(s=c.classList).add.apply(s,n(a.split(" ")))),r&&Array.isArray(r)?r.forEach((function(t){return t&&c.append(t)})):r&&"object"===i(r)?c.append(r):r&&"string"==typeof r&&(c.innerHTML=r),o&&o.appendChild(c);for(var d=arguments.length,m=new Array(d>4?d-4:0),g=4;g<d;g++)m[g-4]=arguments[g];return m.length&&m.forEach((function(i){var n=t(i,2),e=n[0],a=n[1];""===a?c.setAttribute(e,""):l.includes(e)?c.setAttribute(e,a):c.dataset[e]=a})),c}function o(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}var u=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.cardElement=r("div","card-container"),this.imageContainer=r("div","card-image",null,this.card),this.image=r("img","",null,this.imageContainer,["src","".concat("./assets/").concat(i.image||"img/boot.jpg")],["alt",i.word||"boot"]),this.descriptionContainer=r("div","card-description",null,this.card),this.description=r("strong","",null,this.descriptionContainer),this.description.textContent=i.word||"boot"}var i,n;return i=t,(n=[{key:"card",get:function(){return this.cardElement}}])&&o(i.prototype,n),t}();function s(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}var c={MAIN:function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.name="main page",this.contentVal=[]}var i,n;return i=t,(n=[{key:"init",value:function(t){this.content=t.map((function(t){return new u(t)}))}},{key:"content",get:function(){return this.contentVal},set:function(t){var i=this;t.forEach((function(t){i.contentVal.push(t.card)}))}}])&&s(i.prototype,n),t}(),CATEGORY:"category",STATS:"stats"};const l={"Action (set A)":[{word:"cry",translation:"плакать",image:"img/cry.jpg",audioSrc:"audio/cry.mp3"},{word:"dance",translation:"танцевать",image:"img/dance.jpg",audioSrc:"audio/dance.mp3"},{word:"dive",translation:"нырять",image:"img/dive.jpg",audioSrc:"audio/dive.mp3"},{word:"draw",translation:"рисовать",image:"img/draw.jpg",audioSrc:"audio/draw.mp3"},{word:"fish",translation:"ловить рыбу",image:"img/fish.jpg",audioSrc:"audio/fish.mp3"},{word:"fly",translation:"летать",image:"img/fly.jpg",audioSrc:"audio/fly.mp3"},{word:"hug",translation:"обнимать",image:"img/hug.jpg",audioSrc:"audio/hug.mp3"},{word:"jump",translation:"прыгать",image:"img/jump.jpg",audioSrc:"audio/jump.mp3"}],"Action (set B)":[{word:"open",translation:"открывать",image:"img/open.jpg",audioSrc:"audio/open.mp3"},{word:"play",translation:"играть",image:"img/play.jpg",audioSrc:"audio/play.mp3"},{word:"point",translation:"указывать",image:"img/point.jpg",audioSrc:"audio/point.mp3"},{word:"ride",translation:"ездить",image:"img/ride.jpg",audioSrc:"audio/ride.mp3"},{word:"run",translation:"бегать",image:"img/run.jpg",audioSrc:"audio/run.mp3"},{word:"sing",translation:"петь",image:"img/sing.jpg",audioSrc:"audio/sing.mp3"},{word:"skip",translation:"пропускать, прыгать",image:"img/skip.jpg",audioSrc:"audio/skip.mp3"},{word:"swim",translation:"плавать",image:"img/swim.jpg",audioSrc:"audio/swim.mp3"}],"Animal (set A)":[{word:"cat",translation:"кот",image:"img/cat.jpg",audioSrc:"audio/cat.mp3"},{word:"chick",translation:"цыплёнок",image:"img/chick.jpg",audioSrc:"audio/chick.mp3"},{word:"chicken",translation:"курица",image:"img/chicken.jpg",audioSrc:"audio/chicken.mp3"},{word:"dog",translation:"собака",image:"img/dog.jpg",audioSrc:"audio/dog.mp3"},{word:"horse",translation:"лошадь",image:"img/horse.jpg",audioSrc:"audio/horse.mp3"},{word:"pig",translation:"свинья",image:"img/pig.jpg",audioSrc:"audio/pig.mp3"},{word:"rabbit",translation:"кролик",image:"img/rabbit.jpg",audioSrc:"audio/rabbit.mp3"},{word:"sheep",translation:"овца",image:"img/sheep.jpg",audioSrc:"audio/sheep.mp3"}],"Animal (set B)":[{word:"bird",translation:"птица",image:"img/bird.jpg",audioSrc:"audio/bird.mp3"},{word:"fish",translation:"рыба",image:"img/fish1.jpg",audioSrc:"audio/fish.mp3"},{word:"frog",translation:"жаба",image:"img/frog.jpg",audioSrc:"audio/frog.mp3"},{word:"giraffe",translation:"жирафа",image:"img/giraffe.jpg",audioSrc:"audio/giraffe.mp3"},{word:"lion",translation:"лев",image:"img/lion.jpg",audioSrc:"audio/lion.mp3"},{word:"mouse",translation:"мышь",image:"img/mouse.jpg",audioSrc:"audio/mouse.mp3"},{word:"turtle",translation:"черепаха",image:"img/turtle.jpg",audioSrc:"audio/turtle.mp3"},{word:"dolphin",translation:"дельфин",image:"img/dolphin.jpg",audioSrc:"audio/dolphin.mp3"}],Clothes:[{word:"skirt",translation:"юбка",image:"img/skirt.jpg",audioSrc:"audio/skirt.mp3"},{word:"pants",translation:"брюки",image:"img/pants.jpg",audioSrc:"audio/pants.mp3"},{word:"blouse",translation:"блузка",image:"img/blouse.jpg",audioSrc:"audio/blouse.mp3"},{word:"dress",translation:"платье",image:"img/dress.jpg",audioSrc:"audio/dress.mp3"},{word:"boot",translation:"ботинок",image:"img/boot.jpg",audioSrc:"audio/boot.mp3"},{word:"shirt",translation:"рубашка",image:"img/shirt.jpg",audioSrc:"audio/shirt.mp3"},{word:"coat",translation:"пальто",image:"img/coat.jpg",audioSrc:"audio/coat.mp3"},{word:"shoe",translation:"туфли",image:"img/shoe.jpg",audioSrc:"audio/shoe.mp3"}],Emotions:[{word:"sad",translation:"грустный",image:"img/sad.jpg",audioSrc:"audio/sad.mp3"},{word:"angry",translation:"сердитый",image:"img/angry.jpg",audioSrc:"audio/angry.mp3"},{word:"happy",translation:"счастливый",image:"img/happy.jpg",audioSrc:"audio/happy.mp3"},{word:"tired",translation:"уставший",image:"img/tired.jpg",audioSrc:"audio/tired.mp3"},{word:"surprised",translation:"удивлённый",image:"img/surprised.jpg",audioSrc:"audio/surprised.mp3"},{word:"scared",translation:"испуганный",image:"img/scared.jpg",audioSrc:"audio/scared.mp3"},{word:"smile",translation:"улыбка",image:"img/smile.jpg",audioSrc:"audio/smile.mp3"},{word:"laugh",translation:"смех",image:"img/laugh.jpg",audioSrc:"audio/laugh.mp3"}]};function d(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}var m=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.categories=i,this.menu=null,this.menuContainer=null,this.createHtmlContainer(),this.createMenu()}var i,n;return i=t,(n=[{key:"toggleMenu",value:function(){this.menu.classList.contains("closed")?(this.menu.classList.remove("closed"),this.menu.classList.add("opened")):(this.menu.classList.remove("opened"),this.menu.classList.add("closed"))}},{key:"createHtmlContainer",value:function(){this.menu=r("nav","left-menu closed"),this.menuContainer=r("ul","left-menu",null,this.menu)}},{key:"createMenu",value:function(){var t=this;this.categories.forEach((function(i){r("li","menu-link",null,t.menuContainer).textContent=i}))}}])&&d(i.prototype,n),t}();function g(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}var p=function(){function t(i){var n=this;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.header=r("header","header"),this.headerContainer=r("div","container",null,this.header),this.createBurgerMenu(),this.createName(),this.createSwitch(),i&&(this.burgerContainer.addEventListener("click",i),this.burgerContainer.addEventListener("click",(function(){return n.burgerContainer.classList.toggle("burger__active")})))}var i,n;return i=t,(n=[{key:"createBurgerMenu",value:function(){this.burgerContainer=r("div","burger",null,this.headerContainer),r("div","bar1",null,this.burgerContainer),r("div","bar2",null,this.burgerContainer),r("div","bar3",null,this.burgerContainer)}},{key:"createName",value:function(){r("h1","",null,this.headerContainer).textContent="english for kids"}},{key:"createSwitch",value:function(){this.switch=r("input","",null,this.headerContainer,["type","checkbox"],["id","lol-checkbox"]),this.button=r("label","",null,this.headerContainer,["for","lol-checkbox"],["id","button"]),r("div","",null,this.button,["id","knob"]),r("div","",null,this.button,["id","play"]).textContent="Play",r("div","",null,this.button,["id","train"]).textContent="Train"}}])&&g(i.prototype,n),t}();function h(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}var f=function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.footer=r("footer","footer"),this.footerContainer=r("div","container",null,this.footer),this.ul=r("ul","links",null,this.footerContainer),this.createGitHub(),this.createYear(),this.createRSS()}var i,n;return i=t,(n=[{key:"createGitHub",value:function(){var t=r("li","link",null,this.ul),i=r("a","",null,t,["href","https://github.com/clancyGruver"]);r("img","github-img",null,i,["src","./assets/img/iconmonstr-github-1.svg"],["alt","github"])}},{key:"createYear",value:function(){var t=r("li","link",null,this.ul);r("strong","",null,t).textContent="2020"}},{key:"createRSS",value:function(){var t=r("li","link",null,this.ul),i=r("a","",null,t,["href","https://rs.school/js/"]);r("img","rss-img",null,i,["src","./assets/img/rs_school_js.svg"],["alt","rs school"])}}])&&h(i.prototype,n),t}();function y(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}var b=function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.main=r("main","main"),this.mainContainer=r("div","container",null,this.main)}var i,n;return i=t,(n=[{key:"content",set:function(t){var i=this;this.mainContainer.innerHtml="",Array.isArray(t)?t.forEach((function(t){return i.mainContainer.append(t)})):this.mainContainer.append(t)}}])&&y(i.prototype,n),t}();function v(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}var w=function(){function t(){var i=this;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.mode=1,this.cards=l,this.leftMenu=new m(Object.keys(l)),this.getCategories(),this.header=new p((function(){return i.leftMenu.toggleMenu()})),this.footer=new f,this.main=new b,this.Page=c.MAIN,this.createPage(),this.renderPage()}var i,n;return i=t,(n=[{key:"getCategories",value:function(){this.categories=[];for(var t=Object.keys(l),i=0;i<t.length;i+=1){var n=t[i],e={image:l[n][0].image,word:n};this.categories.push(e)}}},{key:"createPage",value:function(){document.body.append(this.header.header),document.body.append(this.leftMenu.menu),document.body.append(this.main.main),document.body.append(this.footer.footer)}},{key:"renderPage",value:function(){var t=new this.Page;"main page"===t.name&&t.init(this.categories),this.main.content=t.content}}])&&v(i.prototype,n),t}();document.addEventListener("DOMContentLoaded",(function(){new w}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL3V0aWxzL2NyZWF0ZS5qcyIsIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL2xheW91dHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL2NvbnN0YXRudHMuanMiLCJ3ZWJwYWNrOi8vZW5nbGlzaC1mb3Ita2lkcy8uL3NyYy9qcy9sYXlvdXRzL01haW4uanMiLCJ3ZWJwYWNrOi8vZW5nbGlzaC1mb3Ita2lkcy8uL3NyYy9qcy9jYXJkcy5qcyIsIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL2xheW91dHMvTGVmdE1lbnUuanMiLCJ3ZWJwYWNrOi8vZW5nbGlzaC1mb3Ita2lkcy8uL3NyYy9qcy9sYXlvdXRzL0hlYWRlci5qcyIsIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL2xheW91dHMvRm9vdGVyLmpzIiwid2VicGFjazovL2VuZ2xpc2gtZm9yLWtpZHMvLi9zcmMvanMvbGF5b3V0cy9NYWluQ29udGVudC5qcyIsIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL0FwcC5qcyIsIndlYnBhY2s6Ly9lbmdsaXNoLWZvci1raWRzLy4vc3JjL2pzL21haW4uanMiXSwibmFtZXMiOlsiY3JlYXRlIiwiZWwiLCJjbGFzc05hbWVzIiwiY2hpbGRyZW4iLCJwYXJlbnQiLCJlbGVtZW50Iiwibm90RGF0YUF0dHJpYnV0ZXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJlcnJvciIsIkVycm9yIiwiQXJyYXkiLCJpc0FycmF5IiwiY2xhc3NMaXN0IiwiYWRkIiwic3BsaXQiLCJmb3JFYWNoIiwiY2hpbGRFbGVtZW50IiwiYXBwZW5kIiwiaW5uZXJIVE1MIiwiYXBwZW5kQ2hpbGQiLCJkYXRhQXR0cmlidXRlcyIsImxlbmd0aCIsImF0dHJpYnV0ZU5hbWUiLCJhdHRyaWJ1dGVWYWx1ZSIsInNldEF0dHJpYnV0ZSIsImluY2x1ZGVzIiwiZGF0YXNldCIsIkNhcmQiLCJwYXJhbXMiLCJ0aGlzIiwiY2FyZEVsZW1lbnQiLCJpbWFnZUNvbnRhaW5lciIsImNhcmQiLCJpbWFnZSIsIndvcmQiLCJkZXNjcmlwdGlvbkNvbnRhaW5lciIsImRlc2NyaXB0aW9uIiwidGV4dENvbnRlbnQiLCJQQUdFUyIsIk1BSU4iLCJuYW1lIiwiY29udGVudFZhbCIsImNhdGVnb3JpZXMiLCJjb250ZW50IiwibWFwIiwiY2F0ZWdvcnkiLCJ2YWwiLCJwdXNoIiwiQ0FURUdPUlkiLCJTVEFUUyIsInRyYW5zbGF0aW9uIiwiYXVkaW9TcmMiLCJDbG90aGVzIiwiRW1vdGlvbnMiLCJMZWZ0TWVudSIsIm1lbnUiLCJtZW51Q29udGFpbmVyIiwiY3JlYXRlSHRtbENvbnRhaW5lciIsImNyZWF0ZU1lbnUiLCJjb250YWlucyIsInJlbW92ZSIsIkhlYWRlciIsIm1lbnVIYW5kbGVyIiwiaGVhZGVyIiwiaGVhZGVyQ29udGFpbmVyIiwiY3JlYXRlQnVyZ2VyTWVudSIsImNyZWF0ZU5hbWUiLCJjcmVhdGVTd2l0Y2giLCJidXJnZXJDb250YWluZXIiLCJhZGRFdmVudExpc3RlbmVyIiwidG9nZ2xlIiwiYnV0dG9uIiwiRm9vdGVyIiwiZm9vdGVyIiwiZm9vdGVyQ29udGFpbmVyIiwidWwiLCJjcmVhdGVHaXRIdWIiLCJjcmVhdGVZZWFyIiwiY3JlYXRlUlNTIiwibGkiLCJhIiwiTWFpbkNvbnRlbnQiLCJtYWluIiwibWFpbkNvbnRhaW5lciIsImlubmVySHRtbCIsIkFwcCIsIm1vZGUiLCJjYXJkcyIsImxlZnRNZW51IiwiT2JqZWN0Iiwia2V5cyIsImdldENhdGVnb3JpZXMiLCJ0b2dnbGVNZW51IiwiUGFnZSIsImNyZWF0ZVBhZ2UiLCJyZW5kZXJQYWdlIiwiaSIsImNhdGVnb3J5TmFtZSIsImNhdCIsImJvZHkiLCJwYWdlIiwiaW5pdCJdLCJtYXBwaW5ncyI6IjJnREFRZSxTQUFTQSxFQUFPQyxFQUFJQyxFQUFZQyxFQUFV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ekQsS0FBSzBELE1BQVFBLEVBQ2IxRCxLQUFLMkQsU0FBVyxJQUFJbEMsRUFBU21DLE9BQU9DLEtBQUtILElBQ3pDMUQsS0FBSzhELGdCQUNMOUQsS0FBS2tDLE9BQVMsSUFBSUYsR0FBTyxrQkFBTSxFQUFLMkIsU0FBU0ksZ0JBQzdDL0QsS0FBSzRDLE9BQVMsSUFBSUQsRUFDbEIzQyxLQUFLcUQsS0FBTyxJQUFJRCxFQUNoQnBELEtBQUtnRSxLQUFPdkQsRUFBTUMsS0FDbEJWLEtBQUtpRSxhQUNMakUsS0FBS2tFLGEsNkRBSUxsRSxLQUFLYSxXQUFhLEdBRWxCLElBREEsSUFBTWdELEVBQU9ELE9BQU9DLEtBQUtILEdBQ2hCUyxFQUFJLEVBQUdBLEVBQUlOLEVBQUtyRSxPQUFRMkUsR0FBSyxFQUFHLENBQ3ZDLElBQU1DLEVBQWVQLEVBQUtNLEdBQ3BCRSxFQUFNLENBQ1ZqRSxNQUFPc0QsRUFBTVUsR0FBYyxHQUFHaEUsTUFDOUJDLEtBQU0rRCxHQUVScEUsS0FBS2EsV0FBV0ssS0FBS21ELE0sbUNBS3ZCNUYsU0FBUzZGLEtBQUtsRixPQUFPWSxLQUFLa0MsT0FBT0EsUUFDakN6RCxTQUFTNkYsS0FBS2xGLE9BQU9ZLEtBQUsyRCxTQUFTakMsTUFDbkNqRCxTQUFTNkYsS0FBS2xGLE9BQU9ZLEtBQUtxRCxLQUFLQSxNQUMvQjVFLFNBQVM2RixLQUFLbEYsT0FBT1ksS0FBSzRDLE9BQU9BLFUsbUNBSWpDLElBQU0yQixFQUFPLElBQUl2RSxLQUFLZ0UsS0FDSixjQUFkTyxFQUFLNUQsTUFDUDRELEVBQUtDLEtBQUt4RSxLQUFLYSxZQUVqQmIsS0FBS3FELEtBQUt2QyxRQUFVeUQsRUFBS3pELGEsc0JDNUM3QnJDLFNBQVMrRCxpQkFBaUIsb0JBQW9CLFdBQ2hDLElBQUlnQixNIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGVsXG4gKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lc1xuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY2hpbGRyZW5cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBhcmVudFxuICogQHBhcmFtIHsuLi5hcnJheX0gZGF0YUF0dHJpYnV0ZXNcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGUoZWwsIGNsYXNzTmFtZXMsIGNoaWxkcmVuLCBwYXJlbnQsIC4uLmRhdGFBdHRyaWJ1dGVzKSB7XG4gIGxldCBlbGVtZW50ID0gbnVsbDtcbiAgY29uc3Qgbm90RGF0YUF0dHJpYnV0ZXMgPSBbXG4gICAgJ2RyYWdnYWJsZScsXG4gICAgJ3ZhbHVlJyxcbiAgICAnaWQnLFxuICAgICdwbGFjZWhvbGRlcicsXG4gICAgJ2NvbHMnLFxuICAgICdyb3dzJyxcbiAgICAnYXV0b2NvcnJlY3QnLFxuICAgICdzcGVsbGNoZWNrJyxcbiAgICAnc3JjJyxcbiAgICAndHlwZScsXG4gICAgJ2ZvcicsXG4gIF07XG4gIHRyeSB7XG4gICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZWwpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGNyZWF0ZSBIVE1MIGVsZW1lbnQgJHtlbH1gKTtcbiAgfVxuXG4gIGlmIChjbGFzc05hbWVzKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY2xhc3NOYW1lcykpIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCguLi5jbGFzc05hbWVzKTtcbiAgICBlbHNlIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCguLi5jbGFzc05hbWVzLnNwbGl0KCcgJykpO1xuICB9XG5cbiAgaWYgKGNoaWxkcmVuICYmIEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGRFbGVtZW50KSA9PiBjaGlsZEVsZW1lbnQgJiYgZWxlbWVudC5hcHBlbmQoY2hpbGRFbGVtZW50KSk7XG4gIH0gZWxzZSBpZiAoY2hpbGRyZW4gJiYgdHlwZW9mIGNoaWxkcmVuID09PSAnb2JqZWN0Jykge1xuICAgIGVsZW1lbnQuYXBwZW5kKGNoaWxkcmVuKTtcbiAgfSBlbHNlIGlmIChjaGlsZHJlbiAmJiB0eXBlb2YgY2hpbGRyZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgZWxlbWVudC5pbm5lckhUTUwgPSBjaGlsZHJlbjtcbiAgfVxuXG4gIGlmIChwYXJlbnQpIHtcbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gIH1cblxuICBpZiAoZGF0YUF0dHJpYnV0ZXMubGVuZ3RoKSB7XG4gICAgZGF0YUF0dHJpYnV0ZXMuZm9yRWFjaCgoW2F0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZVZhbHVlXSkgPT4ge1xuICAgICAgaWYgKGF0dHJpYnV0ZVZhbHVlID09PSAnJykge1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLCAnJyk7XG4gICAgICB9IGVsc2UgaWYgKG5vdERhdGFBdHRyaWJ1dGVzLmluY2x1ZGVzKGF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZVZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuZGF0YXNldFthdHRyaWJ1dGVOYW1lXSA9IGF0dHJpYnV0ZVZhbHVlO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG4iLCJpbXBvcnQgY3JlYXRlIGZyb20gJy4uL3V0aWxzL2NyZWF0ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICBjb25zdCB1cmxQcmVmaXggPSAnLi9hc3NldHMvJztcbiAgICB0aGlzLmNhcmRFbGVtZW50ID0gY3JlYXRlKCdkaXYnLCAnY2FyZC1jb250YWluZXInKTtcbiAgICB0aGlzLmltYWdlQ29udGFpbmVyID0gY3JlYXRlKCdkaXYnLCAnY2FyZC1pbWFnZScsIG51bGwsIHRoaXMuY2FyZCk7XG4gICAgdGhpcy5pbWFnZSA9IGNyZWF0ZSgnaW1nJywgJycsIG51bGwsIHRoaXMuaW1hZ2VDb250YWluZXIsIFsnc3JjJywgYCR7dXJsUHJlZml4fSR7cGFyYW1zLmltYWdlIHx8ICdpbWcvYm9vdC5qcGcnfWBdLCBbJ2FsdCcsIHBhcmFtcy53b3JkIHx8ICdib290J10pO1xuICAgIHRoaXMuZGVzY3JpcHRpb25Db250YWluZXIgPSBjcmVhdGUoJ2RpdicsICdjYXJkLWRlc2NyaXB0aW9uJywgbnVsbCwgdGhpcy5jYXJkKTtcbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gY3JlYXRlKCdzdHJvbmcnLCAnJywgbnVsbCwgdGhpcy5kZXNjcmlwdGlvbkNvbnRhaW5lcik7XG4gICAgdGhpcy5kZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IHBhcmFtcy53b3JkIHx8ICdib290JztcbiAgfVxuXG4gIGdldCBjYXJkKCkge1xuICAgIHJldHVybiB0aGlzLmNhcmRFbGVtZW50O1xuICB9XG59XG4iLCJpbXBvcnQgTWFpblBhZ2UgZnJvbSAnLi9sYXlvdXRzL01haW4nO1xuXG5jb25zdCBNT0RFUyA9IHtcbiAgVFJBSU46IDEsXG4gIFBMQVk6IDIsXG59O1xuXG5jb25zdCBQQUdFUyA9IHtcbiAgTUFJTjogTWFpblBhZ2UsXG4gIENBVEVHT1JZOiAnY2F0ZWdvcnknLFxuICBTVEFUUzogJ3N0YXRzJyxcbn07XG5cbmV4cG9ydCB7IE1PREVTLCBQQUdFUyB9O1xuIiwiaW1wb3J0IENhcmQgZnJvbSAnLi9DYXJkJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFpblBhZ2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLm5hbWUgPSAnbWFpbiBwYWdlJztcbiAgICB0aGlzLmNvbnRlbnRWYWwgPSBbXTtcbiAgfVxuXG4gIGluaXQoY2F0ZWdvcmllcykge1xuICAgIHRoaXMuY29udGVudCA9IGNhdGVnb3JpZXMubWFwKChjYXRlZ29yeSkgPT4gbmV3IENhcmQoY2F0ZWdvcnkpKTtcbiAgfVxuXG4gIGdldCBjb250ZW50KCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnRWYWw7XG4gIH1cblxuICBzZXQgY29udGVudCh2YWwpIHtcbiAgICB2YWwuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5jb250ZW50VmFsLnB1c2goZWxlbWVudC5jYXJkKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQge1xuICAnQWN0aW9uIChzZXQgQSknOiBbXG4gICAge1xuICAgICAgd29yZDogJ2NyeScsXG4gICAgICB0cmFuc2xhdGlvbjogJ9C/0LvQsNC60LDRgtGMJyxcbiAgICAgIGltYWdlOiAnaW1nL2NyeS5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9jcnkubXAzJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHdvcmQ6ICdkYW5jZScsXG4gICAgICB0cmFuc2xhdGlvbjogJ9GC0LDQvdGG0LXQstCw0YLRjCcsXG4gICAgICBpbWFnZTogJ2ltZy9kYW5jZS5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9kYW5jZS5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ2RpdmUnLFxuICAgICAgdHJhbnNsYXRpb246ICfQvdGL0YDRj9GC0YwnLFxuICAgICAgaW1hZ2U6ICdpbWcvZGl2ZS5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9kaXZlLm1wMycsXG4gICAgfSxcbiAgICB7XG4gICAgICB3b3JkOiAnZHJhdycsXG4gICAgICB0cmFuc2xhdGlvbjogJ9GA0LjRgdC+0LLQsNGC0YwnLFxuICAgICAgaW1hZ2U6ICdpbWcvZHJhdy5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9kcmF3Lm1wMycsXG4gICAgfSxcbiAgICB7XG4gICAgICB3b3JkOiAnZmlzaCcsXG4gICAgICB0cmFuc2xhdGlvbjogJ9C70L7QstC40YLRjCDRgNGL0LHRgycsXG4gICAgICBpbWFnZTogJ2ltZy9maXNoLmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL2Zpc2gubXAzJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHdvcmQ6ICdmbHknLFxuICAgICAgdHJhbnNsYXRpb246ICfQu9C10YLQsNGC0YwnLFxuICAgICAgaW1hZ2U6ICdpbWcvZmx5LmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL2ZseS5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ2h1ZycsXG4gICAgICB0cmFuc2xhdGlvbjogJ9C+0LHQvdC40LzQsNGC0YwnLFxuICAgICAgaW1hZ2U6ICdpbWcvaHVnLmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL2h1Zy5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ2p1bXAnLFxuICAgICAgdHJhbnNsYXRpb246ICfQv9GA0YvQs9Cw0YLRjCcsXG4gICAgICBpbWFnZTogJ2ltZy9qdW1wLmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL2p1bXAubXAzJyxcbiAgICB9LFxuICBdLFxuICAnQWN0aW9uIChzZXQgQiknOiBbXG4gICAge1xuICAgICAgd29yZDogJ29wZW4nLFxuICAgICAgdHJhbnNsYXRpb246ICfQvtGC0LrRgNGL0LLQsNGC0YwnLFxuICAgICAgaW1hZ2U6ICdpbWcvb3Blbi5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9vcGVuLm1wMycsXG4gICAgfSxcbiAgICB7XG4gICAgICB3b3JkOiAncGxheScsXG4gICAgICB0cmFuc2xhdGlvbjogJ9C40LPRgNCw0YLRjCcsXG4gICAgICBpbWFnZTogJ2ltZy9wbGF5LmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL3BsYXkubXAzJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHdvcmQ6ICdwb2ludCcsXG4gICAgICB0cmFuc2xhdGlvbjogJ9GD0LrQsNC30YvQstCw0YLRjCcsXG4gICAgICBpbWFnZTogJ2ltZy9wb2ludC5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9wb2ludC5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ3JpZGUnLFxuICAgICAgdHJhbnNsYXRpb246ICfQtdC30LTQuNGC0YwnLFxuICAgICAgaW1hZ2U6ICdpbWcvcmlkZS5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9yaWRlLm1wMycsXG4gICAgfSxcbiAgICB7XG4gICAgICB3b3JkOiAncnVuJyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0LHQtdCz0LDRgtGMJyxcbiAgICAgIGltYWdlOiAnaW1nL3J1bi5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9ydW4ubXAzJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHdvcmQ6ICdzaW5nJyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0L/QtdGC0YwnLFxuICAgICAgaW1hZ2U6ICdpbWcvc2luZy5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9zaW5nLm1wMycsXG4gICAgfSxcbiAgICB7XG4gICAgICB3b3JkOiAnc2tpcCcsXG4gICAgICB0cmFuc2xhdGlvbjogJ9C/0YDQvtC/0YPRgdC60LDRgtGMLCDQv9GA0YvQs9Cw0YLRjCcsXG4gICAgICBpbWFnZTogJ2ltZy9za2lwLmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL3NraXAubXAzJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHdvcmQ6ICdzd2ltJyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0L/Qu9Cw0LLQsNGC0YwnLFxuICAgICAgaW1hZ2U6ICdpbWcvc3dpbS5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9zd2ltLm1wMycsXG4gICAgfSxcbiAgXSxcbiAgJ0FuaW1hbCAoc2V0IEEpJzogW1xuICAgIHtcbiAgICAgIHdvcmQ6ICdjYXQnLFxuICAgICAgdHJhbnNsYXRpb246ICfQutC+0YInLFxuICAgICAgaW1hZ2U6ICdpbWcvY2F0LmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL2NhdC5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ2NoaWNrJyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0YbRi9C/0LvRkdC90L7QuicsXG4gICAgICBpbWFnZTogJ2ltZy9jaGljay5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9jaGljay5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ2NoaWNrZW4nLFxuICAgICAgdHJhbnNsYXRpb246ICfQutGD0YDQuNGG0LAnLFxuICAgICAgaW1hZ2U6ICdpbWcvY2hpY2tlbi5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9jaGlja2VuLm1wMycsXG4gICAgfSxcbiAgICB7XG4gICAgICB3b3JkOiAnZG9nJyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0YHQvtCx0LDQutCwJyxcbiAgICAgIGltYWdlOiAnaW1nL2RvZy5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9kb2cubXAzJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHdvcmQ6ICdob3JzZScsXG4gICAgICB0cmFuc2xhdGlvbjogJ9C70L7RiNCw0LTRjCcsXG4gICAgICBpbWFnZTogJ2ltZy9ob3JzZS5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9ob3JzZS5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ3BpZycsXG4gICAgICB0cmFuc2xhdGlvbjogJ9GB0LLQuNC90YzRjycsXG4gICAgICBpbWFnZTogJ2ltZy9waWcuanBnJyxcbiAgICAgIGF1ZGlvU3JjOiAnYXVkaW8vcGlnLm1wMycsXG4gICAgfSxcbiAgICB7XG4gICAgICB3b3JkOiAncmFiYml0JyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0LrRgNC+0LvQuNC6JyxcbiAgICAgIGltYWdlOiAnaW1nL3JhYmJpdC5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9yYWJiaXQubXAzJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHdvcmQ6ICdzaGVlcCcsXG4gICAgICB0cmFuc2xhdGlvbjogJ9C+0LLRhtCwJyxcbiAgICAgIGltYWdlOiAnaW1nL3NoZWVwLmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL3NoZWVwLm1wMycsXG4gICAgfSxcbiAgXSxcbiAgJ0FuaW1hbCAoc2V0IEIpJzogW1xuICAgIHtcbiAgICAgIHdvcmQ6ICdiaXJkJyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0L/RgtC40YbQsCcsXG4gICAgICBpbWFnZTogJ2ltZy9iaXJkLmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL2JpcmQubXAzJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHdvcmQ6ICdmaXNoJyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0YDRi9Cx0LAnLFxuICAgICAgaW1hZ2U6ICdpbWcvZmlzaDEuanBnJyxcbiAgICAgIGF1ZGlvU3JjOiAnYXVkaW8vZmlzaC5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ2Zyb2cnLFxuICAgICAgdHJhbnNsYXRpb246ICfQttCw0LHQsCcsXG4gICAgICBpbWFnZTogJ2ltZy9mcm9nLmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL2Zyb2cubXAzJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHdvcmQ6ICdnaXJhZmZlJyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0LbQuNGA0LDRhNCwJyxcbiAgICAgIGltYWdlOiAnaW1nL2dpcmFmZmUuanBnJyxcbiAgICAgIGF1ZGlvU3JjOiAnYXVkaW8vZ2lyYWZmZS5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ2xpb24nLFxuICAgICAgdHJhbnNsYXRpb246ICfQu9C10LInLFxuICAgICAgaW1hZ2U6ICdpbWcvbGlvbi5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9saW9uLm1wMycsXG4gICAgfSxcbiAgICB7XG4gICAgICB3b3JkOiAnbW91c2UnLFxuICAgICAgdHJhbnNsYXRpb246ICfQvNGL0YjRjCcsXG4gICAgICBpbWFnZTogJ2ltZy9tb3VzZS5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9tb3VzZS5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ3R1cnRsZScsXG4gICAgICB0cmFuc2xhdGlvbjogJ9GH0LXRgNC10L/QsNGF0LAnLFxuICAgICAgaW1hZ2U6ICdpbWcvdHVydGxlLmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL3R1cnRsZS5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ2RvbHBoaW4nLFxuICAgICAgdHJhbnNsYXRpb246ICfQtNC10LvRjNGE0LjQvScsXG4gICAgICBpbWFnZTogJ2ltZy9kb2xwaGluLmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL2RvbHBoaW4ubXAzJyxcbiAgICB9LFxuICBdLFxuICBDbG90aGVzOiBbXG4gICAge1xuICAgICAgd29yZDogJ3NraXJ0JyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0Y7QsdC60LAnLFxuICAgICAgaW1hZ2U6ICdpbWcvc2tpcnQuanBnJyxcbiAgICAgIGF1ZGlvU3JjOiAnYXVkaW8vc2tpcnQubXAzJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHdvcmQ6ICdwYW50cycsXG4gICAgICB0cmFuc2xhdGlvbjogJ9Cx0YDRjtC60LgnLFxuICAgICAgaW1hZ2U6ICdpbWcvcGFudHMuanBnJyxcbiAgICAgIGF1ZGlvU3JjOiAnYXVkaW8vcGFudHMubXAzJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHdvcmQ6ICdibG91c2UnLFxuICAgICAgdHJhbnNsYXRpb246ICfQsdC70YPQt9C60LAnLFxuICAgICAgaW1hZ2U6ICdpbWcvYmxvdXNlLmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL2Jsb3VzZS5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ2RyZXNzJyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0L/Qu9Cw0YLRjNC1JyxcbiAgICAgIGltYWdlOiAnaW1nL2RyZXNzLmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL2RyZXNzLm1wMycsXG4gICAgfSxcbiAgICB7XG4gICAgICB3b3JkOiAnYm9vdCcsXG4gICAgICB0cmFuc2xhdGlvbjogJ9Cx0L7RgtC40L3QvtC6JyxcbiAgICAgIGltYWdlOiAnaW1nL2Jvb3QuanBnJyxcbiAgICAgIGF1ZGlvU3JjOiAnYXVkaW8vYm9vdC5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ3NoaXJ0JyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0YDRg9Cx0LDRiNC60LAnLFxuICAgICAgaW1hZ2U6ICdpbWcvc2hpcnQuanBnJyxcbiAgICAgIGF1ZGlvU3JjOiAnYXVkaW8vc2hpcnQubXAzJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHdvcmQ6ICdjb2F0JyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0L/QsNC70YzRgtC+JyxcbiAgICAgIGltYWdlOiAnaW1nL2NvYXQuanBnJyxcbiAgICAgIGF1ZGlvU3JjOiAnYXVkaW8vY29hdC5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ3Nob2UnLFxuICAgICAgdHJhbnNsYXRpb246ICfRgtGD0YTQu9C4JyxcbiAgICAgIGltYWdlOiAnaW1nL3Nob2UuanBnJyxcbiAgICAgIGF1ZGlvU3JjOiAnYXVkaW8vc2hvZS5tcDMnLFxuICAgIH0sXG4gIF0sXG4gIEVtb3Rpb25zOiBbXG4gICAge1xuICAgICAgd29yZDogJ3NhZCcsXG4gICAgICB0cmFuc2xhdGlvbjogJ9Cz0YDRg9GB0YLQvdGL0LknLFxuICAgICAgaW1hZ2U6ICdpbWcvc2FkLmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL3NhZC5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ2FuZ3J5JyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0YHQtdGA0LTQuNGC0YvQuScsXG4gICAgICBpbWFnZTogJ2ltZy9hbmdyeS5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9hbmdyeS5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ2hhcHB5JyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0YHRh9Cw0YHRgtC70LjQstGL0LknLFxuICAgICAgaW1hZ2U6ICdpbWcvaGFwcHkuanBnJyxcbiAgICAgIGF1ZGlvU3JjOiAnYXVkaW8vaGFwcHkubXAzJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHdvcmQ6ICd0aXJlZCcsXG4gICAgICB0cmFuc2xhdGlvbjogJ9GD0YHRgtCw0LLRiNC40LknLFxuICAgICAgaW1hZ2U6ICdpbWcvdGlyZWQuanBnJyxcbiAgICAgIGF1ZGlvU3JjOiAnYXVkaW8vdGlyZWQubXAzJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIHdvcmQ6ICdzdXJwcmlzZWQnLFxuICAgICAgdHJhbnNsYXRpb246ICfRg9C00LjQstC70ZHQvdC90YvQuScsXG4gICAgICBpbWFnZTogJ2ltZy9zdXJwcmlzZWQuanBnJyxcbiAgICAgIGF1ZGlvU3JjOiAnYXVkaW8vc3VycHJpc2VkLm1wMycsXG4gICAgfSxcbiAgICB7XG4gICAgICB3b3JkOiAnc2NhcmVkJyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0LjRgdC/0YPQs9Cw0L3QvdGL0LknLFxuICAgICAgaW1hZ2U6ICdpbWcvc2NhcmVkLmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL3NjYXJlZC5tcDMnLFxuICAgIH0sXG4gICAge1xuICAgICAgd29yZDogJ3NtaWxlJyxcbiAgICAgIHRyYW5zbGF0aW9uOiAn0YPQu9GL0LHQutCwJyxcbiAgICAgIGltYWdlOiAnaW1nL3NtaWxlLmpwZycsXG4gICAgICBhdWRpb1NyYzogJ2F1ZGlvL3NtaWxlLm1wMycsXG4gICAgfSxcbiAgICB7XG4gICAgICB3b3JkOiAnbGF1Z2gnLFxuICAgICAgdHJhbnNsYXRpb246ICfRgdC80LXRhScsXG4gICAgICBpbWFnZTogJ2ltZy9sYXVnaC5qcGcnLFxuICAgICAgYXVkaW9TcmM6ICdhdWRpby9sYXVnaC5tcDMnLFxuICAgIH0sXG4gIF0sXG59O1xuIiwiaW1wb3J0IGNyZWF0ZSBmcm9tICcuLi91dGlscy9jcmVhdGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMZWZ0TWVudSB7XG4gIGNvbnN0cnVjdG9yKGNhdGVnb3JpZXMpIHtcbiAgICB0aGlzLmNhdGVnb3JpZXMgPSBjYXRlZ29yaWVzO1xuICAgIHRoaXMubWVudSA9IG51bGw7XG4gICAgdGhpcy5tZW51Q29udGFpbmVyID0gbnVsbDtcbiAgICB0aGlzLmNyZWF0ZUh0bWxDb250YWluZXIoKTtcbiAgICB0aGlzLmNyZWF0ZU1lbnUoKTtcbiAgfVxuXG4gIHRvZ2dsZU1lbnUoKSB7XG4gICAgY29uc3QgbWVudUNsYXNzZXMgPSB0aGlzLm1lbnUuY2xhc3NMaXN0O1xuICAgIGlmIChtZW51Q2xhc3Nlcy5jb250YWlucygnY2xvc2VkJykpIHtcbiAgICAgIHRoaXMubWVudS5jbGFzc0xpc3QucmVtb3ZlKCdjbG9zZWQnKTtcbiAgICAgIHRoaXMubWVudS5jbGFzc0xpc3QuYWRkKCdvcGVuZWQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tZW51LmNsYXNzTGlzdC5yZW1vdmUoJ29wZW5lZCcpO1xuICAgICAgdGhpcy5tZW51LmNsYXNzTGlzdC5hZGQoJ2Nsb3NlZCcpO1xuICAgIH1cbiAgfVxuXG4gIGNyZWF0ZUh0bWxDb250YWluZXIoKSB7XG4gICAgdGhpcy5tZW51ID0gY3JlYXRlKCduYXYnLCAnbGVmdC1tZW51IGNsb3NlZCcpO1xuICAgIHRoaXMubWVudUNvbnRhaW5lciA9IGNyZWF0ZSgndWwnLCAnbGVmdC1tZW51JywgbnVsbCwgdGhpcy5tZW51KTtcbiAgfVxuXG4gIGNyZWF0ZU1lbnUoKSB7XG4gICAgdGhpcy5jYXRlZ29yaWVzLmZvckVhY2goKGNhdGVnb3J5KSA9PiB7XG4gICAgICBjb25zdCBsaUVsZW1lbnQgPSBjcmVhdGUoJ2xpJywgJ21lbnUtbGluaycsIG51bGwsIHRoaXMubWVudUNvbnRhaW5lcik7XG4gICAgICBsaUVsZW1lbnQudGV4dENvbnRlbnQgPSBjYXRlZ29yeTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IGNyZWF0ZSBmcm9tICcuLi91dGlscy9jcmVhdGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIZWFkZXIge1xuICBjb25zdHJ1Y3RvcihtZW51SGFuZGxlcikge1xuICAgIHRoaXMuaGVhZGVyID0gY3JlYXRlKCdoZWFkZXInLCAnaGVhZGVyJyk7XG4gICAgdGhpcy5oZWFkZXJDb250YWluZXIgPSBjcmVhdGUoJ2RpdicsICdjb250YWluZXInLCBudWxsLCB0aGlzLmhlYWRlcik7XG4gICAgdGhpcy5jcmVhdGVCdXJnZXJNZW51KCk7XG4gICAgdGhpcy5jcmVhdGVOYW1lKCk7XG4gICAgdGhpcy5jcmVhdGVTd2l0Y2goKTtcbiAgICBpZiAobWVudUhhbmRsZXIpIHtcbiAgICAgIHRoaXMuYnVyZ2VyQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbWVudUhhbmRsZXIpO1xuICAgICAgdGhpcy5idXJnZXJDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmJ1cmdlckNvbnRhaW5lci5jbGFzc0xpc3QudG9nZ2xlKCdidXJnZXJfX2FjdGl2ZScpKTtcbiAgICB9XG4gIH1cblxuICBjcmVhdGVCdXJnZXJNZW51KCkge1xuICAgIHRoaXMuYnVyZ2VyQ29udGFpbmVyID0gY3JlYXRlKCdkaXYnLCAnYnVyZ2VyJywgbnVsbCwgdGhpcy5oZWFkZXJDb250YWluZXIpO1xuICAgIGNyZWF0ZSgnZGl2JywgJ2JhcjEnLCBudWxsLCB0aGlzLmJ1cmdlckNvbnRhaW5lcik7XG4gICAgY3JlYXRlKCdkaXYnLCAnYmFyMicsIG51bGwsIHRoaXMuYnVyZ2VyQ29udGFpbmVyKTtcbiAgICBjcmVhdGUoJ2RpdicsICdiYXIzJywgbnVsbCwgdGhpcy5idXJnZXJDb250YWluZXIpO1xuICB9XG5cbiAgY3JlYXRlTmFtZSgpIHtcbiAgICBjb25zdCBoMSA9IGNyZWF0ZSgnaDEnLCAnJywgbnVsbCwgdGhpcy5oZWFkZXJDb250YWluZXIpO1xuICAgIGgxLnRleHRDb250ZW50ID0gJ2VuZ2xpc2ggZm9yIGtpZHMnO1xuICB9XG5cbiAgY3JlYXRlU3dpdGNoKCkge1xuICAgIHRoaXMuc3dpdGNoID0gY3JlYXRlKCdpbnB1dCcsICcnLCBudWxsLCB0aGlzLmhlYWRlckNvbnRhaW5lciwgWyd0eXBlJywgJ2NoZWNrYm94J10sIFsnaWQnLCAnbG9sLWNoZWNrYm94J10pO1xuICAgIHRoaXMuYnV0dG9uID0gY3JlYXRlKCdsYWJlbCcsICcnLCBudWxsLCB0aGlzLmhlYWRlckNvbnRhaW5lciwgWydmb3InLCAnbG9sLWNoZWNrYm94J10sIFsnaWQnLCAnYnV0dG9uJ10pO1xuICAgIGNyZWF0ZSgnZGl2JywgJycsIG51bGwsIHRoaXMuYnV0dG9uLCBbJ2lkJywgJ2tub2InXSk7XG4gICAgY29uc3QgcGxheSA9IGNyZWF0ZSgnZGl2JywgJycsIG51bGwsIHRoaXMuYnV0dG9uLCBbJ2lkJywgJ3BsYXknXSk7XG4gICAgcGxheS50ZXh0Q29udGVudCA9ICdQbGF5JztcbiAgICBjb25zdCB0cmFpbiA9IGNyZWF0ZSgnZGl2JywgJycsIG51bGwsIHRoaXMuYnV0dG9uLCBbJ2lkJywgJ3RyYWluJ10pO1xuICAgIHRyYWluLnRleHRDb250ZW50ID0gJ1RyYWluJztcbiAgfVxufVxuIiwiaW1wb3J0IGNyZWF0ZSBmcm9tICcuLi91dGlscy9jcmVhdGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb290ZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmZvb3RlciA9IGNyZWF0ZSgnZm9vdGVyJywgJ2Zvb3RlcicpO1xuICAgIHRoaXMuZm9vdGVyQ29udGFpbmVyID0gY3JlYXRlKCdkaXYnLCAnY29udGFpbmVyJywgbnVsbCwgdGhpcy5mb290ZXIpO1xuICAgIHRoaXMudWwgPSBjcmVhdGUoJ3VsJywgJ2xpbmtzJywgbnVsbCwgdGhpcy5mb290ZXJDb250YWluZXIpO1xuICAgIHRoaXMuY3JlYXRlR2l0SHViKCk7XG4gICAgdGhpcy5jcmVhdGVZZWFyKCk7XG4gICAgdGhpcy5jcmVhdGVSU1MoKTtcbiAgfVxuXG4gIGNyZWF0ZUdpdEh1YigpIHtcbiAgICBjb25zdCBsaSA9IGNyZWF0ZSgnbGknLCAnbGluaycsIG51bGwsIHRoaXMudWwpO1xuICAgIGNvbnN0IGEgPSBjcmVhdGUoJ2EnLCAnJywgbnVsbCwgbGksIFsnaHJlZicsICdodHRwczovL2dpdGh1Yi5jb20vY2xhbmN5R3J1dmVyJ10pO1xuICAgIGNyZWF0ZSgnaW1nJywgJ2dpdGh1Yi1pbWcnLCBudWxsLCBhLCBbJ3NyYycsICcuL2Fzc2V0cy9pbWcvaWNvbm1vbnN0ci1naXRodWItMS5zdmcnXSwgWydhbHQnLCAnZ2l0aHViJ10pO1xuICB9XG5cbiAgY3JlYXRlWWVhcigpIHtcbiAgICBjb25zdCBsaSA9IGNyZWF0ZSgnbGknLCAnbGluaycsIG51bGwsIHRoaXMudWwpO1xuICAgIGNvbnN0IHN0cm9uZyA9IGNyZWF0ZSgnc3Ryb25nJywgJycsIG51bGwsIGxpKTtcbiAgICBzdHJvbmcudGV4dENvbnRlbnQgPSAnMjAyMCc7XG4gIH1cblxuICBjcmVhdGVSU1MoKSB7XG4gICAgY29uc3QgbGkgPSBjcmVhdGUoJ2xpJywgJ2xpbmsnLCBudWxsLCB0aGlzLnVsKTtcbiAgICBjb25zdCBhID0gY3JlYXRlKCdhJywgJycsIG51bGwsIGxpLCBbJ2hyZWYnLCAnaHR0cHM6Ly9ycy5zY2hvb2wvanMvJ10pO1xuICAgIGNyZWF0ZSgnaW1nJywgJ3Jzcy1pbWcnLCBudWxsLCBhLCBbJ3NyYycsICcuL2Fzc2V0cy9pbWcvcnNfc2Nob29sX2pzLnN2ZyddLCBbJ2FsdCcsICdycyBzY2hvb2wnXSk7XG4gIH1cbn1cbiIsImltcG9ydCBjcmVhdGUgZnJvbSAnLi4vdXRpbHMvY3JlYXRlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFpbkNvbnRlbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLm1haW4gPSBjcmVhdGUoJ21haW4nLCAnbWFpbicpO1xuICAgIHRoaXMubWFpbkNvbnRhaW5lciA9IGNyZWF0ZSgnZGl2JywgJ2NvbnRhaW5lcicsIG51bGwsIHRoaXMubWFpbik7XG4gIH1cblxuICBzZXQgY29udGVudCh2YWwpIHtcbiAgICB0aGlzLm1haW5Db250YWluZXIuaW5uZXJIdG1sID0gJyc7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgICAgdmFsLmZvckVhY2goKGVsKSA9PiB0aGlzLm1haW5Db250YWluZXIuYXBwZW5kKGVsKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubWFpbkNvbnRhaW5lci5hcHBlbmQodmFsKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IE1PREVTLCBQQUdFUyB9IGZyb20gJy4vY29uc3RhdG50cyc7XG5pbXBvcnQgY2FyZHMgZnJvbSAnLi9jYXJkcyc7XG5pbXBvcnQgTGVmdE1lbnUgZnJvbSAnLi9sYXlvdXRzL0xlZnRNZW51JztcbmltcG9ydCBIZWFkZXIgZnJvbSAnLi9sYXlvdXRzL0hlYWRlcic7XG5pbXBvcnQgRm9vdGVyIGZyb20gJy4vbGF5b3V0cy9Gb290ZXInO1xuaW1wb3J0IE1haW5Db250ZW50IGZyb20gJy4vbGF5b3V0cy9NYWluQ29udGVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwcCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubW9kZSA9IE1PREVTLlRSQUlOO1xuICAgIHRoaXMuY2FyZHMgPSBjYXJkcztcbiAgICB0aGlzLmxlZnRNZW51ID0gbmV3IExlZnRNZW51KE9iamVjdC5rZXlzKGNhcmRzKSk7XG4gICAgdGhpcy5nZXRDYXRlZ29yaWVzKCk7XG4gICAgdGhpcy5oZWFkZXIgPSBuZXcgSGVhZGVyKCgpID0+IHRoaXMubGVmdE1lbnUudG9nZ2xlTWVudSgpKTtcbiAgICB0aGlzLmZvb3RlciA9IG5ldyBGb290ZXIoKTtcbiAgICB0aGlzLm1haW4gPSBuZXcgTWFpbkNvbnRlbnQoKTtcbiAgICB0aGlzLlBhZ2UgPSBQQUdFUy5NQUlOO1xuICAgIHRoaXMuY3JlYXRlUGFnZSgpO1xuICAgIHRoaXMucmVuZGVyUGFnZSgpO1xuICB9XG5cbiAgZ2V0Q2F0ZWdvcmllcygpIHtcbiAgICB0aGlzLmNhdGVnb3JpZXMgPSBbXTtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoY2FyZHMpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY29uc3QgY2F0ZWdvcnlOYW1lID0ga2V5c1tpXTtcbiAgICAgIGNvbnN0IGNhdCA9IHtcbiAgICAgICAgaW1hZ2U6IGNhcmRzW2NhdGVnb3J5TmFtZV1bMF0uaW1hZ2UsXG4gICAgICAgIHdvcmQ6IGNhdGVnb3J5TmFtZSxcbiAgICAgIH07XG4gICAgICB0aGlzLmNhdGVnb3JpZXMucHVzaChjYXQpO1xuICAgIH1cbiAgfVxuXG4gIGNyZWF0ZVBhZ2UoKSB7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmQodGhpcy5oZWFkZXIuaGVhZGVyKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZCh0aGlzLmxlZnRNZW51Lm1lbnUpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHRoaXMubWFpbi5tYWluKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZCh0aGlzLmZvb3Rlci5mb290ZXIpO1xuICB9XG5cbiAgcmVuZGVyUGFnZSgpIHtcbiAgICBjb25zdCBwYWdlID0gbmV3IHRoaXMuUGFnZSgpO1xuICAgIGlmIChwYWdlLm5hbWUgPT09ICdtYWluIHBhZ2UnKSB7XG4gICAgICBwYWdlLmluaXQodGhpcy5jYXRlZ29yaWVzKTtcbiAgICB9XG4gICAgdGhpcy5tYWluLmNvbnRlbnQgPSBwYWdlLmNvbnRlbnQ7XG4gIH1cbn1cbiIsImltcG9ydCBBcHAgZnJvbSAnLi9BcHAnO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBjb25zdCBhcHAgPSBuZXcgQXBwKCk7XG59KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=