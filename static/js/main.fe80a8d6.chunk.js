(this["webpackJsonpcovid-19"]=this["webpackJsonpcovid-19"]||[]).push([[0],{11:function(e,t,a){e.exports={footer:"Footer_footer__2XthG",links:"Footer_links__1wRzy",link:"Footer_link__15swr",githubImg:"Footer_githubImg__1HzIs",rssImg:"Footer_rssImg__2xgJ9"}},14:function(e,t,a){e.exports={smallHeader:"Countries_smallHeader__1MACr",active:"Countries_active__1BmiE",mb6:"Countries_mb6__2GfO3",h80:"Countries_h80__1gXI6",overflow:"Countries_overflow__2TZC2"}},167:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a(1),n=a.n(s),o=a(25),i=a(7),c=a.n(i),l=a(15),u=a(2),p=a(3),h=a(8),d=a(5),m=a(4),f=a(38),j=a.n(f),b=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:"".concat(j.a.pl0," form-check form-switch d-flex flex-row-invert"),children:[Object(r.jsx)("label",{className:"form-check-label",children:this.props.description}),Object(r.jsx)("input",{className:"".concat(j.a.formCheckInputCustom," form-check-input"),type:"checkbox",checked:this.props.value,onChange:this.props.handleClick})]})}}]),a}(n.a.Component),v=a(58),y=a.n(v),C=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).handleSelect=r.handleSelect.bind(Object(h.a)(r)),r}return Object(p.a)(a,[{key:"handleSelect",value:function(e){var t=e.target.value;this.props.setShowingParam(t)}},{key:"createSelectOptions",value:function(){var e=this;return Object.keys(this.props.params).map((function(t){return Object(r.jsx)("option",{value:t,children:e.props.params[t]},t)}))}},{key:"render",value:function(){return Object(r.jsxs)("select",{value:this.props.selectedParam.appKey,className:"".concat(y.a.wa," form-select form-select-sm"),onChange:this.handleSelect,children:[Object(r.jsx)("option",{disabled:!0,children:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440"}),this.createSelectOptions()]})}}]),a}(n.a.Component),O=a.p+"static/media/icon.a7e866c1.png",g=a(39),x=a.n(g),w=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).state={name:"covid-19 dashboard"},r}return Object(p.a)(a,[{key:"formatDate",value:function(){var e=function(e){return 1*e<10?"0".concat(e):e},t=this.props.date,a=t.getUTCMonth()+1;return"".concat(t.getUTCFullYear(),"-").concat(e(a),"-").concat(e(t.getUTCDate()))}},{key:"render",value:function(){return Object(r.jsx)("header",{className:"".concat(x.a.headerCustom," header bg-light d-flex justify-content-center align-items-center"),children:Object(r.jsxs)("div",{className:"container row",children:[Object(r.jsxs)("div",{className:"name col",children:[Object(r.jsxs)("h2",{className:"text-uppercase",children:[Object(r.jsx)("img",{src:O,alt:"covid-19 dashboard icon",className:x.a.icon}),this.state.name]}),Object(r.jsxs)("h6",{children:["\u041f\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044e \u043d\u0430 ",this.formatDate()]})]}),Object(r.jsxs)("div",{className:"col d-flex flex-column align-items-end",children:[Object(r.jsx)(b,{handleClick:this.props.period.handleClick,value:this.props.period.value,description:this.props.period.description}),Object(r.jsx)(b,{handleClick:this.props.people.handleClick,value:this.props.people.value,description:this.props.people.description}),Object(r.jsx)(C,{params:this.props.params,setShowingParam:this.props.setShowingParam,selectedParam:this.props.selectedParam})]})]})})}}]),a}(n.a.Component),k=a(14),S=a.n(k),D=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"liClickHandler",value:function(e){var t=null;t=this.props.selectedCountry&&this.props.selectedCountry.Slug?this.props.selectedCountry.Slug:"",e.Slug!==t?this.props.updateCountry(e.Country):this.props.updateCountry("\u0412\u0435\u0441\u044c \u043c\u0438\u0440")}},{key:"createLi",value:function(){var e=this;return this.props.countries.map((function(t){var a="https://www.countryflags.io/".concat(t.CountryCode,"/flat/16.png"),s="".concat(t.Country," flag"),n=e.props.selectedCountry?e.props.selectedCountry.Slug:"none";return Object(r.jsx)("li",{className:"list-group-element ".concat(t.Slug===n?S.a.active:""),onClick:function(){return e.liClickHandler(t)},children:Object(r.jsxs)("h6",{className:S.a.smallHeader,children:[Object(r.jsx)("img",{src:a,alt:s}),t.Country,"\xa0",Object(r.jsx)("span",{className:"text-danger",children:e.props.per100?e.props.per100Fn(t.Country,t[e.props.selectedParam.dataKey]):t[e.props.selectedParam.dataKey]})]})},t.Slug)}))}},{key:"render",value:function(){return Object(r.jsx)("ul",{className:"".concat(S.a.overflow," list-group"),children:this.createLi()})}}]),a}(n.a.Component),N=a.p+"static/media/tofullscreen.cd04df6c.svg",P=a.p+"static/media/minimize.3a0d61f7.svg",_=a(40),F=a.n(_),V=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).state={isFullScreen:!1,rowElement:null,className:null},r}return Object(p.a)(a,[{key:"clickHandler",value:function(e){if(this.state.rowElement)this.changeClass();else{var t=null,a=null;e.target.closest(".col-2")?(t=e.target.closest(".col-2"),a="col-2"):e.target.closest(".col-6")?(t=e.target.closest(".col-6"),a="col-6"):e.target.closest(".row")&&(t=e.target.closest(".row"),a="row"),this.setState({rowElement:t,className:a},this.changeClass())}}},{key:"changeClass",value:function(){if(this.state.rowElement){this.state.rowElement.classList.toggle(this.state.className),this.state.className.startsWith("col")&&this.state.rowElement.classList.toggle("position-relative"),this.state.rowElement.classList.toggle("full-screen");var e=!this.state.isFullScreen;this.setState({isFullScreen:e})}}},{key:"render",value:function(){var e=this;return this.state.isFullScreen?Object(r.jsx)("img",{src:P,alt:"minimize screen",className:F.a.icon,onClick:function(t){return e.clickHandler(t)}}):Object(r.jsx)("img",{src:N,alt:"to full screen",className:F.a.icon,onClick:function(t){return e.clickHandler(t)}})}}]),a}(n.a.Component),T=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).state={searchString:""},r.searchHandler=r.searchHandler.bind(Object(h.a)(r)),r}return Object(p.a)(a,[{key:"sortData",value:function(){var e=this,t=this.props.selectedParam.dataKey,a=t||this.props.selectedParam.key;return this.props.data.sort((function(t,r){var s=e.props.per100?e.props.per100Fn(t.Country,t[a]):t[a];return(e.props.per100?e.props.per100Fn(r.Country,r[a]):r[a])-s})).filter((function(t){return t.Country.toLowerCase().includes(e.state.searchString)}))}},{key:"searchHandler",value:function(e){var t=e.target.value.toLowerCase();this.setState({searchString:t})}},{key:"render",value:function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(V,{}),Object(r.jsxs)("div",{className:S.a.h80,children:[Object(r.jsxs)("div",{className:"".concat(S.a.mb6," input-group"),children:[Object(r.jsx)("span",{className:"input-group-text",id:"Search",children:Object(r.jsx)("i",{className:"fas fa-search","aria-hidden":"true"})}),Object(r.jsx)("input",{className:"form-control",type:"text",placeholder:"Country","aria-label":"Country","aria-describedby":"Search",onChange:this.searchHandler,value:this.state.searchString})]}),Object(r.jsx)(D,{countries:this.sortData(),selectedCountry:this.props.selectedCountry,selectedParam:this.props.selectedParam,updateCountry:this.props.updateCountry,per100:this.props.per100,per100Fn:this.props.per100Fn})]})]})}}]),a}(n.a.Component),H=a(59),I=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e={labels:["Red","Blue","Yellow","Green","Purple","Orange"],datasets:[{label:this.props.label||"cases",data:this.props.values,backgroundColor:"rgba(253, 86, 2, 0.9)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:0}]};return Object(r.jsxs)("div",{children:[Object(r.jsx)(V,{}),Object(r.jsx)(H.Bar,{data:e,options:{scales:{yAxes:[{ticks:{beginAtZero:!0,callback:function(e,t,a){return e<1e3?e:e<1e5?"".concat(e/1e3,"K"):"".concat(e/1e6,"M")}}}],xAxes:[{type:"time",time:{unit:"day",displayFormats:{week:"ll"}},distribution:"series"}]}}})]})}}]),a}(n.a.Component),K=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).state={},r}return Object(p.a)(a,[{key:"statisticTable",value:function(){var e=this;if(this.props.statisticValues){var t="all"===this.props.period?"Total":"New",a=Object.keys(this.props.statisticValues).filter((function(e){return e.startsWith(t)})),s=a.map((function(e){return e.slice(t.length)})),n=a.map((function(t,a){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"col",children:e.props.params[s[a]]}),Object(r.jsx)("th",{scope:"col",children:e.props.statisticValues[t]})]},t)}));return Object(r.jsx)("table",{className:"table",children:Object(r.jsx)("tbody",{children:n})})}return Object(r.jsx)("h4",{children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"})}},{key:"render",value:function(){return Object(r.jsxs)("div",{className:"col",children:[Object(r.jsx)(V,{}),Object(r.jsxs)("h4",{children:["\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 ",this.props.country.Country||this.props.country]}),this.statisticTable()]})}}]),a}(n.a.Component),L=a(169),E=a(170),M=a(27),z=a(168),A=a(13),G=a.n(A),R=function(){var e=Object(z.a)();return Object(s.useEffect)((function(){var t=G.a.control({position:"bottomright"});t.onAdd=function(){for(var e,t,a,r=G.a.DomUtil.create("div","info legend"),s=[0,10,40,70,100],n=[],o=0;o<s.length-1;o++)e=s[o],t=s[o+1],n.push('<i style="background:'+((10===(a=t)?"#008500":40===a?"#FFFF00":70===a?"#FF9200":100===a?"#FF0000":void 0)+'"></i> ')+e+"&ndash;"+t+"%");return r.innerHTML=n.join("<br>"),r},t.addTo(e)}),[e]),null},B=(a(166),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).state={colors:{none:{color:"#4a83ec",weight:.5,fillColor:"#008500",fillOpacity:1},low:{color:"#4a83ec",weight:.5,fillColor:"#FFFF00",fillOpacity:1},medium:{color:"#4a83ec",weight:.5,fillColor:"#FF9200",fillOpacity:1},high:{color:"#4a83ec",weight:.5,fillColor:"#FF0000",fillOpacity:1}}},r}return Object(p.a)(a,[{key:"tooltipShow",value:function(e){var t=e.layer,a="\n      <h5>".concat(t.feature.properties.name,"</h5>\n      <h6>").concat(t.feature.properties.cases||""," ").concat(t.feature.properties.paramName||"","</h6>\n    ");t.bindTooltip(a).openTooltip(),t.feature.geometry.style={color:"black",weight:.5,fillColor:"red",fillOpacity:1}}},{key:"clickToFeature",value:function(e){var t=e.layer;this.props.updateCountry(t.feature.properties.name)}},{key:"mapHandlers",value:function(){var e=this;return{click:function(t){return e.clickToFeature(t)},mouseover:function(t){return e.tooltipShow(t)}}}},{key:"featureStyle",value:function(e){for(var t=["none","low","medium","high"],a=this.props.scaleValues,r=0;r<t.length;r++){var s=e.properties.cases,n=t[r],o=t[r-1];if(0===r&&s<a.none)return this.state.colors.none;if(r===t.length-1&&s>=a.high)return this.state.colors.high;if(a[o]>s&&s<=a[n])return this.state.colors[n]}return{color:"#4a83ec",weight:.5,fillColor:"#1a1d62",fillOpacity:1}}},{key:"getGeoJson",value:function(){var e=this,t={"United States":"United States of America","Czech Rep.":"Czech Republic","Bosnia and Herz.":"Bosnia and Herzegovina","W. Sahara":"Western Sahara","S. Sudan":"South Sudan","Central African Rep.":"Central African Republic","Eq. Guinea":"Equatorial Guinea","S\xe3o Tom\xe9 and Principe":"Sao Tome and Principe",Congo:"Congo (Brazzaville)","Dem. Rep. Congo":"Congo (Kinshasa)","Falkland Is.":"Falkland Islands (Malvinas)",Korea:"Korea (North)","Dem. Rep. Korea":"Korea (South)","Solomon Is.":"Solomon Islands"},a=Object.keys(t);return Array.isArray(this.props.markers)&&0!==this.props.markers.length?(M.a.features.forEach((function(r){var s=e.props.markers.find((function(e){var s=a.includes(r.properties.name)?t[r.properties.name]:r.properties.name,n=e.countrySlug.toLowerCase()===s.toLowerCase(),o=e.countryName.toLowerCase()===s.toLowerCase();return n||o}));s&&(r.properties.cases=s.value,r.properties.paramName=s.paramName)})),M.a):M.a}},{key:"render",value:function(){var e=this;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(V,{}),Object(r.jsxs)(L.a,{center:[51.505,-.09],zoom:0,style:{height:"100%",position:"relative",minHeight:"65vh",width:"100%"},children:[Object(r.jsx)(E.a,{data:this.getGeoJson(),style:function(t){return e.featureStyle(t)},eventHandlers:this.mapHandlers()},"_".concat(Math.random().toString(36).substr(2,9))),Object(r.jsx)(R,{})]})]})}}]),a}(n.a.Component)),W=a(11),J=a.n(W),U=a.p+"static/media/iconmonstr-github-1.04be58c1.svg",X=a.p+"static/media/rs_school_js.ad178c0d.svg",Z=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(r.jsx)("footer",{className:"".concat(J.a.footer," bg-light"),children:Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)("ul",{className:J.a.links,children:[Object(r.jsx)("li",{className:J.a.link,children:Object(r.jsx)("a",{href:"https://github.com/clancyGruver",children:Object(r.jsx)("img",{className:J.a.githubImg,src:U,alt:"github"})})}),Object(r.jsx)("li",{className:J.a.link,children:Object(r.jsx)("strong",{children:"2020"})}),Object(r.jsx)("li",{className:J.a.link,children:Object(r.jsx)("a",{href:"https://rs.school/js/",children:Object(r.jsx)("img",{className:J.a.rssImg,src:X,alt:"rs school"})})})]})})})}}]),a}(n.a.Component),q=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).state={url:"https://api.covid19api.com/",periods:{0:{name:"all",description:"\u0432\u0435\u0441\u044c \u043f\u0435\u0440\u0438\u043e\u0434"},1:{name:"lastDay",description:"\u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0434\u0435\u043d\u044c"}},currentPeriod:0,peopleValues:{0:{name:"abs",description:"\u0430\u0431\u0441\u043e\u043b\u044e\u0442\u043d\u044b\u0435 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438"},1:{name:"100",description:"\u043d\u0430 100 \u0442\u044b\u0441."}},currentPeopleValue:0,countries:[],covidData:null,country:"\u0412\u0435\u0441\u044c \u043c\u0438\u0440",statisticValues:null,population:null,selectedParam:{dataKey:"TotalConfirmed",appKey:"Confirmed",name:"\u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043e"},params:{Confirmed:"\u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043e",Deaths:"\u0443\u043c\u0435\u0440\u043b\u043e",Recovered:"\u0432\u044b\u0437\u0434\u043e\u0440\u043e\u0432\u0435\u043b\u043e"},peopleVal:"abs",date:new Date,graphValues:[],worldChartData:[],mapData:[],scaleValues:{none:0,low:0,medium:0,high:0}},r.updateCountry=r.updateCountry.bind(Object(h.a)(r)),r.setShowingParam=r.setShowingParam.bind(Object(h.a)(r)),r.peopleChange=r.peopleChange.bind(Object(h.a)(r)),r.periodChange=r.periodChange.bind(Object(h.a)(r)),r.per100=r.per100.bind(Object(h.a)(r)),r}return Object(p.a)(a,[{key:"peopleChange",value:function(){var e=this,t=Number(!Boolean(this.state.currentPeopleValue));this.setState({currentPeopleValue:t},(function(){return e.updateData()}))}},{key:"periodChange",value:function(){var e=this,t=Number(!Boolean(this.state.currentPeriod));this.setState({currentPeriod:t},(function(){e.setShowingParam(e.state.selectedParam.appKey),e.updateData()}))}},{key:"updateCountry",value:function(e){var t=this,a=this.state.countries.find((function(t){var a=t.Slug.toLowerCase()===e.toLowerCase(),r=t.Country.toLowerCase()===e.toLowerCase();return a||r}))||"\u0412\u0435\u0441\u044c \u043c\u0438\u0440";this.setState({country:a},(function(){return t.updateData()}))}},{key:"setShowingParam",value:function(e){var t=this,a="".concat(0===this.state.currentPeriod?"Total":"New").concat(e);this.setState({selectedParam:{dataKey:a,appKey:e,name:this.state.params[e]}},(function(){return t.updateData()}))}},{key:"updateData",value:function(){this.updateStatisticData(),this.updateChartData(),this.updateMapData()}},{key:"per100",value:function(e,t){var a=this.state.population.find((function(t){return t.name===e}));return(t/(a?a.population:7.8*Math.pow(10,9))*1e5).toFixed(2)}},{key:"getCaseValues",value:function(e){var t={none:0,low:0,medium:0,high:0},a=(e.max-e.min)/100;return t.none=Math.floor(e.min+10*a),t.low=Math.round(e.min+40*a),t.medium=Math.round(e.min+70*a),t.high=e.max,t}},{key:"updateMapData",value:function(){var e=this,t=this.state.countries,a={min:0,max:0},r=t.map((function(t){var r=t[e.state.selectedParam.dataKey];(r=1===e.state.currentPeopleValue?e.per100(t.Country,r):r)<a.min&&(a.min=r),r>a.max&&(a.max=r);var s={value:r,countryName:t.Country,countrySlug:t.Slug,paramName:e.state.selectedParam.name};return e.state.population.find((function(t){return t.name===e.state.country.Country})),s}));this.setState({mapData:r,scaleValues:this.getCaseValues(a)})}},{key:"updateChartData",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a,r,s,n,o,i,l=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,a=null,r=null,"object"!==typeof this.state.country){e.next=11;break}return e.next=6,this.loadCountryChartData(this.state.country.Slug);case 6:t=e.sent,a="Cases",r=function(e,t){return new Date(Date.parse(e.Date))-new Date(Date.parse(t.Date))},e.next=12;break;case 11:"string"===typeof this.state.country&&(t=JSON.parse(JSON.stringify(this.state.worldChartData)),a=this.state.selectedParam.dataKey,r=function(e,t){return e[a]-t[a]});case 12:s=null,n=null,1===this.state.currentPeopleValue&&(s=this.state.population.find((function(e){return e.name===l.state.country.Country})),n=s?s.population:7.8*Math.pow(10,9)),o=new Date(Date.parse(t[0].Date||t[0].date)),i=function(e){return(e/n*1e5).toFixed(2)},this.setState({graphValues:t.sort(r).map((function(e){var t={x:new Date(o.getTime()),y:0===l.state.currentPeopleValue?e[a]:i(e[a])};return o.setDate(o.getDate()+1),t}))});case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateStatisticData",value:function(){var e=this,t=null;if("object"===typeof this.state.country?t=this.state.countries.find((function(t){return t.CountryCode===e.state.country.CountryCode})):"string"===typeof this.state.country&&((t=this.state.summaryData.Global).Date=this.state.summaryData.Date),this.setState({date:new Date(t.Date)}),1===this.state.currentPeopleValue){var a=0===this.state.currentPeriod?"Total":"New",r=Object.keys(this.state.params),s={},n=this.state.country.Country;r.forEach((function(r){var o=t["".concat(a).concat(r)];s["".concat(a).concat(r)]=e.per100(n,o)})),this.setState({statisticValues:s})}else 0===this.state.currentPeopleValue&&this.setState({statisticValues:t})}},{key:"loadCountryChartData",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var a,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(this.state.url,"dayone/country/").concat(t,"/status/").concat(this.state.selectedParam.appKey.toLowerCase()),e.next=3,fetch(a,{mode:"cors"});case 3:return r=e.sent,e.next=6,r.json();case 6:if(s=e.sent,0!==this.state.currentPeriod){e.next=9;break}return e.abrupt("return",s);case 9:return e.abrupt("return",s.map((function(e,t){var a={Date:e.Date,Cases:e.Cases};return 0===t||(a.Cases=a.Cases-s[t-1].Cases),a})));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadPopulation",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://restcountries.eu/rest/v2/all?fields=name;population",e.next=3,fetch("https://restcountries.eu/rest/v2/all?fields=name;population",{mode:"cors"});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,this.setState({population:a});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadWorldData",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a,r,s,n,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"world",t=new Date,a=new Date(2020,3,14),r="".concat(this.state.url).concat("world","?from=").concat(a.toISOString(),"&to=").concat(t.toISOString()),e.next=6,fetch(r,{mode:"cors"});case 6:return s=e.sent,e.next=9,s.json();case 9:n=e.sent,o=a,i=this.state.selectedParam.dataKey,n=n.sort((function(e,t){return e[i]-t[i]})).map((function(e){return e.date=new Date(o.getTime()),o.setDate(o.getDate()+1),e})),this.setState({worldChartData:n,graphValues:n.map((function(e){return{x:e.date,y:e[i]}}))});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadSummary",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(this.state.url,"summary"),e.next=3,fetch(t,{mode:"cors"});case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,this.setState({summaryData:r,statisticValues:r.Global,countries:r.Countries,date:new Date(r.Date)});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadSummary();case 2:return e.next=4,this.loadPopulation();case 4:this.updateMapData(),this.loadWorldData();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e={handleClick:this.periodChange,value:this.state.currentPeriod,description:this.state.periods[this.state.currentPeriod].description},t={handleClick:this.peopleChange,value:this.state.currentPeopleValue,description:this.state.peopleValues[this.state.currentPeopleValue].description};return Object(r.jsxs)("div",{className:"container-fluid",children:[Object(r.jsx)("div",{className:"row",children:Object(r.jsx)(w,{date:this.state.date,period:e,people:t,params:this.state.params,selectedParam:this.state.selectedParam,setShowingParam:this.setShowingParam})}),Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-2 position-relative",children:Object(r.jsx)(T,{data:this.state.summaryData&&this.state.summaryData.Countries?this.state.summaryData.Countries:[{Country:"\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430",CountryCode:"AX",Slug:"ala-aland-islands",NewConfirmed:0,TotalConfirmed:0,NewDeaths:0,TotalDeaths:0,NewRecovered:0,TotalRecovered:0,Date:"2020-04-05T06:37:00Z"}],selectedCountry:this.state.country,selectedParam:this.state.selectedParam,updateCountry:this.updateCountry,per100:this.state.currentPeopleValue,per100Fn:this.per100})}),Object(r.jsx)("div",{className:"col-6 position-relative",children:Object(r.jsx)(B,{markers:this.state.mapData||this.state.countries,updateCountry:this.updateCountry,scaleValues:this.state.scaleValues})}),Object(r.jsxs)("div",{className:"col-4",children:[Object(r.jsx)("div",{className:"row",children:Object(r.jsx)(K,{country:this.state.country,statisticValues:this.state.statisticValues,params:this.state.params,period:this.state.periods[this.state.currentPeriod].name})}),Object(r.jsx)("div",{className:"row",children:Object(r.jsx)(I,{values:this.state.graphValues,label:this.state.selectedParam.name})})]})]}),Object(r.jsx)("div",{className:"row",children:Object(r.jsx)(Z,{})})]})}}]),a}(n.a.Component);Object(o.render)(Object(r.jsx)(q,{}),document.getElementById("root"))},38:function(e,t,a){e.exports={formCheckInputCustom:"Switch_formCheckInputCustom__scu-B",pl0:"Switch_pl0__2HSOW"}},39:function(e,t,a){e.exports={icon:"Header_icon__EIn6x",headerSwitchers:"Header_headerSwitchers__Tj9E_",headerCustom:"Header_headerCustom__23Fjh"}},40:function(e,t,a){e.exports={icon:"FullScreen_icon__2Wjxz"}},58:function(e,t,a){e.exports={wa:"ParamSelect_wa__1CoeG"}}},[[167,1,2]]]);
//# sourceMappingURL=main.fe80a8d6.chunk.js.map